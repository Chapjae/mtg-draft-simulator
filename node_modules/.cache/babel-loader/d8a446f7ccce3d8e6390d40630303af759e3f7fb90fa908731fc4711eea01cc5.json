{"ast":null,"code":"/*! Browser bundle of nunjucks 3.2.3  */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"nunjucks\"] = factory();else root[\"nunjucks\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/\n      var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/\n      function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/\n        };\n        /******/\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/\n        module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/\n      __webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/\n      __webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/\n          });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/\n      __webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ? /******/function getDefault() {\n          return module['default'];\n        } : /******/function getModuleExports() {\n          return module;\n        };\n        /******/\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n        return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/\n      __webpack_require__.p = \"\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/\n      return __webpack_require__(__webpack_require__.s = 11);\n      /******/\n    }\n    /************************************************************************/\n    /******/([/* 0 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var ArrayProto = Array.prototype;\n      var ObjProto = Object.prototype;\n      var escapeMap = {\n        '&': '&amp;',\n        '\"': '&quot;',\n        '\\'': '&#39;',\n        '<': '&lt;',\n        '>': '&gt;'\n      };\n      var escapeRegex = /[&\"'<>]/g;\n      var exports = module.exports = {};\n      function hasOwnProp(obj, k) {\n        return ObjProto.hasOwnProperty.call(obj, k);\n      }\n      exports.hasOwnProp = hasOwnProp;\n      function lookupEscape(ch) {\n        return escapeMap[ch];\n      }\n      function _prettifyError(path, withInternals, err) {\n        if (!err.Update) {\n          // not one of ours, cast it\n          err = new exports.TemplateError(err);\n        }\n        err.Update(path); // Unless they marked the dev flag, show them a trace from here\n\n        if (!withInternals) {\n          var old = err;\n          err = new Error(old.message);\n          err.name = old.name;\n        }\n        return err;\n      }\n      exports._prettifyError = _prettifyError;\n      function TemplateError(message, lineno, colno) {\n        var err;\n        var cause;\n        if (message instanceof Error) {\n          cause = message;\n          message = cause.name + \": \" + cause.message;\n        }\n        if (Object.setPrototypeOf) {\n          err = new Error(message);\n          Object.setPrototypeOf(err, TemplateError.prototype);\n        } else {\n          err = this;\n          Object.defineProperty(err, 'message', {\n            enumerable: false,\n            writable: true,\n            value: message\n          });\n        }\n        Object.defineProperty(err, 'name', {\n          value: 'Template render error'\n        });\n        if (Error.captureStackTrace) {\n          Error.captureStackTrace(err, this.constructor);\n        }\n        var getStack;\n        if (cause) {\n          var stackDescriptor = Object.getOwnPropertyDescriptor(cause, 'stack');\n          getStack = stackDescriptor && (stackDescriptor.get || function () {\n            return stackDescriptor.value;\n          });\n          if (!getStack) {\n            getStack = function getStack() {\n              return cause.stack;\n            };\n          }\n        } else {\n          var stack = new Error(message).stack;\n          getStack = function getStack() {\n            return stack;\n          };\n        }\n        Object.defineProperty(err, 'stack', {\n          get: function get() {\n            return getStack.call(err);\n          }\n        });\n        Object.defineProperty(err, 'cause', {\n          value: cause\n        });\n        err.lineno = lineno;\n        err.colno = colno;\n        err.firstUpdate = true;\n        err.Update = function Update(path) {\n          var msg = '(' + (path || 'unknown path') + ')'; // only show lineno + colno next to path of template\n          // where error occurred\n\n          if (this.firstUpdate) {\n            if (this.lineno && this.colno) {\n              msg += \" [Line \" + this.lineno + \", Column \" + this.colno + \"]\";\n            } else if (this.lineno) {\n              msg += \" [Line \" + this.lineno + \"]\";\n            }\n          }\n          msg += '\\n ';\n          if (this.firstUpdate) {\n            msg += ' ';\n          }\n          this.message = msg + (this.message || '');\n          this.firstUpdate = false;\n          return this;\n        };\n        return err;\n      }\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(TemplateError.prototype, Error.prototype);\n      } else {\n        TemplateError.prototype = Object.create(Error.prototype, {\n          constructor: {\n            value: TemplateError\n          }\n        });\n      }\n      exports.TemplateError = TemplateError;\n      function escape(val) {\n        return val.replace(escapeRegex, lookupEscape);\n      }\n      exports.escape = escape;\n      function isFunction(obj) {\n        return ObjProto.toString.call(obj) === '[object Function]';\n      }\n      exports.isFunction = isFunction;\n      function isArray(obj) {\n        return ObjProto.toString.call(obj) === '[object Array]';\n      }\n      exports.isArray = isArray;\n      function isString(obj) {\n        return ObjProto.toString.call(obj) === '[object String]';\n      }\n      exports.isString = isString;\n      function isObject(obj) {\n        return ObjProto.toString.call(obj) === '[object Object]';\n      }\n      exports.isObject = isObject;\n      /**\n       * @param {string|number} attr\n       * @returns {(string|number)[]}\n       * @private\n       */\n\n      function _prepareAttributeParts(attr) {\n        if (!attr) {\n          return [];\n        }\n        if (typeof attr === 'string') {\n          return attr.split('.');\n        }\n        return [attr];\n      }\n      /**\n       * @param {string}   attribute      Attribute value. Dots allowed.\n       * @returns {function(Object): *}\n       */\n\n      function getAttrGetter(attribute) {\n        var parts = _prepareAttributeParts(attribute);\n        return function attrGetter(item) {\n          var _item = item;\n          for (var i = 0; i < parts.length; i++) {\n            var part = parts[i]; // If item is not an object, and we still got parts to handle, it means\n            // that something goes wrong. Just roll out to undefined in that case.\n\n            if (hasOwnProp(_item, part)) {\n              _item = _item[part];\n            } else {\n              return undefined;\n            }\n          }\n          return _item;\n        };\n      }\n      exports.getAttrGetter = getAttrGetter;\n      function groupBy(obj, val, throwOnUndefined) {\n        var result = {};\n        var iterator = isFunction(val) ? val : getAttrGetter(val);\n        for (var i = 0; i < obj.length; i++) {\n          var value = obj[i];\n          var key = iterator(value, i);\n          if (key === undefined && throwOnUndefined === true) {\n            throw new TypeError(\"groupby: attribute \\\"\" + val + \"\\\" resolved to undefined\");\n          }\n          (result[key] || (result[key] = [])).push(value);\n        }\n        return result;\n      }\n      exports.groupBy = groupBy;\n      function toArray(obj) {\n        return Array.prototype.slice.call(obj);\n      }\n      exports.toArray = toArray;\n      function without(array) {\n        var result = [];\n        if (!array) {\n          return result;\n        }\n        var length = array.length;\n        var contains = toArray(arguments).slice(1);\n        var index = -1;\n        while (++index < length) {\n          if (indexOf(contains, array[index]) === -1) {\n            result.push(array[index]);\n          }\n        }\n        return result;\n      }\n      exports.without = without;\n      function repeat(char_, n) {\n        var str = '';\n        for (var i = 0; i < n; i++) {\n          str += char_;\n        }\n        return str;\n      }\n      exports.repeat = repeat;\n      function each(obj, func, context) {\n        if (obj == null) {\n          return;\n        }\n        if (ArrayProto.forEach && obj.forEach === ArrayProto.forEach) {\n          obj.forEach(func, context);\n        } else if (obj.length === +obj.length) {\n          for (var i = 0, l = obj.length; i < l; i++) {\n            func.call(context, obj[i], i, obj);\n          }\n        }\n      }\n      exports.each = each;\n      function map(obj, func) {\n        var results = [];\n        if (obj == null) {\n          return results;\n        }\n        if (ArrayProto.map && obj.map === ArrayProto.map) {\n          return obj.map(func);\n        }\n        for (var i = 0; i < obj.length; i++) {\n          results[results.length] = func(obj[i], i);\n        }\n        if (obj.length === +obj.length) {\n          results.length = obj.length;\n        }\n        return results;\n      }\n      exports.map = map;\n      function asyncIter(arr, iter, cb) {\n        var i = -1;\n        function next() {\n          i++;\n          if (i < arr.length) {\n            iter(arr[i], i, next, cb);\n          } else {\n            cb();\n          }\n        }\n        next();\n      }\n      exports.asyncIter = asyncIter;\n      function asyncFor(obj, iter, cb) {\n        var keys = keys_(obj || {});\n        var len = keys.length;\n        var i = -1;\n        function next() {\n          i++;\n          var k = keys[i];\n          if (i < len) {\n            iter(k, obj[k], i, len, next);\n          } else {\n            cb();\n          }\n        }\n        next();\n      }\n      exports.asyncFor = asyncFor;\n      function indexOf(arr, searchElement, fromIndex) {\n        return Array.prototype.indexOf.call(arr || [], searchElement, fromIndex);\n      }\n      exports.indexOf = indexOf;\n      function keys_(obj) {\n        /* eslint-disable no-restricted-syntax */\n        var arr = [];\n        for (var k in obj) {\n          if (hasOwnProp(obj, k)) {\n            arr.push(k);\n          }\n        }\n        return arr;\n      }\n      exports.keys = keys_;\n      function _entries(obj) {\n        return keys_(obj).map(function (k) {\n          return [k, obj[k]];\n        });\n      }\n      exports._entries = _entries;\n      function _values(obj) {\n        return keys_(obj).map(function (k) {\n          return obj[k];\n        });\n      }\n      exports._values = _values;\n      function extend(obj1, obj2) {\n        obj1 = obj1 || {};\n        keys_(obj2).forEach(function (k) {\n          obj1[k] = obj2[k];\n        });\n        return obj1;\n      }\n      exports._assign = exports.extend = extend;\n      function inOperator(key, val) {\n        if (isArray(val) || isString(val)) {\n          return val.indexOf(key) !== -1;\n        } else if (isObject(val)) {\n          return key in val;\n        }\n        throw new Error('Cannot use \"in\" operator to search for \"' + key + '\" in unexpected types.');\n      }\n      exports.inOperator = inOperator;\n\n      /***/\n    }, /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      // A simple class system, more documentation to come\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var EventEmitter = __webpack_require__(16);\n      var lib = __webpack_require__(0);\n      function parentWrap(parent, prop) {\n        if (typeof parent !== 'function' || typeof prop !== 'function') {\n          return prop;\n        }\n        return function wrap() {\n          // Save the current parent method\n          var tmp = this.parent; // Set parent to the previous method, call, and restore\n\n          this.parent = parent;\n          var res = prop.apply(this, arguments);\n          this.parent = tmp;\n          return res;\n        };\n      }\n      function extendClass(cls, name, props) {\n        props = props || {};\n        lib.keys(props).forEach(function (k) {\n          props[k] = parentWrap(cls.prototype[k], props[k]);\n        });\n        var subclass = /*#__PURE__*/function (_cls) {\n          _inheritsLoose(subclass, _cls);\n          function subclass() {\n            return _cls.apply(this, arguments) || this;\n          }\n          _createClass(subclass, [{\n            key: \"typename\",\n            get: function get() {\n              return name;\n            }\n          }]);\n          return subclass;\n        }(cls);\n        lib._assign(subclass.prototype, props);\n        return subclass;\n      }\n      var Obj = /*#__PURE__*/function () {\n        function Obj() {\n          // Unfortunately necessary for backwards compatibility\n          this.init.apply(this, arguments);\n        }\n        var _proto = Obj.prototype;\n        _proto.init = function init() {};\n        Obj.extend = function extend(name, props) {\n          if (typeof name === 'object') {\n            props = name;\n            name = 'anonymous';\n          }\n          return extendClass(this, name, props);\n        };\n        _createClass(Obj, [{\n          key: \"typename\",\n          get: function get() {\n            return this.constructor.name;\n          }\n        }]);\n        return Obj;\n      }();\n      var EmitterObj = /*#__PURE__*/function (_EventEmitter) {\n        _inheritsLoose(EmitterObj, _EventEmitter);\n        function EmitterObj() {\n          var _this2;\n          var _this;\n          _this = _EventEmitter.call(this) || this; // Unfortunately necessary for backwards compatibility\n\n          (_this2 = _this).init.apply(_this2, arguments);\n          return _this;\n        }\n        var _proto2 = EmitterObj.prototype;\n        _proto2.init = function init() {};\n        EmitterObj.extend = function extend(name, props) {\n          if (typeof name === 'object') {\n            props = name;\n            name = 'anonymous';\n          }\n          return extendClass(this, name, props);\n        };\n        _createClass(EmitterObj, [{\n          key: \"typename\",\n          get: function get() {\n            return this.constructor.name;\n          }\n        }]);\n        return EmitterObj;\n      }(EventEmitter);\n      module.exports = {\n        Obj: Obj,\n        EmitterObj: EmitterObj\n      };\n\n      /***/\n    }, /* 2 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var lib = __webpack_require__(0);\n      var arrayFrom = Array.from;\n      var supportsIterators = typeof Symbol === 'function' && Symbol.iterator && typeof arrayFrom === 'function'; // Frames keep track of scoping both at compile-time and run-time so\n      // we know how to access variables. Block tags can introduce special\n      // variables, for example.\n\n      var Frame = /*#__PURE__*/function () {\n        function Frame(parent, isolateWrites) {\n          this.variables = Object.create(null);\n          this.parent = parent;\n          this.topLevel = false; // if this is true, writes (set) should never propagate upwards past\n          // this frame to its parent (though reads may).\n\n          this.isolateWrites = isolateWrites;\n        }\n        var _proto = Frame.prototype;\n        _proto.set = function set(name, val, resolveUp) {\n          // Allow variables with dots by automatically creating the\n          // nested structure\n          var parts = name.split('.');\n          var obj = this.variables;\n          var frame = this;\n          if (resolveUp) {\n            if (frame = this.resolve(parts[0], true)) {\n              frame.set(name, val);\n              return;\n            }\n          }\n          for (var i = 0; i < parts.length - 1; i++) {\n            var id = parts[i];\n            if (!obj[id]) {\n              obj[id] = {};\n            }\n            obj = obj[id];\n          }\n          obj[parts[parts.length - 1]] = val;\n        };\n        _proto.get = function get(name) {\n          var val = this.variables[name];\n          if (val !== undefined) {\n            return val;\n          }\n          return null;\n        };\n        _proto.lookup = function lookup(name) {\n          var p = this.parent;\n          var val = this.variables[name];\n          if (val !== undefined) {\n            return val;\n          }\n          return p && p.lookup(name);\n        };\n        _proto.resolve = function resolve(name, forWrite) {\n          var p = forWrite && this.isolateWrites ? undefined : this.parent;\n          var val = this.variables[name];\n          if (val !== undefined) {\n            return this;\n          }\n          return p && p.resolve(name);\n        };\n        _proto.push = function push(isolateWrites) {\n          return new Frame(this, isolateWrites);\n        };\n        _proto.pop = function pop() {\n          return this.parent;\n        };\n        return Frame;\n      }();\n      function makeMacro(argNames, kwargNames, func) {\n        return function macro() {\n          for (var _len = arguments.length, macroArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n            macroArgs[_key] = arguments[_key];\n          }\n          var argCount = numArgs(macroArgs);\n          var args;\n          var kwargs = getKeywordArgs(macroArgs);\n          if (argCount > argNames.length) {\n            args = macroArgs.slice(0, argNames.length); // Positional arguments that should be passed in as\n            // keyword arguments (essentially default values)\n\n            macroArgs.slice(args.length, argCount).forEach(function (val, i) {\n              if (i < kwargNames.length) {\n                kwargs[kwargNames[i]] = val;\n              }\n            });\n            args.push(kwargs);\n          } else if (argCount < argNames.length) {\n            args = macroArgs.slice(0, argCount);\n            for (var i = argCount; i < argNames.length; i++) {\n              var arg = argNames[i]; // Keyword arguments that should be passed as\n              // positional arguments, i.e. the caller explicitly\n              // used the name of a positional arg\n\n              args.push(kwargs[arg]);\n              delete kwargs[arg];\n            }\n            args.push(kwargs);\n          } else {\n            args = macroArgs;\n          }\n          return func.apply(this, args);\n        };\n      }\n      function makeKeywordArgs(obj) {\n        obj.__keywords = true;\n        return obj;\n      }\n      function isKeywordArgs(obj) {\n        return obj && Object.prototype.hasOwnProperty.call(obj, '__keywords');\n      }\n      function getKeywordArgs(args) {\n        var len = args.length;\n        if (len) {\n          var lastArg = args[len - 1];\n          if (isKeywordArgs(lastArg)) {\n            return lastArg;\n          }\n        }\n        return {};\n      }\n      function numArgs(args) {\n        var len = args.length;\n        if (len === 0) {\n          return 0;\n        }\n        var lastArg = args[len - 1];\n        if (isKeywordArgs(lastArg)) {\n          return len - 1;\n        } else {\n          return len;\n        }\n      } // A SafeString object indicates that the string should not be\n      // autoescaped. This happens magically because autoescaping only\n      // occurs on primitive string objects.\n\n      function SafeString(val) {\n        if (typeof val !== 'string') {\n          return val;\n        }\n        this.val = val;\n        this.length = val.length;\n      }\n      SafeString.prototype = Object.create(String.prototype, {\n        length: {\n          writable: true,\n          configurable: true,\n          value: 0\n        }\n      });\n      SafeString.prototype.valueOf = function valueOf() {\n        return this.val;\n      };\n      SafeString.prototype.toString = function toString() {\n        return this.val;\n      };\n      function copySafeness(dest, target) {\n        if (dest instanceof SafeString) {\n          return new SafeString(target);\n        }\n        return target.toString();\n      }\n      function markSafe(val) {\n        var type = typeof val;\n        if (type === 'string') {\n          return new SafeString(val);\n        } else if (type !== 'function') {\n          return val;\n        } else {\n          return function wrapSafe(args) {\n            var ret = val.apply(this, arguments);\n            if (typeof ret === 'string') {\n              return new SafeString(ret);\n            }\n            return ret;\n          };\n        }\n      }\n      function suppressValue(val, autoescape) {\n        val = val !== undefined && val !== null ? val : '';\n        if (autoescape && !(val instanceof SafeString)) {\n          val = lib.escape(val.toString());\n        }\n        return val;\n      }\n      function ensureDefined(val, lineno, colno) {\n        if (val === null || val === undefined) {\n          throw new lib.TemplateError('attempted to output null or undefined value', lineno + 1, colno + 1);\n        }\n        return val;\n      }\n      function memberLookup(obj, val) {\n        if (obj === undefined || obj === null) {\n          return undefined;\n        }\n        if (typeof obj[val] === 'function') {\n          return function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n            return obj[val].apply(obj, args);\n          };\n        }\n        return obj[val];\n      }\n      function callWrap(obj, name, context, args) {\n        if (!obj) {\n          throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n        } else if (typeof obj !== 'function') {\n          throw new Error('Unable to call `' + name + '`, which is not a function');\n        }\n        return obj.apply(context, args);\n      }\n      function contextOrFrameLookup(context, frame, name) {\n        var val = frame.lookup(name);\n        return val !== undefined ? val : context.lookup(name);\n      }\n      function handleError(error, lineno, colno) {\n        if (error.lineno) {\n          return error;\n        } else {\n          return new lib.TemplateError(error, lineno, colno);\n        }\n      }\n      function asyncEach(arr, dimen, iter, cb) {\n        if (lib.isArray(arr)) {\n          var len = arr.length;\n          lib.asyncIter(arr, function iterCallback(item, i, next) {\n            switch (dimen) {\n              case 1:\n                iter(item, i, len, next);\n                break;\n              case 2:\n                iter(item[0], item[1], i, len, next);\n                break;\n              case 3:\n                iter(item[0], item[1], item[2], i, len, next);\n                break;\n              default:\n                item.push(i, len, next);\n                iter.apply(this, item);\n            }\n          }, cb);\n        } else {\n          lib.asyncFor(arr, function iterCallback(key, val, i, len, next) {\n            iter(key, val, i, len, next);\n          }, cb);\n        }\n      }\n      function asyncAll(arr, dimen, func, cb) {\n        var finished = 0;\n        var len;\n        var outputArr;\n        function done(i, output) {\n          finished++;\n          outputArr[i] = output;\n          if (finished === len) {\n            cb(null, outputArr.join(''));\n          }\n        }\n        if (lib.isArray(arr)) {\n          len = arr.length;\n          outputArr = new Array(len);\n          if (len === 0) {\n            cb(null, '');\n          } else {\n            for (var i = 0; i < arr.length; i++) {\n              var item = arr[i];\n              switch (dimen) {\n                case 1:\n                  func(item, i, len, done);\n                  break;\n                case 2:\n                  func(item[0], item[1], i, len, done);\n                  break;\n                case 3:\n                  func(item[0], item[1], item[2], i, len, done);\n                  break;\n                default:\n                  item.push(i, len, done);\n                  func.apply(this, item);\n              }\n            }\n          }\n        } else {\n          var keys = lib.keys(arr || {});\n          len = keys.length;\n          outputArr = new Array(len);\n          if (len === 0) {\n            cb(null, '');\n          } else {\n            for (var _i = 0; _i < keys.length; _i++) {\n              var k = keys[_i];\n              func(k, arr[k], _i, len, done);\n            }\n          }\n        }\n      }\n      function fromIterator(arr) {\n        if (typeof arr !== 'object' || arr === null || lib.isArray(arr)) {\n          return arr;\n        } else if (supportsIterators && Symbol.iterator in arr) {\n          return arrayFrom(arr);\n        } else {\n          return arr;\n        }\n      }\n      module.exports = {\n        Frame: Frame,\n        makeMacro: makeMacro,\n        makeKeywordArgs: makeKeywordArgs,\n        numArgs: numArgs,\n        suppressValue: suppressValue,\n        ensureDefined: ensureDefined,\n        memberLookup: memberLookup,\n        contextOrFrameLookup: contextOrFrameLookup,\n        callWrap: callWrap,\n        handleError: handleError,\n        isArray: lib.isArray,\n        keys: lib.keys,\n        SafeString: SafeString,\n        copySafeness: copySafeness,\n        markSafe: markSafe,\n        asyncEach: asyncEach,\n        asyncAll: asyncAll,\n        inOperator: lib.inOperator,\n        fromIterator: fromIterator\n      };\n\n      /***/\n    }, /* 3 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var _require = __webpack_require__(1),\n        Obj = _require.Obj;\n      function traverseAndCheck(obj, type, results) {\n        if (obj instanceof type) {\n          results.push(obj);\n        }\n        if (obj instanceof Node) {\n          obj.findAll(type, results);\n        }\n      }\n      var Node = /*#__PURE__*/function (_Obj) {\n        _inheritsLoose(Node, _Obj);\n        function Node() {\n          return _Obj.apply(this, arguments) || this;\n        }\n        var _proto = Node.prototype;\n        _proto.init = function init(lineno, colno) {\n          var _arguments = arguments,\n            _this = this;\n          for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n            args[_key - 2] = arguments[_key];\n          }\n          this.lineno = lineno;\n          this.colno = colno;\n          this.fields.forEach(function (field, i) {\n            // The first two args are line/col numbers, so offset by 2\n            var val = _arguments[i + 2]; // Fields should never be undefined, but null. It makes\n            // testing easier to normalize values.\n\n            if (val === undefined) {\n              val = null;\n            }\n            _this[field] = val;\n          });\n        };\n        _proto.findAll = function findAll(type, results) {\n          var _this2 = this;\n          results = results || [];\n          if (this instanceof NodeList) {\n            this.children.forEach(function (child) {\n              return traverseAndCheck(child, type, results);\n            });\n          } else {\n            this.fields.forEach(function (field) {\n              return traverseAndCheck(_this2[field], type, results);\n            });\n          }\n          return results;\n        };\n        _proto.iterFields = function iterFields(func) {\n          var _this3 = this;\n          this.fields.forEach(function (field) {\n            func(_this3[field], field);\n          });\n        };\n        return Node;\n      }(Obj); // Abstract nodes\n\n      var Value = /*#__PURE__*/function (_Node) {\n        _inheritsLoose(Value, _Node);\n        function Value() {\n          return _Node.apply(this, arguments) || this;\n        }\n        _createClass(Value, [{\n          key: \"typename\",\n          get: function get() {\n            return 'Value';\n          }\n        }, {\n          key: \"fields\",\n          get: function get() {\n            return ['value'];\n          }\n        }]);\n        return Value;\n      }(Node); // Concrete nodes\n\n      var NodeList = /*#__PURE__*/function (_Node2) {\n        _inheritsLoose(NodeList, _Node2);\n        function NodeList() {\n          return _Node2.apply(this, arguments) || this;\n        }\n        var _proto2 = NodeList.prototype;\n        _proto2.init = function init(lineno, colno, nodes) {\n          _Node2.prototype.init.call(this, lineno, colno, nodes || []);\n        };\n        _proto2.addChild = function addChild(node) {\n          this.children.push(node);\n        };\n        _createClass(NodeList, [{\n          key: \"typename\",\n          get: function get() {\n            return 'NodeList';\n          }\n        }, {\n          key: \"fields\",\n          get: function get() {\n            return ['children'];\n          }\n        }]);\n        return NodeList;\n      }(Node);\n      var Root = NodeList.extend('Root');\n      var Literal = Value.extend('Literal');\n      var Symbol = Value.extend('Symbol');\n      var Group = NodeList.extend('Group');\n      var ArrayNode = NodeList.extend('Array');\n      var Pair = Node.extend('Pair', {\n        fields: ['key', 'value']\n      });\n      var Dict = NodeList.extend('Dict');\n      var LookupVal = Node.extend('LookupVal', {\n        fields: ['target', 'val']\n      });\n      var If = Node.extend('If', {\n        fields: ['cond', 'body', 'else_']\n      });\n      var IfAsync = If.extend('IfAsync');\n      var InlineIf = Node.extend('InlineIf', {\n        fields: ['cond', 'body', 'else_']\n      });\n      var For = Node.extend('For', {\n        fields: ['arr', 'name', 'body', 'else_']\n      });\n      var AsyncEach = For.extend('AsyncEach');\n      var AsyncAll = For.extend('AsyncAll');\n      var Macro = Node.extend('Macro', {\n        fields: ['name', 'args', 'body']\n      });\n      var Caller = Macro.extend('Caller');\n      var Import = Node.extend('Import', {\n        fields: ['template', 'target', 'withContext']\n      });\n      var FromImport = /*#__PURE__*/function (_Node3) {\n        _inheritsLoose(FromImport, _Node3);\n        function FromImport() {\n          return _Node3.apply(this, arguments) || this;\n        }\n        var _proto3 = FromImport.prototype;\n        _proto3.init = function init(lineno, colno, template, names, withContext) {\n          _Node3.prototype.init.call(this, lineno, colno, template, names || new NodeList(), withContext);\n        };\n        _createClass(FromImport, [{\n          key: \"typename\",\n          get: function get() {\n            return 'FromImport';\n          }\n        }, {\n          key: \"fields\",\n          get: function get() {\n            return ['template', 'names', 'withContext'];\n          }\n        }]);\n        return FromImport;\n      }(Node);\n      var FunCall = Node.extend('FunCall', {\n        fields: ['name', 'args']\n      });\n      var Filter = FunCall.extend('Filter');\n      var FilterAsync = Filter.extend('FilterAsync', {\n        fields: ['name', 'args', 'symbol']\n      });\n      var KeywordArgs = Dict.extend('KeywordArgs');\n      var Block = Node.extend('Block', {\n        fields: ['name', 'body']\n      });\n      var Super = Node.extend('Super', {\n        fields: ['blockName', 'symbol']\n      });\n      var TemplateRef = Node.extend('TemplateRef', {\n        fields: ['template']\n      });\n      var Extends = TemplateRef.extend('Extends');\n      var Include = Node.extend('Include', {\n        fields: ['template', 'ignoreMissing']\n      });\n      var Set = Node.extend('Set', {\n        fields: ['targets', 'value']\n      });\n      var Switch = Node.extend('Switch', {\n        fields: ['expr', 'cases', 'default']\n      });\n      var Case = Node.extend('Case', {\n        fields: ['cond', 'body']\n      });\n      var Output = NodeList.extend('Output');\n      var Capture = Node.extend('Capture', {\n        fields: ['body']\n      });\n      var TemplateData = Literal.extend('TemplateData');\n      var UnaryOp = Node.extend('UnaryOp', {\n        fields: ['target']\n      });\n      var BinOp = Node.extend('BinOp', {\n        fields: ['left', 'right']\n      });\n      var In = BinOp.extend('In');\n      var Is = BinOp.extend('Is');\n      var Or = BinOp.extend('Or');\n      var And = BinOp.extend('And');\n      var Not = UnaryOp.extend('Not');\n      var Add = BinOp.extend('Add');\n      var Concat = BinOp.extend('Concat');\n      var Sub = BinOp.extend('Sub');\n      var Mul = BinOp.extend('Mul');\n      var Div = BinOp.extend('Div');\n      var FloorDiv = BinOp.extend('FloorDiv');\n      var Mod = BinOp.extend('Mod');\n      var Pow = BinOp.extend('Pow');\n      var Neg = UnaryOp.extend('Neg');\n      var Pos = UnaryOp.extend('Pos');\n      var Compare = Node.extend('Compare', {\n        fields: ['expr', 'ops']\n      });\n      var CompareOperand = Node.extend('CompareOperand', {\n        fields: ['expr', 'type']\n      });\n      var CallExtension = Node.extend('CallExtension', {\n        init: function init(ext, prop, args, contentArgs) {\n          this.parent();\n          this.extName = ext.__name || ext;\n          this.prop = prop;\n          this.args = args || new NodeList();\n          this.contentArgs = contentArgs || [];\n          this.autoescape = ext.autoescape;\n        },\n        fields: ['extName', 'prop', 'args', 'contentArgs']\n      });\n      var CallExtensionAsync = CallExtension.extend('CallExtensionAsync'); // This is hacky, but this is just a debugging function anyway\n\n      function print(str, indent, inline) {\n        var lines = str.split('\\n');\n        lines.forEach(function (line, i) {\n          if (line && (inline && i > 0 || !inline)) {\n            process.stdout.write(' '.repeat(indent));\n          }\n          var nl = i === lines.length - 1 ? '' : '\\n';\n          process.stdout.write(\"\" + line + nl);\n        });\n      } // Print the AST in a nicely formatted tree format for debuggin\n\n      function printNodes(node, indent) {\n        indent = indent || 0;\n        print(node.typename + ': ', indent);\n        if (node instanceof NodeList) {\n          print('\\n');\n          node.children.forEach(function (n) {\n            printNodes(n, indent + 2);\n          });\n        } else if (node instanceof CallExtension) {\n          print(node.extName + \".\" + node.prop + \"\\n\");\n          if (node.args) {\n            printNodes(node.args, indent + 2);\n          }\n          if (node.contentArgs) {\n            node.contentArgs.forEach(function (n) {\n              printNodes(n, indent + 2);\n            });\n          }\n        } else {\n          var nodes = [];\n          var props = null;\n          node.iterFields(function (val, fieldName) {\n            if (val instanceof Node) {\n              nodes.push([fieldName, val]);\n            } else {\n              props = props || {};\n              props[fieldName] = val;\n            }\n          });\n          if (props) {\n            print(JSON.stringify(props, null, 2) + '\\n', null, true);\n          } else {\n            print('\\n');\n          }\n          nodes.forEach(function (_ref) {\n            var fieldName = _ref[0],\n              n = _ref[1];\n            print(\"[\" + fieldName + \"] =>\", indent + 2);\n            printNodes(n, indent + 4);\n          });\n        }\n      }\n      module.exports = {\n        Node: Node,\n        Root: Root,\n        NodeList: NodeList,\n        Value: Value,\n        Literal: Literal,\n        Symbol: Symbol,\n        Group: Group,\n        Array: ArrayNode,\n        Pair: Pair,\n        Dict: Dict,\n        Output: Output,\n        Capture: Capture,\n        TemplateData: TemplateData,\n        If: If,\n        IfAsync: IfAsync,\n        InlineIf: InlineIf,\n        For: For,\n        AsyncEach: AsyncEach,\n        AsyncAll: AsyncAll,\n        Macro: Macro,\n        Caller: Caller,\n        Import: Import,\n        FromImport: FromImport,\n        FunCall: FunCall,\n        Filter: Filter,\n        FilterAsync: FilterAsync,\n        KeywordArgs: KeywordArgs,\n        Block: Block,\n        Super: Super,\n        Extends: Extends,\n        Include: Include,\n        Set: Set,\n        Switch: Switch,\n        Case: Case,\n        LookupVal: LookupVal,\n        BinOp: BinOp,\n        In: In,\n        Is: Is,\n        Or: Or,\n        And: And,\n        Not: Not,\n        Add: Add,\n        Concat: Concat,\n        Sub: Sub,\n        Mul: Mul,\n        Div: Div,\n        FloorDiv: FloorDiv,\n        Mod: Mod,\n        Pow: Pow,\n        Neg: Neg,\n        Pos: Pos,\n        Compare: Compare,\n        CompareOperand: CompareOperand,\n        CallExtension: CallExtension,\n        CallExtensionAsync: CallExtensionAsync,\n        printNodes: printNodes\n      };\n\n      /***/\n    }, /* 4 */\n    /***/function (module, exports) {\n\n      /***/}, /* 5 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var parser = __webpack_require__(8);\n      var transformer = __webpack_require__(17);\n      var nodes = __webpack_require__(3);\n      var _require = __webpack_require__(0),\n        TemplateError = _require.TemplateError;\n      var _require2 = __webpack_require__(2),\n        Frame = _require2.Frame;\n      var _require3 = __webpack_require__(1),\n        Obj = _require3.Obj; // These are all the same for now, but shouldn't be passed straight\n      // through\n\n      var compareOps = {\n        '==': '==',\n        '===': '===',\n        '!=': '!=',\n        '!==': '!==',\n        '<': '<',\n        '>': '>',\n        '<=': '<=',\n        '>=': '>='\n      };\n      var Compiler = /*#__PURE__*/function (_Obj) {\n        _inheritsLoose(Compiler, _Obj);\n        function Compiler() {\n          return _Obj.apply(this, arguments) || this;\n        }\n        var _proto = Compiler.prototype;\n        _proto.init = function init(templateName, throwOnUndefined) {\n          this.templateName = templateName;\n          this.codebuf = [];\n          this.lastId = 0;\n          this.buffer = null;\n          this.bufferStack = [];\n          this._scopeClosers = '';\n          this.inBlock = false;\n          this.throwOnUndefined = throwOnUndefined;\n        };\n        _proto.fail = function fail(msg, lineno, colno) {\n          if (lineno !== undefined) {\n            lineno += 1;\n          }\n          if (colno !== undefined) {\n            colno += 1;\n          }\n          throw new TemplateError(msg, lineno, colno);\n        };\n        _proto._pushBuffer = function _pushBuffer() {\n          var id = this._tmpid();\n          this.bufferStack.push(this.buffer);\n          this.buffer = id;\n          this._emit(\"var \" + this.buffer + \" = \\\"\\\";\");\n          return id;\n        };\n        _proto._popBuffer = function _popBuffer() {\n          this.buffer = this.bufferStack.pop();\n        };\n        _proto._emit = function _emit(code) {\n          this.codebuf.push(code);\n        };\n        _proto._emitLine = function _emitLine(code) {\n          this._emit(code + '\\n');\n        };\n        _proto._emitLines = function _emitLines() {\n          var _this = this;\n          for (var _len = arguments.length, lines = new Array(_len), _key = 0; _key < _len; _key++) {\n            lines[_key] = arguments[_key];\n          }\n          lines.forEach(function (line) {\n            return _this._emitLine(line);\n          });\n        };\n        _proto._emitFuncBegin = function _emitFuncBegin(node, name) {\n          this.buffer = 'output';\n          this._scopeClosers = '';\n          this._emitLine(\"function \" + name + \"(env, context, frame, runtime, cb) {\");\n          this._emitLine(\"var lineno = \" + node.lineno + \";\");\n          this._emitLine(\"var colno = \" + node.colno + \";\");\n          this._emitLine(\"var \" + this.buffer + \" = \\\"\\\";\");\n          this._emitLine('try {');\n        };\n        _proto._emitFuncEnd = function _emitFuncEnd(noReturn) {\n          if (!noReturn) {\n            this._emitLine('cb(null, ' + this.buffer + ');');\n          }\n          this._closeScopeLevels();\n          this._emitLine('} catch (e) {');\n          this._emitLine('  cb(runtime.handleError(e, lineno, colno));');\n          this._emitLine('}');\n          this._emitLine('}');\n          this.buffer = null;\n        };\n        _proto._addScopeLevel = function _addScopeLevel() {\n          this._scopeClosers += '})';\n        };\n        _proto._closeScopeLevels = function _closeScopeLevels() {\n          this._emitLine(this._scopeClosers + ';');\n          this._scopeClosers = '';\n        };\n        _proto._withScopedSyntax = function _withScopedSyntax(func) {\n          var _scopeClosers = this._scopeClosers;\n          this._scopeClosers = '';\n          func.call(this);\n          this._closeScopeLevels();\n          this._scopeClosers = _scopeClosers;\n        };\n        _proto._makeCallback = function _makeCallback(res) {\n          var err = this._tmpid();\n          return 'function(' + err + (res ? ',' + res : '') + ') {\\n' + 'if(' + err + ') { cb(' + err + '); return; }';\n        };\n        _proto._tmpid = function _tmpid() {\n          this.lastId++;\n          return 't_' + this.lastId;\n        };\n        _proto._templateName = function _templateName() {\n          return this.templateName == null ? 'undefined' : JSON.stringify(this.templateName);\n        };\n        _proto._compileChildren = function _compileChildren(node, frame) {\n          var _this2 = this;\n          node.children.forEach(function (child) {\n            _this2.compile(child, frame);\n          });\n        };\n        _proto._compileAggregate = function _compileAggregate(node, frame, startChar, endChar) {\n          var _this3 = this;\n          if (startChar) {\n            this._emit(startChar);\n          }\n          node.children.forEach(function (child, i) {\n            if (i > 0) {\n              _this3._emit(',');\n            }\n            _this3.compile(child, frame);\n          });\n          if (endChar) {\n            this._emit(endChar);\n          }\n        };\n        _proto._compileExpression = function _compileExpression(node, frame) {\n          // TODO: I'm not really sure if this type check is worth it or\n          // not.\n          this.assertType(node, nodes.Literal, nodes.Symbol, nodes.Group, nodes.Array, nodes.Dict, nodes.FunCall, nodes.Caller, nodes.Filter, nodes.LookupVal, nodes.Compare, nodes.InlineIf, nodes.In, nodes.Is, nodes.And, nodes.Or, nodes.Not, nodes.Add, nodes.Concat, nodes.Sub, nodes.Mul, nodes.Div, nodes.FloorDiv, nodes.Mod, nodes.Pow, nodes.Neg, nodes.Pos, nodes.Compare, nodes.NodeList);\n          this.compile(node, frame);\n        };\n        _proto.assertType = function assertType(node) {\n          for (var _len2 = arguments.length, types = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            types[_key2 - 1] = arguments[_key2];\n          }\n          if (!types.some(function (t) {\n            return node instanceof t;\n          })) {\n            this.fail(\"assertType: invalid type: \" + node.typename, node.lineno, node.colno);\n          }\n        };\n        _proto.compileCallExtension = function compileCallExtension(node, frame, async) {\n          var _this4 = this;\n          var args = node.args;\n          var contentArgs = node.contentArgs;\n          var autoescape = typeof node.autoescape === 'boolean' ? node.autoescape : true;\n          if (!async) {\n            this._emit(this.buffer + \" += runtime.suppressValue(\");\n          }\n          this._emit(\"env.getExtension(\\\"\" + node.extName + \"\\\")[\\\"\" + node.prop + \"\\\"](\");\n          this._emit('context');\n          if (args || contentArgs) {\n            this._emit(',');\n          }\n          if (args) {\n            if (!(args instanceof nodes.NodeList)) {\n              this.fail('compileCallExtension: arguments must be a NodeList, ' + 'use `parser.parseSignature`');\n            }\n            args.children.forEach(function (arg, i) {\n              // Tag arguments are passed normally to the call. Note\n              // that keyword arguments are turned into a single js\n              // object as the last argument, if they exist.\n              _this4._compileExpression(arg, frame);\n              if (i !== args.children.length - 1 || contentArgs.length) {\n                _this4._emit(',');\n              }\n            });\n          }\n          if (contentArgs.length) {\n            contentArgs.forEach(function (arg, i) {\n              if (i > 0) {\n                _this4._emit(',');\n              }\n              if (arg) {\n                _this4._emitLine('function(cb) {');\n                _this4._emitLine('if(!cb) { cb = function(err) { if(err) { throw err; }}}');\n                var id = _this4._pushBuffer();\n                _this4._withScopedSyntax(function () {\n                  _this4.compile(arg, frame);\n                  _this4._emitLine(\"cb(null, \" + id + \");\");\n                });\n                _this4._popBuffer();\n                _this4._emitLine(\"return \" + id + \";\");\n                _this4._emitLine('}');\n              } else {\n                _this4._emit('null');\n              }\n            });\n          }\n          if (async) {\n            var res = this._tmpid();\n            this._emitLine(', ' + this._makeCallback(res));\n            this._emitLine(this.buffer + \" += runtime.suppressValue(\" + res + \", \" + autoescape + \" && env.opts.autoescape);\");\n            this._addScopeLevel();\n          } else {\n            this._emit(')');\n            this._emit(\", \" + autoescape + \" && env.opts.autoescape);\\n\");\n          }\n        };\n        _proto.compileCallExtensionAsync = function compileCallExtensionAsync(node, frame) {\n          this.compileCallExtension(node, frame, true);\n        };\n        _proto.compileNodeList = function compileNodeList(node, frame) {\n          this._compileChildren(node, frame);\n        };\n        _proto.compileLiteral = function compileLiteral(node) {\n          if (typeof node.value === 'string') {\n            var val = node.value.replace(/\\\\/g, '\\\\\\\\');\n            val = val.replace(/\"/g, '\\\\\"');\n            val = val.replace(/\\n/g, '\\\\n');\n            val = val.replace(/\\r/g, '\\\\r');\n            val = val.replace(/\\t/g, '\\\\t');\n            val = val.replace(/\\u2028/g, \"\\\\u2028\");\n            this._emit(\"\\\"\" + val + \"\\\"\");\n          } else if (node.value === null) {\n            this._emit('null');\n          } else {\n            this._emit(node.value.toString());\n          }\n        };\n        _proto.compileSymbol = function compileSymbol(node, frame) {\n          var name = node.value;\n          var v = frame.lookup(name);\n          if (v) {\n            this._emit(v);\n          } else {\n            this._emit('runtime.contextOrFrameLookup(' + 'context, frame, \"' + name + '\")');\n          }\n        };\n        _proto.compileGroup = function compileGroup(node, frame) {\n          this._compileAggregate(node, frame, '(', ')');\n        };\n        _proto.compileArray = function compileArray(node, frame) {\n          this._compileAggregate(node, frame, '[', ']');\n        };\n        _proto.compileDict = function compileDict(node, frame) {\n          this._compileAggregate(node, frame, '{', '}');\n        };\n        _proto.compilePair = function compilePair(node, frame) {\n          var key = node.key;\n          var val = node.value;\n          if (key instanceof nodes.Symbol) {\n            key = new nodes.Literal(key.lineno, key.colno, key.value);\n          } else if (!(key instanceof nodes.Literal && typeof key.value === 'string')) {\n            this.fail('compilePair: Dict keys must be strings or names', key.lineno, key.colno);\n          }\n          this.compile(key, frame);\n          this._emit(': ');\n          this._compileExpression(val, frame);\n        };\n        _proto.compileInlineIf = function compileInlineIf(node, frame) {\n          this._emit('(');\n          this.compile(node.cond, frame);\n          this._emit('?');\n          this.compile(node.body, frame);\n          this._emit(':');\n          if (node.else_ !== null) {\n            this.compile(node.else_, frame);\n          } else {\n            this._emit('\"\"');\n          }\n          this._emit(')');\n        };\n        _proto.compileIn = function compileIn(node, frame) {\n          this._emit('runtime.inOperator(');\n          this.compile(node.left, frame);\n          this._emit(',');\n          this.compile(node.right, frame);\n          this._emit(')');\n        };\n        _proto.compileIs = function compileIs(node, frame) {\n          // first, we need to try to get the name of the test function, if it's a\n          // callable (i.e., has args) and not a symbol.\n          var right = node.right.name ? node.right.name.value // otherwise go with the symbol value\n          : node.right.value;\n          this._emit('env.getTest(\"' + right + '\").call(context, ');\n          this.compile(node.left, frame); // compile the arguments for the callable if they exist\n\n          if (node.right.args) {\n            this._emit(',');\n            this.compile(node.right.args, frame);\n          }\n          this._emit(') === true');\n        };\n        _proto._binOpEmitter = function _binOpEmitter(node, frame, str) {\n          this.compile(node.left, frame);\n          this._emit(str);\n          this.compile(node.right, frame);\n        } // ensure concatenation instead of addition\n        // by adding empty string in between\n        ;\n\n        _proto.compileOr = function compileOr(node, frame) {\n          return this._binOpEmitter(node, frame, ' || ');\n        };\n        _proto.compileAnd = function compileAnd(node, frame) {\n          return this._binOpEmitter(node, frame, ' && ');\n        };\n        _proto.compileAdd = function compileAdd(node, frame) {\n          return this._binOpEmitter(node, frame, ' + ');\n        };\n        _proto.compileConcat = function compileConcat(node, frame) {\n          return this._binOpEmitter(node, frame, ' + \"\" + ');\n        };\n        _proto.compileSub = function compileSub(node, frame) {\n          return this._binOpEmitter(node, frame, ' - ');\n        };\n        _proto.compileMul = function compileMul(node, frame) {\n          return this._binOpEmitter(node, frame, ' * ');\n        };\n        _proto.compileDiv = function compileDiv(node, frame) {\n          return this._binOpEmitter(node, frame, ' / ');\n        };\n        _proto.compileMod = function compileMod(node, frame) {\n          return this._binOpEmitter(node, frame, ' % ');\n        };\n        _proto.compileNot = function compileNot(node, frame) {\n          this._emit('!');\n          this.compile(node.target, frame);\n        };\n        _proto.compileFloorDiv = function compileFloorDiv(node, frame) {\n          this._emit('Math.floor(');\n          this.compile(node.left, frame);\n          this._emit(' / ');\n          this.compile(node.right, frame);\n          this._emit(')');\n        };\n        _proto.compilePow = function compilePow(node, frame) {\n          this._emit('Math.pow(');\n          this.compile(node.left, frame);\n          this._emit(', ');\n          this.compile(node.right, frame);\n          this._emit(')');\n        };\n        _proto.compileNeg = function compileNeg(node, frame) {\n          this._emit('-');\n          this.compile(node.target, frame);\n        };\n        _proto.compilePos = function compilePos(node, frame) {\n          this._emit('+');\n          this.compile(node.target, frame);\n        };\n        _proto.compileCompare = function compileCompare(node, frame) {\n          var _this5 = this;\n          this.compile(node.expr, frame);\n          node.ops.forEach(function (op) {\n            _this5._emit(\" \" + compareOps[op.type] + \" \");\n            _this5.compile(op.expr, frame);\n          });\n        };\n        _proto.compileLookupVal = function compileLookupVal(node, frame) {\n          this._emit('runtime.memberLookup((');\n          this._compileExpression(node.target, frame);\n          this._emit('),');\n          this._compileExpression(node.val, frame);\n          this._emit(')');\n        };\n        _proto._getNodeName = function _getNodeName(node) {\n          switch (node.typename) {\n            case 'Symbol':\n              return node.value;\n            case 'FunCall':\n              return 'the return value of (' + this._getNodeName(node.name) + ')';\n            case 'LookupVal':\n              return this._getNodeName(node.target) + '[\"' + this._getNodeName(node.val) + '\"]';\n            case 'Literal':\n              return node.value.toString();\n            default:\n              return '--expression--';\n          }\n        };\n        _proto.compileFunCall = function compileFunCall(node, frame) {\n          // Keep track of line/col info at runtime by settings\n          // variables within an expression. An expression in javascript\n          // like (x, y, z) returns the last value, and x and y can be\n          // anything\n          this._emit('(lineno = ' + node.lineno + ', colno = ' + node.colno + ', ');\n          this._emit('runtime.callWrap('); // Compile it as normal.\n\n          this._compileExpression(node.name, frame); // Output the name of what we're calling so we can get friendly errors\n          // if the lookup fails.\n\n          this._emit(', \"' + this._getNodeName(node.name).replace(/\"/g, '\\\\\"') + '\", context, ');\n          this._compileAggregate(node.args, frame, '[', '])');\n          this._emit(')');\n        };\n        _proto.compileFilter = function compileFilter(node, frame) {\n          var name = node.name;\n          this.assertType(name, nodes.Symbol);\n          this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n          this._compileAggregate(node.args, frame);\n          this._emit(')');\n        };\n        _proto.compileFilterAsync = function compileFilterAsync(node, frame) {\n          var name = node.name;\n          var symbol = node.symbol.value;\n          this.assertType(name, nodes.Symbol);\n          frame.set(symbol, symbol);\n          this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n          this._compileAggregate(node.args, frame);\n          this._emitLine(', ' + this._makeCallback(symbol));\n          this._addScopeLevel();\n        };\n        _proto.compileKeywordArgs = function compileKeywordArgs(node, frame) {\n          this._emit('runtime.makeKeywordArgs(');\n          this.compileDict(node, frame);\n          this._emit(')');\n        };\n        _proto.compileSet = function compileSet(node, frame) {\n          var _this6 = this;\n          var ids = []; // Lookup the variable names for each identifier and create\n          // new ones if necessary\n\n          node.targets.forEach(function (target) {\n            var name = target.value;\n            var id = frame.lookup(name);\n            if (id === null || id === undefined) {\n              id = _this6._tmpid(); // Note: This relies on js allowing scope across\n              // blocks, in case this is created inside an `if`\n\n              _this6._emitLine('var ' + id + ';');\n            }\n            ids.push(id);\n          });\n          if (node.value) {\n            this._emit(ids.join(' = ') + ' = ');\n            this._compileExpression(node.value, frame);\n            this._emitLine(';');\n          } else {\n            this._emit(ids.join(' = ') + ' = ');\n            this.compile(node.body, frame);\n            this._emitLine(';');\n          }\n          node.targets.forEach(function (target, i) {\n            var id = ids[i];\n            var name = target.value; // We are running this for every var, but it's very\n            // uncommon to assign to multiple vars anyway\n\n            _this6._emitLine(\"frame.set(\\\"\" + name + \"\\\", \" + id + \", true);\");\n            _this6._emitLine('if(frame.topLevel) {');\n            _this6._emitLine(\"context.setVariable(\\\"\" + name + \"\\\", \" + id + \");\");\n            _this6._emitLine('}');\n            if (name.charAt(0) !== '_') {\n              _this6._emitLine('if(frame.topLevel) {');\n              _this6._emitLine(\"context.addExport(\\\"\" + name + \"\\\", \" + id + \");\");\n              _this6._emitLine('}');\n            }\n          });\n        };\n        _proto.compileSwitch = function compileSwitch(node, frame) {\n          var _this7 = this;\n          this._emit('switch (');\n          this.compile(node.expr, frame);\n          this._emit(') {');\n          node.cases.forEach(function (c, i) {\n            _this7._emit('case ');\n            _this7.compile(c.cond, frame);\n            _this7._emit(': ');\n            _this7.compile(c.body, frame); // preserve fall-throughs\n\n            if (c.body.children.length) {\n              _this7._emitLine('break;');\n            }\n          });\n          if (node.default) {\n            this._emit('default:');\n            this.compile(node.default, frame);\n          }\n          this._emit('}');\n        };\n        _proto.compileIf = function compileIf(node, frame, async) {\n          var _this8 = this;\n          this._emit('if(');\n          this._compileExpression(node.cond, frame);\n          this._emitLine(') {');\n          this._withScopedSyntax(function () {\n            _this8.compile(node.body, frame);\n            if (async) {\n              _this8._emit('cb()');\n            }\n          });\n          if (node.else_) {\n            this._emitLine('}\\nelse {');\n            this._withScopedSyntax(function () {\n              _this8.compile(node.else_, frame);\n              if (async) {\n                _this8._emit('cb()');\n              }\n            });\n          } else if (async) {\n            this._emitLine('}\\nelse {');\n            this._emit('cb()');\n          }\n          this._emitLine('}');\n        };\n        _proto.compileIfAsync = function compileIfAsync(node, frame) {\n          this._emit('(function(cb) {');\n          this.compileIf(node, frame, true);\n          this._emit('})(' + this._makeCallback());\n          this._addScopeLevel();\n        };\n        _proto._emitLoopBindings = function _emitLoopBindings(node, arr, i, len) {\n          var _this9 = this;\n          var bindings = [{\n            name: 'index',\n            val: i + \" + 1\"\n          }, {\n            name: 'index0',\n            val: i\n          }, {\n            name: 'revindex',\n            val: len + \" - \" + i\n          }, {\n            name: 'revindex0',\n            val: len + \" - \" + i + \" - 1\"\n          }, {\n            name: 'first',\n            val: i + \" === 0\"\n          }, {\n            name: 'last',\n            val: i + \" === \" + len + \" - 1\"\n          }, {\n            name: 'length',\n            val: len\n          }];\n          bindings.forEach(function (b) {\n            _this9._emitLine(\"frame.set(\\\"loop.\" + b.name + \"\\\", \" + b.val + \");\");\n          });\n        };\n        _proto.compileFor = function compileFor(node, frame) {\n          var _this10 = this;\n\n          // Some of this code is ugly, but it keeps the generated code\n          // as fast as possible. ForAsync also shares some of this, but\n          // not much.\n          var i = this._tmpid();\n          var len = this._tmpid();\n          var arr = this._tmpid();\n          frame = frame.push();\n          this._emitLine('frame = frame.push();');\n          this._emit(\"var \" + arr + \" = \");\n          this._compileExpression(node.arr, frame);\n          this._emitLine(';');\n          this._emit(\"if(\" + arr + \") {\");\n          this._emitLine(arr + ' = runtime.fromIterator(' + arr + ');'); // If multiple names are passed, we need to bind them\n          // appropriately\n\n          if (node.name instanceof nodes.Array) {\n            this._emitLine(\"var \" + i + \";\"); // The object could be an arroy or object. Note that the\n            // body of the loop is duplicated for each condition, but\n            // we are optimizing for speed over size.\n\n            this._emitLine(\"if(runtime.isArray(\" + arr + \")) {\");\n            this._emitLine(\"var \" + len + \" = \" + arr + \".length;\");\n            this._emitLine(\"for(\" + i + \"=0; \" + i + \" < \" + arr + \".length; \" + i + \"++) {\"); // Bind each declared var\n\n            node.name.children.forEach(function (child, u) {\n              var tid = _this10._tmpid();\n              _this10._emitLine(\"var \" + tid + \" = \" + arr + \"[\" + i + \"][\" + u + \"];\");\n              _this10._emitLine(\"frame.set(\\\"\" + child + \"\\\", \" + arr + \"[\" + i + \"][\" + u + \"]);\");\n              frame.set(node.name.children[u].value, tid);\n            });\n            this._emitLoopBindings(node, arr, i, len);\n            this._withScopedSyntax(function () {\n              _this10.compile(node.body, frame);\n            });\n            this._emitLine('}');\n            this._emitLine('} else {'); // Iterate over the key/values of an object\n\n            var _node$name$children = node.name.children,\n              key = _node$name$children[0],\n              val = _node$name$children[1];\n            var k = this._tmpid();\n            var v = this._tmpid();\n            frame.set(key.value, k);\n            frame.set(val.value, v);\n            this._emitLine(i + \" = -1;\");\n            this._emitLine(\"var \" + len + \" = runtime.keys(\" + arr + \").length;\");\n            this._emitLine(\"for(var \" + k + \" in \" + arr + \") {\");\n            this._emitLine(i + \"++;\");\n            this._emitLine(\"var \" + v + \" = \" + arr + \"[\" + k + \"];\");\n            this._emitLine(\"frame.set(\\\"\" + key.value + \"\\\", \" + k + \");\");\n            this._emitLine(\"frame.set(\\\"\" + val.value + \"\\\", \" + v + \");\");\n            this._emitLoopBindings(node, arr, i, len);\n            this._withScopedSyntax(function () {\n              _this10.compile(node.body, frame);\n            });\n            this._emitLine('}');\n            this._emitLine('}');\n          } else {\n            // Generate a typical array iteration\n            var _v = this._tmpid();\n            frame.set(node.name.value, _v);\n            this._emitLine(\"var \" + len + \" = \" + arr + \".length;\");\n            this._emitLine(\"for(var \" + i + \"=0; \" + i + \" < \" + arr + \".length; \" + i + \"++) {\");\n            this._emitLine(\"var \" + _v + \" = \" + arr + \"[\" + i + \"];\");\n            this._emitLine(\"frame.set(\\\"\" + node.name.value + \"\\\", \" + _v + \");\");\n            this._emitLoopBindings(node, arr, i, len);\n            this._withScopedSyntax(function () {\n              _this10.compile(node.body, frame);\n            });\n            this._emitLine('}');\n          }\n          this._emitLine('}');\n          if (node.else_) {\n            this._emitLine('if (!' + len + ') {');\n            this.compile(node.else_, frame);\n            this._emitLine('}');\n          }\n          this._emitLine('frame = frame.pop();');\n        };\n        _proto._compileAsyncLoop = function _compileAsyncLoop(node, frame, parallel) {\n          var _this11 = this;\n\n          // This shares some code with the For tag, but not enough to\n          // worry about. This iterates across an object asynchronously,\n          // but not in parallel.\n          var i = this._tmpid();\n          var len = this._tmpid();\n          var arr = this._tmpid();\n          var asyncMethod = parallel ? 'asyncAll' : 'asyncEach';\n          frame = frame.push();\n          this._emitLine('frame = frame.push();');\n          this._emit('var ' + arr + ' = runtime.fromIterator(');\n          this._compileExpression(node.arr, frame);\n          this._emitLine(');');\n          if (node.name instanceof nodes.Array) {\n            var arrayLen = node.name.children.length;\n            this._emit(\"runtime.\" + asyncMethod + \"(\" + arr + \", \" + arrayLen + \", function(\");\n            node.name.children.forEach(function (name) {\n              _this11._emit(name.value + \",\");\n            });\n            this._emit(i + ',' + len + ',next) {');\n            node.name.children.forEach(function (name) {\n              var id = name.value;\n              frame.set(id, id);\n              _this11._emitLine(\"frame.set(\\\"\" + id + \"\\\", \" + id + \");\");\n            });\n          } else {\n            var id = node.name.value;\n            this._emitLine(\"runtime.\" + asyncMethod + \"(\" + arr + \", 1, function(\" + id + \", \" + i + \", \" + len + \",next) {\");\n            this._emitLine('frame.set(\"' + id + '\", ' + id + ');');\n            frame.set(id, id);\n          }\n          this._emitLoopBindings(node, arr, i, len);\n          this._withScopedSyntax(function () {\n            var buf;\n            if (parallel) {\n              buf = _this11._pushBuffer();\n            }\n            _this11.compile(node.body, frame);\n            _this11._emitLine('next(' + i + (buf ? ',' + buf : '') + ');');\n            if (parallel) {\n              _this11._popBuffer();\n            }\n          });\n          var output = this._tmpid();\n          this._emitLine('}, ' + this._makeCallback(output));\n          this._addScopeLevel();\n          if (parallel) {\n            this._emitLine(this.buffer + ' += ' + output + ';');\n          }\n          if (node.else_) {\n            this._emitLine('if (!' + arr + '.length) {');\n            this.compile(node.else_, frame);\n            this._emitLine('}');\n          }\n          this._emitLine('frame = frame.pop();');\n        };\n        _proto.compileAsyncEach = function compileAsyncEach(node, frame) {\n          this._compileAsyncLoop(node, frame);\n        };\n        _proto.compileAsyncAll = function compileAsyncAll(node, frame) {\n          this._compileAsyncLoop(node, frame, true);\n        };\n        _proto._compileMacro = function _compileMacro(node, frame) {\n          var _this12 = this;\n          var args = [];\n          var kwargs = null;\n          var funcId = 'macro_' + this._tmpid();\n          var keepFrame = frame !== undefined; // Type check the definition of the args\n\n          node.args.children.forEach(function (arg, i) {\n            if (i === node.args.children.length - 1 && arg instanceof nodes.Dict) {\n              kwargs = arg;\n            } else {\n              _this12.assertType(arg, nodes.Symbol);\n              args.push(arg);\n            }\n          });\n          var realNames = [].concat(args.map(function (n) {\n            return \"l_\" + n.value;\n          }), ['kwargs']); // Quoted argument names\n\n          var argNames = args.map(function (n) {\n            return \"\\\"\" + n.value + \"\\\"\";\n          });\n          var kwargNames = (kwargs && kwargs.children || []).map(function (n) {\n            return \"\\\"\" + n.key.value + \"\\\"\";\n          }); // We pass a function to makeMacro which destructures the\n          // arguments so support setting positional args with keywords\n          // args and passing keyword args as positional args\n          // (essentially default values). See runtime.js.\n\n          var currFrame;\n          if (keepFrame) {\n            currFrame = frame.push(true);\n          } else {\n            currFrame = new Frame();\n          }\n          this._emitLines(\"var \" + funcId + \" = runtime.makeMacro(\", \"[\" + argNames.join(', ') + \"], \", \"[\" + kwargNames.join(', ') + \"], \", \"function (\" + realNames.join(', ') + \") {\", 'var callerFrame = frame;', 'frame = ' + (keepFrame ? 'frame.push(true);' : 'new runtime.Frame();'), 'kwargs = kwargs || {};', 'if (Object.prototype.hasOwnProperty.call(kwargs, \"caller\")) {', 'frame.set(\"caller\", kwargs.caller); }'); // Expose the arguments to the template. Don't need to use\n          // random names because the function\n          // will create a new run-time scope for us\n\n          args.forEach(function (arg) {\n            _this12._emitLine(\"frame.set(\\\"\" + arg.value + \"\\\", l_\" + arg.value + \");\");\n            currFrame.set(arg.value, \"l_\" + arg.value);\n          }); // Expose the keyword arguments\n\n          if (kwargs) {\n            kwargs.children.forEach(function (pair) {\n              var name = pair.key.value;\n              _this12._emit(\"frame.set(\\\"\" + name + \"\\\", \");\n              _this12._emit(\"Object.prototype.hasOwnProperty.call(kwargs, \\\"\" + name + \"\\\")\");\n              _this12._emit(\" ? kwargs[\\\"\" + name + \"\\\"] : \");\n              _this12._compileExpression(pair.value, currFrame);\n              _this12._emit(');');\n            });\n          }\n          var bufferId = this._pushBuffer();\n          this._withScopedSyntax(function () {\n            _this12.compile(node.body, currFrame);\n          });\n          this._emitLine('frame = ' + (keepFrame ? 'frame.pop();' : 'callerFrame;'));\n          this._emitLine(\"return new runtime.SafeString(\" + bufferId + \");\");\n          this._emitLine('});');\n          this._popBuffer();\n          return funcId;\n        };\n        _proto.compileMacro = function compileMacro(node, frame) {\n          var funcId = this._compileMacro(node); // Expose the macro to the templates\n\n          var name = node.name.value;\n          frame.set(name, funcId);\n          if (frame.parent) {\n            this._emitLine(\"frame.set(\\\"\" + name + \"\\\", \" + funcId + \");\");\n          } else {\n            if (node.name.value.charAt(0) !== '_') {\n              this._emitLine(\"context.addExport(\\\"\" + name + \"\\\");\");\n            }\n            this._emitLine(\"context.setVariable(\\\"\" + name + \"\\\", \" + funcId + \");\");\n          }\n        };\n        _proto.compileCaller = function compileCaller(node, frame) {\n          // basically an anonymous \"macro expression\"\n          this._emit('(function (){');\n          var funcId = this._compileMacro(node, frame);\n          this._emit(\"return \" + funcId + \";})()\");\n        };\n        _proto._compileGetTemplate = function _compileGetTemplate(node, frame, eagerCompile, ignoreMissing) {\n          var parentTemplateId = this._tmpid();\n          var parentName = this._templateName();\n          var cb = this._makeCallback(parentTemplateId);\n          var eagerCompileArg = eagerCompile ? 'true' : 'false';\n          var ignoreMissingArg = ignoreMissing ? 'true' : 'false';\n          this._emit('env.getTemplate(');\n          this._compileExpression(node.template, frame);\n          this._emitLine(\", \" + eagerCompileArg + \", \" + parentName + \", \" + ignoreMissingArg + \", \" + cb);\n          return parentTemplateId;\n        };\n        _proto.compileImport = function compileImport(node, frame) {\n          var target = node.target.value;\n          var id = this._compileGetTemplate(node, frame, false, false);\n          this._addScopeLevel();\n          this._emitLine(id + '.getExported(' + (node.withContext ? 'context.getVariables(), frame, ' : '') + this._makeCallback(id));\n          this._addScopeLevel();\n          frame.set(target, id);\n          if (frame.parent) {\n            this._emitLine(\"frame.set(\\\"\" + target + \"\\\", \" + id + \");\");\n          } else {\n            this._emitLine(\"context.setVariable(\\\"\" + target + \"\\\", \" + id + \");\");\n          }\n        };\n        _proto.compileFromImport = function compileFromImport(node, frame) {\n          var _this13 = this;\n          var importedId = this._compileGetTemplate(node, frame, false, false);\n          this._addScopeLevel();\n          this._emitLine(importedId + '.getExported(' + (node.withContext ? 'context.getVariables(), frame, ' : '') + this._makeCallback(importedId));\n          this._addScopeLevel();\n          node.names.children.forEach(function (nameNode) {\n            var name;\n            var alias;\n            var id = _this13._tmpid();\n            if (nameNode instanceof nodes.Pair) {\n              name = nameNode.key.value;\n              alias = nameNode.value.value;\n            } else {\n              name = nameNode.value;\n              alias = name;\n            }\n            _this13._emitLine(\"if(Object.prototype.hasOwnProperty.call(\" + importedId + \", \\\"\" + name + \"\\\")) {\");\n            _this13._emitLine(\"var \" + id + \" = \" + importedId + \".\" + name + \";\");\n            _this13._emitLine('} else {');\n            _this13._emitLine(\"cb(new Error(\\\"cannot import '\" + name + \"'\\\")); return;\");\n            _this13._emitLine('}');\n            frame.set(alias, id);\n            if (frame.parent) {\n              _this13._emitLine(\"frame.set(\\\"\" + alias + \"\\\", \" + id + \");\");\n            } else {\n              _this13._emitLine(\"context.setVariable(\\\"\" + alias + \"\\\", \" + id + \");\");\n            }\n          });\n        };\n        _proto.compileBlock = function compileBlock(node) {\n          var id = this._tmpid(); // If we are executing outside a block (creating a top-level\n          // block), we really don't want to execute its code because it\n          // will execute twice: once when the child template runs and\n          // again when the parent template runs. Note that blocks\n          // within blocks will *always* execute immediately *and*\n          // wherever else they are invoked (like used in a parent\n          // template). This may have behavioral differences from jinja\n          // because blocks can have side effects, but it seems like a\n          // waste of performance to always execute huge top-level\n          // blocks twice\n\n          if (!this.inBlock) {\n            this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(\"\"); } : ');\n          }\n          this._emit(\"context.getBlock(\\\"\" + node.name.value + \"\\\")\");\n          if (!this.inBlock) {\n            this._emit(')');\n          }\n          this._emitLine('(env, context, frame, runtime, ' + this._makeCallback(id));\n          this._emitLine(this.buffer + \" += \" + id + \";\");\n          this._addScopeLevel();\n        };\n        _proto.compileSuper = function compileSuper(node, frame) {\n          var name = node.blockName.value;\n          var id = node.symbol.value;\n          var cb = this._makeCallback(id);\n          this._emitLine(\"context.getSuper(env, \\\"\" + name + \"\\\", b_\" + name + \", frame, runtime, \" + cb);\n          this._emitLine(id + \" = runtime.markSafe(\" + id + \");\");\n          this._addScopeLevel();\n          frame.set(id, id);\n        };\n        _proto.compileExtends = function compileExtends(node, frame) {\n          var k = this._tmpid();\n          var parentTemplateId = this._compileGetTemplate(node, frame, true, false); // extends is a dynamic tag and can occur within a block like\n          // `if`, so if this happens we need to capture the parent\n          // template in the top-level scope\n\n          this._emitLine(\"parentTemplate = \" + parentTemplateId);\n          this._emitLine(\"for(var \" + k + \" in parentTemplate.blocks) {\");\n          this._emitLine(\"context.addBlock(\" + k + \", parentTemplate.blocks[\" + k + \"]);\");\n          this._emitLine('}');\n          this._addScopeLevel();\n        };\n        _proto.compileInclude = function compileInclude(node, frame) {\n          this._emitLine('var tasks = [];');\n          this._emitLine('tasks.push(');\n          this._emitLine('function(callback) {');\n          var id = this._compileGetTemplate(node, frame, false, node.ignoreMissing);\n          this._emitLine(\"callback(null,\" + id + \");});\");\n          this._emitLine('});');\n          var id2 = this._tmpid();\n          this._emitLine('tasks.push(');\n          this._emitLine('function(template, callback){');\n          this._emitLine('template.render(context.getVariables(), frame, ' + this._makeCallback(id2));\n          this._emitLine('callback(null,' + id2 + ');});');\n          this._emitLine('});');\n          this._emitLine('tasks.push(');\n          this._emitLine('function(result, callback){');\n          this._emitLine(this.buffer + \" += result;\");\n          this._emitLine('callback(null);');\n          this._emitLine('});');\n          this._emitLine('env.waterfall(tasks, function(){');\n          this._addScopeLevel();\n        };\n        _proto.compileTemplateData = function compileTemplateData(node, frame) {\n          this.compileLiteral(node, frame);\n        };\n        _proto.compileCapture = function compileCapture(node, frame) {\n          var _this14 = this;\n\n          // we need to temporarily override the current buffer id as 'output'\n          // so the set block writes to the capture output instead of the buffer\n          var buffer = this.buffer;\n          this.buffer = 'output';\n          this._emitLine('(function() {');\n          this._emitLine('var output = \"\";');\n          this._withScopedSyntax(function () {\n            _this14.compile(node.body, frame);\n          });\n          this._emitLine('return output;');\n          this._emitLine('})()'); // and of course, revert back to the old buffer id\n\n          this.buffer = buffer;\n        };\n        _proto.compileOutput = function compileOutput(node, frame) {\n          var _this15 = this;\n          var children = node.children;\n          children.forEach(function (child) {\n            // TemplateData is a special case because it is never\n            // autoescaped, so simply output it for optimization\n            if (child instanceof nodes.TemplateData) {\n              if (child.value) {\n                _this15._emit(_this15.buffer + \" += \");\n                _this15.compileLiteral(child, frame);\n                _this15._emitLine(';');\n              }\n            } else {\n              _this15._emit(_this15.buffer + \" += runtime.suppressValue(\");\n              if (_this15.throwOnUndefined) {\n                _this15._emit('runtime.ensureDefined(');\n              }\n              _this15.compile(child, frame);\n              if (_this15.throwOnUndefined) {\n                _this15._emit(\",\" + node.lineno + \",\" + node.colno + \")\");\n              }\n              _this15._emit(', env.opts.autoescape);\\n');\n            }\n          });\n        };\n        _proto.compileRoot = function compileRoot(node, frame) {\n          var _this16 = this;\n          if (frame) {\n            this.fail('compileRoot: root node can\\'t have frame');\n          }\n          frame = new Frame();\n          this._emitFuncBegin(node, 'root');\n          this._emitLine('var parentTemplate = null;');\n          this._compileChildren(node, frame);\n          this._emitLine('if(parentTemplate) {');\n          this._emitLine('parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);');\n          this._emitLine('} else {');\n          this._emitLine(\"cb(null, \" + this.buffer + \");\");\n          this._emitLine('}');\n          this._emitFuncEnd(true);\n          this.inBlock = true;\n          var blockNames = [];\n          var blocks = node.findAll(nodes.Block);\n          blocks.forEach(function (block, i) {\n            var name = block.name.value;\n            if (blockNames.indexOf(name) !== -1) {\n              throw new Error(\"Block \\\"\" + name + \"\\\" defined more than once.\");\n            }\n            blockNames.push(name);\n            _this16._emitFuncBegin(block, \"b_\" + name);\n            var tmpFrame = new Frame();\n            _this16._emitLine('var frame = frame.push(true);');\n            _this16.compile(block.body, tmpFrame);\n            _this16._emitFuncEnd();\n          });\n          this._emitLine('return {');\n          blocks.forEach(function (block, i) {\n            var blockName = \"b_\" + block.name.value;\n            _this16._emitLine(blockName + \": \" + blockName + \",\");\n          });\n          this._emitLine('root: root\\n};');\n        };\n        _proto.compile = function compile(node, frame) {\n          var _compile = this['compile' + node.typename];\n          if (_compile) {\n            _compile.call(this, node, frame);\n          } else {\n            this.fail(\"compile: Cannot compile node: \" + node.typename, node.lineno, node.colno);\n          }\n        };\n        _proto.getCode = function getCode() {\n          return this.codebuf.join('');\n        };\n        return Compiler;\n      }(Obj);\n      module.exports = {\n        compile: function compile(src, asyncFilters, extensions, name, opts) {\n          if (opts === void 0) {\n            opts = {};\n          }\n          var c = new Compiler(name, opts.throwOnUndefined); // Run the extension preprocessors against the source.\n\n          var preprocessors = (extensions || []).map(function (ext) {\n            return ext.preprocess;\n          }).filter(function (f) {\n            return !!f;\n          });\n          var processedSrc = preprocessors.reduce(function (s, processor) {\n            return processor(s);\n          }, src);\n          c.compile(transformer.transform(parser.parse(processedSrc, extensions, opts), asyncFilters, name));\n          return c.getCode();\n        },\n        Compiler: Compiler\n      };\n\n      /***/\n    }, /* 6 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var path = __webpack_require__(4);\n      var _require = __webpack_require__(1),\n        EmitterObj = _require.EmitterObj;\n      module.exports = /*#__PURE__*/function (_EmitterObj) {\n        _inheritsLoose(Loader, _EmitterObj);\n        function Loader() {\n          return _EmitterObj.apply(this, arguments) || this;\n        }\n        var _proto = Loader.prototype;\n        _proto.resolve = function resolve(from, to) {\n          return path.resolve(path.dirname(from), to);\n        };\n        _proto.isRelative = function isRelative(filename) {\n          return filename.indexOf('./') === 0 || filename.indexOf('../') === 0;\n        };\n        return Loader;\n      }(EmitterObj);\n\n      /***/\n    }, /* 7 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var asap = __webpack_require__(12);\n      var _waterfall = __webpack_require__(15);\n      var lib = __webpack_require__(0);\n      var compiler = __webpack_require__(5);\n      var filters = __webpack_require__(18);\n      var _require = __webpack_require__(10),\n        FileSystemLoader = _require.FileSystemLoader,\n        WebLoader = _require.WebLoader,\n        PrecompiledLoader = _require.PrecompiledLoader;\n      var tests = __webpack_require__(20);\n      var globals = __webpack_require__(21);\n      var _require2 = __webpack_require__(1),\n        Obj = _require2.Obj,\n        EmitterObj = _require2.EmitterObj;\n      var globalRuntime = __webpack_require__(2);\n      var handleError = globalRuntime.handleError,\n        Frame = globalRuntime.Frame;\n      var expressApp = __webpack_require__(22); // If the user is using the async API, *always* call it\n      // asynchronously even if the template was synchronous.\n\n      function callbackAsap(cb, err, res) {\n        asap(function () {\n          cb(err, res);\n        });\n      }\n      /**\n       * A no-op template, for use with {% include ignore missing %}\n       */\n\n      var noopTmplSrc = {\n        type: 'code',\n        obj: {\n          root: function root(env, context, frame, runtime, cb) {\n            try {\n              cb(null, '');\n            } catch (e) {\n              cb(handleError(e, null, null));\n            }\n          }\n        }\n      };\n      var Environment = /*#__PURE__*/function (_EmitterObj) {\n        _inheritsLoose(Environment, _EmitterObj);\n        function Environment() {\n          return _EmitterObj.apply(this, arguments) || this;\n        }\n        var _proto = Environment.prototype;\n        _proto.init = function init(loaders, opts) {\n          var _this = this;\n\n          // The dev flag determines the trace that'll be shown on errors.\n          // If set to true, returns the full trace from the error point,\n          // otherwise will return trace starting from Template.render\n          // (the full trace from within nunjucks may confuse developers using\n          //  the library)\n          // defaults to false\n          opts = this.opts = opts || {};\n          this.opts.dev = !!opts.dev; // The autoescape flag sets global autoescaping. If true,\n          // every string variable will be escaped by default.\n          // If false, strings can be manually escaped using the `escape` filter.\n          // defaults to true\n\n          this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true; // If true, this will make the system throw errors if trying\n          // to output a null or undefined value\n\n          this.opts.throwOnUndefined = !!opts.throwOnUndefined;\n          this.opts.trimBlocks = !!opts.trimBlocks;\n          this.opts.lstripBlocks = !!opts.lstripBlocks;\n          this.loaders = [];\n          if (!loaders) {\n            // The filesystem loader is only available server-side\n            if (FileSystemLoader) {\n              this.loaders = [new FileSystemLoader('views')];\n            } else if (WebLoader) {\n              this.loaders = [new WebLoader('/views')];\n            }\n          } else {\n            this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n          } // It's easy to use precompiled templates: just include them\n          // before you configure nunjucks and this will automatically\n          // pick it up and use it\n\n          if (typeof window !== 'undefined' && window.nunjucksPrecompiled) {\n            this.loaders.unshift(new PrecompiledLoader(window.nunjucksPrecompiled));\n          }\n          this._initLoaders();\n          this.globals = globals();\n          this.filters = {};\n          this.tests = {};\n          this.asyncFilters = [];\n          this.extensions = {};\n          this.extensionsList = [];\n          lib._entries(filters).forEach(function (_ref) {\n            var name = _ref[0],\n              filter = _ref[1];\n            return _this.addFilter(name, filter);\n          });\n          lib._entries(tests).forEach(function (_ref2) {\n            var name = _ref2[0],\n              test = _ref2[1];\n            return _this.addTest(name, test);\n          });\n        };\n        _proto._initLoaders = function _initLoaders() {\n          var _this2 = this;\n          this.loaders.forEach(function (loader) {\n            // Caching and cache busting\n            loader.cache = {};\n            if (typeof loader.on === 'function') {\n              loader.on('update', function (name, fullname) {\n                loader.cache[name] = null;\n                _this2.emit('update', name, fullname, loader);\n              });\n              loader.on('load', function (name, source) {\n                _this2.emit('load', name, source, loader);\n              });\n            }\n          });\n        };\n        _proto.invalidateCache = function invalidateCache() {\n          this.loaders.forEach(function (loader) {\n            loader.cache = {};\n          });\n        };\n        _proto.addExtension = function addExtension(name, extension) {\n          extension.__name = name;\n          this.extensions[name] = extension;\n          this.extensionsList.push(extension);\n          return this;\n        };\n        _proto.removeExtension = function removeExtension(name) {\n          var extension = this.getExtension(name);\n          if (!extension) {\n            return;\n          }\n          this.extensionsList = lib.without(this.extensionsList, extension);\n          delete this.extensions[name];\n        };\n        _proto.getExtension = function getExtension(name) {\n          return this.extensions[name];\n        };\n        _proto.hasExtension = function hasExtension(name) {\n          return !!this.extensions[name];\n        };\n        _proto.addGlobal = function addGlobal(name, value) {\n          this.globals[name] = value;\n          return this;\n        };\n        _proto.getGlobal = function getGlobal(name) {\n          if (typeof this.globals[name] === 'undefined') {\n            throw new Error('global not found: ' + name);\n          }\n          return this.globals[name];\n        };\n        _proto.addFilter = function addFilter(name, func, async) {\n          var wrapped = func;\n          if (async) {\n            this.asyncFilters.push(name);\n          }\n          this.filters[name] = wrapped;\n          return this;\n        };\n        _proto.getFilter = function getFilter(name) {\n          if (!this.filters[name]) {\n            throw new Error('filter not found: ' + name);\n          }\n          return this.filters[name];\n        };\n        _proto.addTest = function addTest(name, func) {\n          this.tests[name] = func;\n          return this;\n        };\n        _proto.getTest = function getTest(name) {\n          if (!this.tests[name]) {\n            throw new Error('test not found: ' + name);\n          }\n          return this.tests[name];\n        };\n        _proto.resolveTemplate = function resolveTemplate(loader, parentName, filename) {\n          var isRelative = loader.isRelative && parentName ? loader.isRelative(filename) : false;\n          return isRelative && loader.resolve ? loader.resolve(parentName, filename) : filename;\n        };\n        _proto.getTemplate = function getTemplate(name, eagerCompile, parentName, ignoreMissing, cb) {\n          var _this3 = this;\n          var that = this;\n          var tmpl = null;\n          if (name && name.raw) {\n            // this fixes autoescape for templates referenced in symbols\n            name = name.raw;\n          }\n          if (lib.isFunction(parentName)) {\n            cb = parentName;\n            parentName = null;\n            eagerCompile = eagerCompile || false;\n          }\n          if (lib.isFunction(eagerCompile)) {\n            cb = eagerCompile;\n            eagerCompile = false;\n          }\n          if (name instanceof Template) {\n            tmpl = name;\n          } else if (typeof name !== 'string') {\n            throw new Error('template names must be a string: ' + name);\n          } else {\n            for (var i = 0; i < this.loaders.length; i++) {\n              var loader = this.loaders[i];\n              tmpl = loader.cache[this.resolveTemplate(loader, parentName, name)];\n              if (tmpl) {\n                break;\n              }\n            }\n          }\n          if (tmpl) {\n            if (eagerCompile) {\n              tmpl.compile();\n            }\n            if (cb) {\n              cb(null, tmpl);\n              return undefined;\n            } else {\n              return tmpl;\n            }\n          }\n          var syncResult;\n          var createTemplate = function createTemplate(err, info) {\n            if (!info && !err && !ignoreMissing) {\n              err = new Error('template not found: ' + name);\n            }\n            if (err) {\n              if (cb) {\n                cb(err);\n                return;\n              } else {\n                throw err;\n              }\n            }\n            var newTmpl;\n            if (!info) {\n              newTmpl = new Template(noopTmplSrc, _this3, '', eagerCompile);\n            } else {\n              newTmpl = new Template(info.src, _this3, info.path, eagerCompile);\n              if (!info.noCache) {\n                info.loader.cache[name] = newTmpl;\n              }\n            }\n            if (cb) {\n              cb(null, newTmpl);\n            } else {\n              syncResult = newTmpl;\n            }\n          };\n          lib.asyncIter(this.loaders, function (loader, i, next, done) {\n            function handle(err, src) {\n              if (err) {\n                done(err);\n              } else if (src) {\n                src.loader = loader;\n                done(null, src);\n              } else {\n                next();\n              }\n            } // Resolve name relative to parentName\n\n            name = that.resolveTemplate(loader, parentName, name);\n            if (loader.async) {\n              loader.getSource(name, handle);\n            } else {\n              handle(null, loader.getSource(name));\n            }\n          }, createTemplate);\n          return syncResult;\n        };\n        _proto.express = function express(app) {\n          return expressApp(this, app);\n        };\n        _proto.render = function render(name, ctx, cb) {\n          if (lib.isFunction(ctx)) {\n            cb = ctx;\n            ctx = null;\n          } // We support a synchronous API to make it easier to migrate\n          // existing code to async. This works because if you don't do\n          // anything async work, the whole thing is actually run\n          // synchronously.\n\n          var syncResult = null;\n          this.getTemplate(name, function (err, tmpl) {\n            if (err && cb) {\n              callbackAsap(cb, err);\n            } else if (err) {\n              throw err;\n            } else {\n              syncResult = tmpl.render(ctx, cb);\n            }\n          });\n          return syncResult;\n        };\n        _proto.renderString = function renderString(src, ctx, opts, cb) {\n          if (lib.isFunction(opts)) {\n            cb = opts;\n            opts = {};\n          }\n          opts = opts || {};\n          var tmpl = new Template(src, this, opts.path);\n          return tmpl.render(ctx, cb);\n        };\n        _proto.waterfall = function waterfall(tasks, callback, forceAsync) {\n          return _waterfall(tasks, callback, forceAsync);\n        };\n        return Environment;\n      }(EmitterObj);\n      var Context = /*#__PURE__*/function (_Obj) {\n        _inheritsLoose(Context, _Obj);\n        function Context() {\n          return _Obj.apply(this, arguments) || this;\n        }\n        var _proto2 = Context.prototype;\n        _proto2.init = function init(ctx, blocks, env) {\n          var _this4 = this;\n\n          // Has to be tied to an environment so we can tap into its globals.\n          this.env = env || new Environment(); // Make a duplicate of ctx\n\n          this.ctx = lib.extend({}, ctx);\n          this.blocks = {};\n          this.exported = [];\n          lib.keys(blocks).forEach(function (name) {\n            _this4.addBlock(name, blocks[name]);\n          });\n        };\n        _proto2.lookup = function lookup(name) {\n          // This is one of the most called functions, so optimize for\n          // the typical case where the name isn't in the globals\n          if (name in this.env.globals && !(name in this.ctx)) {\n            return this.env.globals[name];\n          } else {\n            return this.ctx[name];\n          }\n        };\n        _proto2.setVariable = function setVariable(name, val) {\n          this.ctx[name] = val;\n        };\n        _proto2.getVariables = function getVariables() {\n          return this.ctx;\n        };\n        _proto2.addBlock = function addBlock(name, block) {\n          this.blocks[name] = this.blocks[name] || [];\n          this.blocks[name].push(block);\n          return this;\n        };\n        _proto2.getBlock = function getBlock(name) {\n          if (!this.blocks[name]) {\n            throw new Error('unknown block \"' + name + '\"');\n          }\n          return this.blocks[name][0];\n        };\n        _proto2.getSuper = function getSuper(env, name, block, frame, runtime, cb) {\n          var idx = lib.indexOf(this.blocks[name] || [], block);\n          var blk = this.blocks[name][idx + 1];\n          var context = this;\n          if (idx === -1 || !blk) {\n            throw new Error('no super block available for \"' + name + '\"');\n          }\n          blk(env, context, frame, runtime, cb);\n        };\n        _proto2.addExport = function addExport(name) {\n          this.exported.push(name);\n        };\n        _proto2.getExported = function getExported() {\n          var _this5 = this;\n          var exported = {};\n          this.exported.forEach(function (name) {\n            exported[name] = _this5.ctx[name];\n          });\n          return exported;\n        };\n        return Context;\n      }(Obj);\n      var Template = /*#__PURE__*/function (_Obj2) {\n        _inheritsLoose(Template, _Obj2);\n        function Template() {\n          return _Obj2.apply(this, arguments) || this;\n        }\n        var _proto3 = Template.prototype;\n        _proto3.init = function init(src, env, path, eagerCompile) {\n          this.env = env || new Environment();\n          if (lib.isObject(src)) {\n            switch (src.type) {\n              case 'code':\n                this.tmplProps = src.obj;\n                break;\n              case 'string':\n                this.tmplStr = src.obj;\n                break;\n              default:\n                throw new Error(\"Unexpected template object type \" + src.type + \"; expected 'code', or 'string'\");\n            }\n          } else if (lib.isString(src)) {\n            this.tmplStr = src;\n          } else {\n            throw new Error('src must be a string or an object describing the source');\n          }\n          this.path = path;\n          if (eagerCompile) {\n            try {\n              this._compile();\n            } catch (err) {\n              throw lib._prettifyError(this.path, this.env.opts.dev, err);\n            }\n          } else {\n            this.compiled = false;\n          }\n        };\n        _proto3.render = function render(ctx, parentFrame, cb) {\n          var _this6 = this;\n          if (typeof ctx === 'function') {\n            cb = ctx;\n            ctx = {};\n          } else if (typeof parentFrame === 'function') {\n            cb = parentFrame;\n            parentFrame = null;\n          } // If there is a parent frame, we are being called from internal\n          // code of another template, and the internal system\n          // depends on the sync/async nature of the parent template\n          // to be inherited, so force an async callback\n\n          var forceAsync = !parentFrame; // Catch compile errors for async rendering\n\n          try {\n            this.compile();\n          } catch (e) {\n            var err = lib._prettifyError(this.path, this.env.opts.dev, e);\n            if (cb) {\n              return callbackAsap(cb, err);\n            } else {\n              throw err;\n            }\n          }\n          var context = new Context(ctx || {}, this.blocks, this.env);\n          var frame = parentFrame ? parentFrame.push(true) : new Frame();\n          frame.topLevel = true;\n          var syncResult = null;\n          var didError = false;\n          this.rootRenderFunc(this.env, context, frame, globalRuntime, function (err, res) {\n            // TODO: this is actually a bug in the compiled template (because waterfall\n            // tasks are both not passing errors up the chain of callbacks AND are not\n            // causing a return from the top-most render function). But fixing that\n            // will require a more substantial change to the compiler.\n            if (didError && cb && typeof res !== 'undefined') {\n              // prevent multiple calls to cb\n              return;\n            }\n            if (err) {\n              err = lib._prettifyError(_this6.path, _this6.env.opts.dev, err);\n              didError = true;\n            }\n            if (cb) {\n              if (forceAsync) {\n                callbackAsap(cb, err, res);\n              } else {\n                cb(err, res);\n              }\n            } else {\n              if (err) {\n                throw err;\n              }\n              syncResult = res;\n            }\n          });\n          return syncResult;\n        };\n        _proto3.getExported = function getExported(ctx, parentFrame, cb) {\n          // eslint-disable-line consistent-return\n          if (typeof ctx === 'function') {\n            cb = ctx;\n            ctx = {};\n          }\n          if (typeof parentFrame === 'function') {\n            cb = parentFrame;\n            parentFrame = null;\n          } // Catch compile errors for async rendering\n\n          try {\n            this.compile();\n          } catch (e) {\n            if (cb) {\n              return cb(e);\n            } else {\n              throw e;\n            }\n          }\n          var frame = parentFrame ? parentFrame.push() : new Frame();\n          frame.topLevel = true; // Run the rootRenderFunc to populate the context with exported vars\n\n          var context = new Context(ctx || {}, this.blocks, this.env);\n          this.rootRenderFunc(this.env, context, frame, globalRuntime, function (err) {\n            if (err) {\n              cb(err, null);\n            } else {\n              cb(null, context.getExported());\n            }\n          });\n        };\n        _proto3.compile = function compile() {\n          if (!this.compiled) {\n            this._compile();\n          }\n        };\n        _proto3._compile = function _compile() {\n          var props;\n          if (this.tmplProps) {\n            props = this.tmplProps;\n          } else {\n            var source = compiler.compile(this.tmplStr, this.env.asyncFilters, this.env.extensionsList, this.path, this.env.opts);\n            var func = new Function(source); // eslint-disable-line no-new-func\n\n            props = func();\n          }\n          this.blocks = this._getBlocks(props);\n          this.rootRenderFunc = props.root;\n          this.compiled = true;\n        };\n        _proto3._getBlocks = function _getBlocks(props) {\n          var blocks = {};\n          lib.keys(props).forEach(function (k) {\n            if (k.slice(0, 2) === 'b_') {\n              blocks[k.slice(2)] = props[k];\n            }\n          });\n          return blocks;\n        };\n        return Template;\n      }(Obj);\n      module.exports = {\n        Environment: Environment,\n        Template: Template\n      };\n\n      /***/\n    }, /* 8 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var lexer = __webpack_require__(9);\n      var nodes = __webpack_require__(3);\n      var Obj = __webpack_require__(1).Obj;\n      var lib = __webpack_require__(0);\n      var Parser = /*#__PURE__*/function (_Obj) {\n        _inheritsLoose(Parser, _Obj);\n        function Parser() {\n          return _Obj.apply(this, arguments) || this;\n        }\n        var _proto = Parser.prototype;\n        _proto.init = function init(tokens) {\n          this.tokens = tokens;\n          this.peeked = null;\n          this.breakOnBlocks = null;\n          this.dropLeadingWhitespace = false;\n          this.extensions = [];\n        };\n        _proto.nextToken = function nextToken(withWhitespace) {\n          var tok;\n          if (this.peeked) {\n            if (!withWhitespace && this.peeked.type === lexer.TOKEN_WHITESPACE) {\n              this.peeked = null;\n            } else {\n              tok = this.peeked;\n              this.peeked = null;\n              return tok;\n            }\n          }\n          tok = this.tokens.nextToken();\n          if (!withWhitespace) {\n            while (tok && tok.type === lexer.TOKEN_WHITESPACE) {\n              tok = this.tokens.nextToken();\n            }\n          }\n          return tok;\n        };\n        _proto.peekToken = function peekToken() {\n          this.peeked = this.peeked || this.nextToken();\n          return this.peeked;\n        };\n        _proto.pushToken = function pushToken(tok) {\n          if (this.peeked) {\n            throw new Error('pushToken: can only push one token on between reads');\n          }\n          this.peeked = tok;\n        };\n        _proto.error = function error(msg, lineno, colno) {\n          if (lineno === undefined || colno === undefined) {\n            var tok = this.peekToken() || {};\n            lineno = tok.lineno;\n            colno = tok.colno;\n          }\n          if (lineno !== undefined) {\n            lineno += 1;\n          }\n          if (colno !== undefined) {\n            colno += 1;\n          }\n          return new lib.TemplateError(msg, lineno, colno);\n        };\n        _proto.fail = function fail(msg, lineno, colno) {\n          throw this.error(msg, lineno, colno);\n        };\n        _proto.skip = function skip(type) {\n          var tok = this.nextToken();\n          if (!tok || tok.type !== type) {\n            this.pushToken(tok);\n            return false;\n          }\n          return true;\n        };\n        _proto.expect = function expect(type) {\n          var tok = this.nextToken();\n          if (tok.type !== type) {\n            this.fail('expected ' + type + ', got ' + tok.type, tok.lineno, tok.colno);\n          }\n          return tok;\n        };\n        _proto.skipValue = function skipValue(type, val) {\n          var tok = this.nextToken();\n          if (!tok || tok.type !== type || tok.value !== val) {\n            this.pushToken(tok);\n            return false;\n          }\n          return true;\n        };\n        _proto.skipSymbol = function skipSymbol(val) {\n          return this.skipValue(lexer.TOKEN_SYMBOL, val);\n        };\n        _proto.advanceAfterBlockEnd = function advanceAfterBlockEnd(name) {\n          var tok;\n          if (!name) {\n            tok = this.peekToken();\n            if (!tok) {\n              this.fail('unexpected end of file');\n            }\n            if (tok.type !== lexer.TOKEN_SYMBOL) {\n              this.fail('advanceAfterBlockEnd: expected symbol token or ' + 'explicit name to be passed');\n            }\n            name = this.nextToken().value;\n          }\n          tok = this.nextToken();\n          if (tok && tok.type === lexer.TOKEN_BLOCK_END) {\n            if (tok.value.charAt(0) === '-') {\n              this.dropLeadingWhitespace = true;\n            }\n          } else {\n            this.fail('expected block end in ' + name + ' statement');\n          }\n          return tok;\n        };\n        _proto.advanceAfterVariableEnd = function advanceAfterVariableEnd() {\n          var tok = this.nextToken();\n          if (tok && tok.type === lexer.TOKEN_VARIABLE_END) {\n            this.dropLeadingWhitespace = tok.value.charAt(tok.value.length - this.tokens.tags.VARIABLE_END.length - 1) === '-';\n          } else {\n            this.pushToken(tok);\n            this.fail('expected variable end');\n          }\n        };\n        _proto.parseFor = function parseFor() {\n          var forTok = this.peekToken();\n          var node;\n          var endBlock;\n          if (this.skipSymbol('for')) {\n            node = new nodes.For(forTok.lineno, forTok.colno);\n            endBlock = 'endfor';\n          } else if (this.skipSymbol('asyncEach')) {\n            node = new nodes.AsyncEach(forTok.lineno, forTok.colno);\n            endBlock = 'endeach';\n          } else if (this.skipSymbol('asyncAll')) {\n            node = new nodes.AsyncAll(forTok.lineno, forTok.colno);\n            endBlock = 'endall';\n          } else {\n            this.fail('parseFor: expected for{Async}', forTok.lineno, forTok.colno);\n          }\n          node.name = this.parsePrimary();\n          if (!(node.name instanceof nodes.Symbol)) {\n            this.fail('parseFor: variable name expected for loop');\n          }\n          var type = this.peekToken().type;\n          if (type === lexer.TOKEN_COMMA) {\n            // key/value iteration\n            var key = node.name;\n            node.name = new nodes.Array(key.lineno, key.colno);\n            node.name.addChild(key);\n            while (this.skip(lexer.TOKEN_COMMA)) {\n              var prim = this.parsePrimary();\n              node.name.addChild(prim);\n            }\n          }\n          if (!this.skipSymbol('in')) {\n            this.fail('parseFor: expected \"in\" keyword for loop', forTok.lineno, forTok.colno);\n          }\n          node.arr = this.parseExpression();\n          this.advanceAfterBlockEnd(forTok.value);\n          node.body = this.parseUntilBlocks(endBlock, 'else');\n          if (this.skipSymbol('else')) {\n            this.advanceAfterBlockEnd('else');\n            node.else_ = this.parseUntilBlocks(endBlock);\n          }\n          this.advanceAfterBlockEnd();\n          return node;\n        };\n        _proto.parseMacro = function parseMacro() {\n          var macroTok = this.peekToken();\n          if (!this.skipSymbol('macro')) {\n            this.fail('expected macro');\n          }\n          var name = this.parsePrimary(true);\n          var args = this.parseSignature();\n          var node = new nodes.Macro(macroTok.lineno, macroTok.colno, name, args);\n          this.advanceAfterBlockEnd(macroTok.value);\n          node.body = this.parseUntilBlocks('endmacro');\n          this.advanceAfterBlockEnd();\n          return node;\n        };\n        _proto.parseCall = function parseCall() {\n          // a call block is parsed as a normal FunCall, but with an added\n          // 'caller' kwarg which is a Caller node.\n          var callTok = this.peekToken();\n          if (!this.skipSymbol('call')) {\n            this.fail('expected call');\n          }\n          var callerArgs = this.parseSignature(true) || new nodes.NodeList();\n          var macroCall = this.parsePrimary();\n          this.advanceAfterBlockEnd(callTok.value);\n          var body = this.parseUntilBlocks('endcall');\n          this.advanceAfterBlockEnd();\n          var callerName = new nodes.Symbol(callTok.lineno, callTok.colno, 'caller');\n          var callerNode = new nodes.Caller(callTok.lineno, callTok.colno, callerName, callerArgs, body); // add the additional caller kwarg, adding kwargs if necessary\n\n          var args = macroCall.args.children;\n          if (!(args[args.length - 1] instanceof nodes.KeywordArgs)) {\n            args.push(new nodes.KeywordArgs());\n          }\n          var kwargs = args[args.length - 1];\n          kwargs.addChild(new nodes.Pair(callTok.lineno, callTok.colno, callerName, callerNode));\n          return new nodes.Output(callTok.lineno, callTok.colno, [macroCall]);\n        };\n        _proto.parseWithContext = function parseWithContext() {\n          var tok = this.peekToken();\n          var withContext = null;\n          if (this.skipSymbol('with')) {\n            withContext = true;\n          } else if (this.skipSymbol('without')) {\n            withContext = false;\n          }\n          if (withContext !== null) {\n            if (!this.skipSymbol('context')) {\n              this.fail('parseFrom: expected context after with/without', tok.lineno, tok.colno);\n            }\n          }\n          return withContext;\n        };\n        _proto.parseImport = function parseImport() {\n          var importTok = this.peekToken();\n          if (!this.skipSymbol('import')) {\n            this.fail('parseImport: expected import', importTok.lineno, importTok.colno);\n          }\n          var template = this.parseExpression();\n          if (!this.skipSymbol('as')) {\n            this.fail('parseImport: expected \"as\" keyword', importTok.lineno, importTok.colno);\n          }\n          var target = this.parseExpression();\n          var withContext = this.parseWithContext();\n          var node = new nodes.Import(importTok.lineno, importTok.colno, template, target, withContext);\n          this.advanceAfterBlockEnd(importTok.value);\n          return node;\n        };\n        _proto.parseFrom = function parseFrom() {\n          var fromTok = this.peekToken();\n          if (!this.skipSymbol('from')) {\n            this.fail('parseFrom: expected from');\n          }\n          var template = this.parseExpression();\n          if (!this.skipSymbol('import')) {\n            this.fail('parseFrom: expected import', fromTok.lineno, fromTok.colno);\n          }\n          var names = new nodes.NodeList();\n          var withContext;\n          while (1) {\n            // eslint-disable-line no-constant-condition\n            var nextTok = this.peekToken();\n            if (nextTok.type === lexer.TOKEN_BLOCK_END) {\n              if (!names.children.length) {\n                this.fail('parseFrom: Expected at least one import name', fromTok.lineno, fromTok.colno);\n              } // Since we are manually advancing past the block end,\n              // need to keep track of whitespace control (normally\n              // this is done in `advanceAfterBlockEnd`\n\n              if (nextTok.value.charAt(0) === '-') {\n                this.dropLeadingWhitespace = true;\n              }\n              this.nextToken();\n              break;\n            }\n            if (names.children.length > 0 && !this.skip(lexer.TOKEN_COMMA)) {\n              this.fail('parseFrom: expected comma', fromTok.lineno, fromTok.colno);\n            }\n            var name = this.parsePrimary();\n            if (name.value.charAt(0) === '_') {\n              this.fail('parseFrom: names starting with an underscore cannot be imported', name.lineno, name.colno);\n            }\n            if (this.skipSymbol('as')) {\n              var alias = this.parsePrimary();\n              names.addChild(new nodes.Pair(name.lineno, name.colno, name, alias));\n            } else {\n              names.addChild(name);\n            }\n            withContext = this.parseWithContext();\n          }\n          return new nodes.FromImport(fromTok.lineno, fromTok.colno, template, names, withContext);\n        };\n        _proto.parseBlock = function parseBlock() {\n          var tag = this.peekToken();\n          if (!this.skipSymbol('block')) {\n            this.fail('parseBlock: expected block', tag.lineno, tag.colno);\n          }\n          var node = new nodes.Block(tag.lineno, tag.colno);\n          node.name = this.parsePrimary();\n          if (!(node.name instanceof nodes.Symbol)) {\n            this.fail('parseBlock: variable name expected', tag.lineno, tag.colno);\n          }\n          this.advanceAfterBlockEnd(tag.value);\n          node.body = this.parseUntilBlocks('endblock');\n          this.skipSymbol('endblock');\n          this.skipSymbol(node.name.value);\n          var tok = this.peekToken();\n          if (!tok) {\n            this.fail('parseBlock: expected endblock, got end of file');\n          }\n          this.advanceAfterBlockEnd(tok.value);\n          return node;\n        };\n        _proto.parseExtends = function parseExtends() {\n          var tagName = 'extends';\n          var tag = this.peekToken();\n          if (!this.skipSymbol(tagName)) {\n            this.fail('parseTemplateRef: expected ' + tagName);\n          }\n          var node = new nodes.Extends(tag.lineno, tag.colno);\n          node.template = this.parseExpression();\n          this.advanceAfterBlockEnd(tag.value);\n          return node;\n        };\n        _proto.parseInclude = function parseInclude() {\n          var tagName = 'include';\n          var tag = this.peekToken();\n          if (!this.skipSymbol(tagName)) {\n            this.fail('parseInclude: expected ' + tagName);\n          }\n          var node = new nodes.Include(tag.lineno, tag.colno);\n          node.template = this.parseExpression();\n          if (this.skipSymbol('ignore') && this.skipSymbol('missing')) {\n            node.ignoreMissing = true;\n          }\n          this.advanceAfterBlockEnd(tag.value);\n          return node;\n        };\n        _proto.parseIf = function parseIf() {\n          var tag = this.peekToken();\n          var node;\n          if (this.skipSymbol('if') || this.skipSymbol('elif') || this.skipSymbol('elseif')) {\n            node = new nodes.If(tag.lineno, tag.colno);\n          } else if (this.skipSymbol('ifAsync')) {\n            node = new nodes.IfAsync(tag.lineno, tag.colno);\n          } else {\n            this.fail('parseIf: expected if, elif, or elseif', tag.lineno, tag.colno);\n          }\n          node.cond = this.parseExpression();\n          this.advanceAfterBlockEnd(tag.value);\n          node.body = this.parseUntilBlocks('elif', 'elseif', 'else', 'endif');\n          var tok = this.peekToken();\n          switch (tok && tok.value) {\n            case 'elseif':\n            case 'elif':\n              node.else_ = this.parseIf();\n              break;\n            case 'else':\n              this.advanceAfterBlockEnd();\n              node.else_ = this.parseUntilBlocks('endif');\n              this.advanceAfterBlockEnd();\n              break;\n            case 'endif':\n              node.else_ = null;\n              this.advanceAfterBlockEnd();\n              break;\n            default:\n              this.fail('parseIf: expected elif, else, or endif, got end of file');\n          }\n          return node;\n        };\n        _proto.parseSet = function parseSet() {\n          var tag = this.peekToken();\n          if (!this.skipSymbol('set')) {\n            this.fail('parseSet: expected set', tag.lineno, tag.colno);\n          }\n          var node = new nodes.Set(tag.lineno, tag.colno, []);\n          var target;\n          while (target = this.parsePrimary()) {\n            node.targets.push(target);\n            if (!this.skip(lexer.TOKEN_COMMA)) {\n              break;\n            }\n          }\n          if (!this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n            if (!this.skip(lexer.TOKEN_BLOCK_END)) {\n              this.fail('parseSet: expected = or block end in set tag', tag.lineno, tag.colno);\n            } else {\n              node.body = new nodes.Capture(tag.lineno, tag.colno, this.parseUntilBlocks('endset'));\n              node.value = null;\n              this.advanceAfterBlockEnd();\n            }\n          } else {\n            node.value = this.parseExpression();\n            this.advanceAfterBlockEnd(tag.value);\n          }\n          return node;\n        };\n        _proto.parseSwitch = function parseSwitch() {\n          /*\n           * Store the tag names in variables in case someone ever wants to\n           * customize this.\n           */\n          var switchStart = 'switch';\n          var switchEnd = 'endswitch';\n          var caseStart = 'case';\n          var caseDefault = 'default'; // Get the switch tag.\n\n          var tag = this.peekToken(); // fail early if we get some unexpected tag.\n\n          if (!this.skipSymbol(switchStart) && !this.skipSymbol(caseStart) && !this.skipSymbol(caseDefault)) {\n            this.fail('parseSwitch: expected \"switch,\" \"case\" or \"default\"', tag.lineno, tag.colno);\n          } // parse the switch expression\n\n          var expr = this.parseExpression(); // advance until a start of a case, a default case or an endswitch.\n\n          this.advanceAfterBlockEnd(switchStart);\n          this.parseUntilBlocks(caseStart, caseDefault, switchEnd); // this is the first case. it could also be an endswitch, we'll check.\n\n          var tok = this.peekToken(); // create new variables for our cases and default case.\n\n          var cases = [];\n          var defaultCase; // while we're dealing with new cases nodes...\n\n          do {\n            // skip the start symbol and get the case expression\n            this.skipSymbol(caseStart);\n            var cond = this.parseExpression();\n            this.advanceAfterBlockEnd(switchStart); // get the body of the case node and add it to the array of cases.\n\n            var body = this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n            cases.push(new nodes.Case(tok.line, tok.col, cond, body)); // get our next case\n\n            tok = this.peekToken();\n          } while (tok && tok.value === caseStart); // we either have a default case or a switch end.\n\n          switch (tok.value) {\n            case caseDefault:\n              this.advanceAfterBlockEnd();\n              defaultCase = this.parseUntilBlocks(switchEnd);\n              this.advanceAfterBlockEnd();\n              break;\n            case switchEnd:\n              this.advanceAfterBlockEnd();\n              break;\n            default:\n              // otherwise bail because EOF\n              this.fail('parseSwitch: expected \"case,\" \"default\" or \"endswitch,\" got EOF.');\n          } // and return the switch node.\n\n          return new nodes.Switch(tag.lineno, tag.colno, expr, cases, defaultCase);\n        };\n        _proto.parseStatement = function parseStatement() {\n          var tok = this.peekToken();\n          var node;\n          if (tok.type !== lexer.TOKEN_SYMBOL) {\n            this.fail('tag name expected', tok.lineno, tok.colno);\n          }\n          if (this.breakOnBlocks && lib.indexOf(this.breakOnBlocks, tok.value) !== -1) {\n            return null;\n          }\n          switch (tok.value) {\n            case 'raw':\n              return this.parseRaw();\n            case 'verbatim':\n              return this.parseRaw('verbatim');\n            case 'if':\n            case 'ifAsync':\n              return this.parseIf();\n            case 'for':\n            case 'asyncEach':\n            case 'asyncAll':\n              return this.parseFor();\n            case 'block':\n              return this.parseBlock();\n            case 'extends':\n              return this.parseExtends();\n            case 'include':\n              return this.parseInclude();\n            case 'set':\n              return this.parseSet();\n            case 'macro':\n              return this.parseMacro();\n            case 'call':\n              return this.parseCall();\n            case 'import':\n              return this.parseImport();\n            case 'from':\n              return this.parseFrom();\n            case 'filter':\n              return this.parseFilterStatement();\n            case 'switch':\n              return this.parseSwitch();\n            default:\n              if (this.extensions.length) {\n                for (var i = 0; i < this.extensions.length; i++) {\n                  var ext = this.extensions[i];\n                  if (lib.indexOf(ext.tags || [], tok.value) !== -1) {\n                    return ext.parse(this, nodes, lexer);\n                  }\n                }\n              }\n              this.fail('unknown block tag: ' + tok.value, tok.lineno, tok.colno);\n          }\n          return node;\n        };\n        _proto.parseRaw = function parseRaw(tagName) {\n          tagName = tagName || 'raw';\n          var endTagName = 'end' + tagName; // Look for upcoming raw blocks (ignore all other kinds of blocks)\n\n          var rawBlockRegex = new RegExp('([\\\\s\\\\S]*?){%\\\\s*(' + tagName + '|' + endTagName + ')\\\\s*(?=%})%}');\n          var rawLevel = 1;\n          var str = '';\n          var matches = null; // Skip opening raw token\n          // Keep this token to track line and column numbers\n\n          var begun = this.advanceAfterBlockEnd(); // Exit when there's nothing to match\n          // or when we've found the matching \"endraw\" block\n\n          while ((matches = this.tokens._extractRegex(rawBlockRegex)) && rawLevel > 0) {\n            var all = matches[0];\n            var pre = matches[1];\n            var blockName = matches[2]; // Adjust rawlevel\n\n            if (blockName === tagName) {\n              rawLevel += 1;\n            } else if (blockName === endTagName) {\n              rawLevel -= 1;\n            } // Add to str\n\n            if (rawLevel === 0) {\n              // We want to exclude the last \"endraw\"\n              str += pre; // Move tokenizer to beginning of endraw block\n\n              this.tokens.backN(all.length - pre.length);\n            } else {\n              str += all;\n            }\n          }\n          return new nodes.Output(begun.lineno, begun.colno, [new nodes.TemplateData(begun.lineno, begun.colno, str)]);\n        };\n        _proto.parsePostfix = function parsePostfix(node) {\n          var lookup;\n          var tok = this.peekToken();\n          while (tok) {\n            if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n              // Function call\n              node = new nodes.FunCall(tok.lineno, tok.colno, node, this.parseSignature());\n            } else if (tok.type === lexer.TOKEN_LEFT_BRACKET) {\n              // Reference\n              lookup = this.parseAggregate();\n              if (lookup.children.length > 1) {\n                this.fail('invalid index');\n              }\n              node = new nodes.LookupVal(tok.lineno, tok.colno, node, lookup.children[0]);\n            } else if (tok.type === lexer.TOKEN_OPERATOR && tok.value === '.') {\n              // Reference\n              this.nextToken();\n              var val = this.nextToken();\n              if (val.type !== lexer.TOKEN_SYMBOL) {\n                this.fail('expected name as lookup value, got ' + val.value, val.lineno, val.colno);\n              } // Make a literal string because it's not a variable\n              // reference\n\n              lookup = new nodes.Literal(val.lineno, val.colno, val.value);\n              node = new nodes.LookupVal(tok.lineno, tok.colno, node, lookup);\n            } else {\n              break;\n            }\n            tok = this.peekToken();\n          }\n          return node;\n        };\n        _proto.parseExpression = function parseExpression() {\n          var node = this.parseInlineIf();\n          return node;\n        };\n        _proto.parseInlineIf = function parseInlineIf() {\n          var node = this.parseOr();\n          if (this.skipSymbol('if')) {\n            var condNode = this.parseOr();\n            var bodyNode = node;\n            node = new nodes.InlineIf(node.lineno, node.colno);\n            node.body = bodyNode;\n            node.cond = condNode;\n            if (this.skipSymbol('else')) {\n              node.else_ = this.parseOr();\n            } else {\n              node.else_ = null;\n            }\n          }\n          return node;\n        };\n        _proto.parseOr = function parseOr() {\n          var node = this.parseAnd();\n          while (this.skipSymbol('or')) {\n            var node2 = this.parseAnd();\n            node = new nodes.Or(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseAnd = function parseAnd() {\n          var node = this.parseNot();\n          while (this.skipSymbol('and')) {\n            var node2 = this.parseNot();\n            node = new nodes.And(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseNot = function parseNot() {\n          var tok = this.peekToken();\n          if (this.skipSymbol('not')) {\n            return new nodes.Not(tok.lineno, tok.colno, this.parseNot());\n          }\n          return this.parseIn();\n        };\n        _proto.parseIn = function parseIn() {\n          var node = this.parseIs();\n          while (1) {\n            // eslint-disable-line no-constant-condition\n            // check if the next token is 'not'\n            var tok = this.nextToken();\n            if (!tok) {\n              break;\n            }\n            var invert = tok.type === lexer.TOKEN_SYMBOL && tok.value === 'not'; // if it wasn't 'not', put it back\n\n            if (!invert) {\n              this.pushToken(tok);\n            }\n            if (this.skipSymbol('in')) {\n              var node2 = this.parseIs();\n              node = new nodes.In(node.lineno, node.colno, node, node2);\n              if (invert) {\n                node = new nodes.Not(node.lineno, node.colno, node);\n              }\n            } else {\n              // if we'd found a 'not' but this wasn't an 'in', put back the 'not'\n              if (invert) {\n                this.pushToken(tok);\n              }\n              break;\n            }\n          }\n          return node;\n        } // I put this right after \"in\" in the operator precedence stack. That can\n        // obviously be changed to be closer to Jinja.\n        ;\n\n        _proto.parseIs = function parseIs() {\n          var node = this.parseCompare(); // look for an is\n\n          if (this.skipSymbol('is')) {\n            // look for a not\n            var not = this.skipSymbol('not'); // get the next node\n\n            var node2 = this.parseCompare(); // create an Is node using the next node and the info from our Is node.\n\n            node = new nodes.Is(node.lineno, node.colno, node, node2); // if we have a Not, create a Not node from our Is node.\n\n            if (not) {\n              node = new nodes.Not(node.lineno, node.colno, node);\n            }\n          } // return the node.\n\n          return node;\n        };\n        _proto.parseCompare = function parseCompare() {\n          var compareOps = ['==', '===', '!=', '!==', '<', '>', '<=', '>='];\n          var expr = this.parseConcat();\n          var ops = [];\n          while (1) {\n            // eslint-disable-line no-constant-condition\n            var tok = this.nextToken();\n            if (!tok) {\n              break;\n            } else if (compareOps.indexOf(tok.value) !== -1) {\n              ops.push(new nodes.CompareOperand(tok.lineno, tok.colno, this.parseConcat(), tok.value));\n            } else {\n              this.pushToken(tok);\n              break;\n            }\n          }\n          if (ops.length) {\n            return new nodes.Compare(ops[0].lineno, ops[0].colno, expr, ops);\n          } else {\n            return expr;\n          }\n        } // finds the '~' for string concatenation\n        ;\n\n        _proto.parseConcat = function parseConcat() {\n          var node = this.parseAdd();\n          while (this.skipValue(lexer.TOKEN_TILDE, '~')) {\n            var node2 = this.parseAdd();\n            node = new nodes.Concat(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseAdd = function parseAdd() {\n          var node = this.parseSub();\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n            var node2 = this.parseSub();\n            node = new nodes.Add(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseSub = function parseSub() {\n          var node = this.parseMul();\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n            var node2 = this.parseMul();\n            node = new nodes.Sub(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseMul = function parseMul() {\n          var node = this.parseDiv();\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '*')) {\n            var node2 = this.parseDiv();\n            node = new nodes.Mul(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseDiv = function parseDiv() {\n          var node = this.parseFloorDiv();\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '/')) {\n            var node2 = this.parseFloorDiv();\n            node = new nodes.Div(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseFloorDiv = function parseFloorDiv() {\n          var node = this.parseMod();\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '//')) {\n            var node2 = this.parseMod();\n            node = new nodes.FloorDiv(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseMod = function parseMod() {\n          var node = this.parsePow();\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '%')) {\n            var node2 = this.parsePow();\n            node = new nodes.Mod(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parsePow = function parsePow() {\n          var node = this.parseUnary();\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '**')) {\n            var node2 = this.parseUnary();\n            node = new nodes.Pow(node.lineno, node.colno, node, node2);\n          }\n          return node;\n        };\n        _proto.parseUnary = function parseUnary(noFilters) {\n          var tok = this.peekToken();\n          var node;\n          if (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n            node = new nodes.Neg(tok.lineno, tok.colno, this.parseUnary(true));\n          } else if (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n            node = new nodes.Pos(tok.lineno, tok.colno, this.parseUnary(true));\n          } else {\n            node = this.parsePrimary();\n          }\n          if (!noFilters) {\n            node = this.parseFilter(node);\n          }\n          return node;\n        };\n        _proto.parsePrimary = function parsePrimary(noPostfix) {\n          var tok = this.nextToken();\n          var val;\n          var node = null;\n          if (!tok) {\n            this.fail('expected expression, got end of file');\n          } else if (tok.type === lexer.TOKEN_STRING) {\n            val = tok.value;\n          } else if (tok.type === lexer.TOKEN_INT) {\n            val = parseInt(tok.value, 10);\n          } else if (tok.type === lexer.TOKEN_FLOAT) {\n            val = parseFloat(tok.value);\n          } else if (tok.type === lexer.TOKEN_BOOLEAN) {\n            if (tok.value === 'true') {\n              val = true;\n            } else if (tok.value === 'false') {\n              val = false;\n            } else {\n              this.fail('invalid boolean: ' + tok.value, tok.lineno, tok.colno);\n            }\n          } else if (tok.type === lexer.TOKEN_NONE) {\n            val = null;\n          } else if (tok.type === lexer.TOKEN_REGEX) {\n            val = new RegExp(tok.value.body, tok.value.flags);\n          }\n          if (val !== undefined) {\n            node = new nodes.Literal(tok.lineno, tok.colno, val);\n          } else if (tok.type === lexer.TOKEN_SYMBOL) {\n            node = new nodes.Symbol(tok.lineno, tok.colno, tok.value);\n          } else {\n            // See if it's an aggregate type, we need to push the\n            // current delimiter token back on\n            this.pushToken(tok);\n            node = this.parseAggregate();\n          }\n          if (!noPostfix) {\n            node = this.parsePostfix(node);\n          }\n          if (node) {\n            return node;\n          } else {\n            throw this.error(\"unexpected token: \" + tok.value, tok.lineno, tok.colno);\n          }\n        };\n        _proto.parseFilterName = function parseFilterName() {\n          var tok = this.expect(lexer.TOKEN_SYMBOL);\n          var name = tok.value;\n          while (this.skipValue(lexer.TOKEN_OPERATOR, '.')) {\n            name += '.' + this.expect(lexer.TOKEN_SYMBOL).value;\n          }\n          return new nodes.Symbol(tok.lineno, tok.colno, name);\n        };\n        _proto.parseFilterArgs = function parseFilterArgs(node) {\n          if (this.peekToken().type === lexer.TOKEN_LEFT_PAREN) {\n            // Get a FunCall node and add the parameters to the\n            // filter\n            var call = this.parsePostfix(node);\n            return call.args.children;\n          }\n          return [];\n        };\n        _proto.parseFilter = function parseFilter(node) {\n          while (this.skip(lexer.TOKEN_PIPE)) {\n            var name = this.parseFilterName();\n            node = new nodes.Filter(name.lineno, name.colno, name, new nodes.NodeList(name.lineno, name.colno, [node].concat(this.parseFilterArgs(node))));\n          }\n          return node;\n        };\n        _proto.parseFilterStatement = function parseFilterStatement() {\n          var filterTok = this.peekToken();\n          if (!this.skipSymbol('filter')) {\n            this.fail('parseFilterStatement: expected filter');\n          }\n          var name = this.parseFilterName();\n          var args = this.parseFilterArgs(name);\n          this.advanceAfterBlockEnd(filterTok.value);\n          var body = new nodes.Capture(name.lineno, name.colno, this.parseUntilBlocks('endfilter'));\n          this.advanceAfterBlockEnd();\n          var node = new nodes.Filter(name.lineno, name.colno, name, new nodes.NodeList(name.lineno, name.colno, [body].concat(args)));\n          return new nodes.Output(name.lineno, name.colno, [node]);\n        };\n        _proto.parseAggregate = function parseAggregate() {\n          var tok = this.nextToken();\n          var node;\n          switch (tok.type) {\n            case lexer.TOKEN_LEFT_PAREN:\n              node = new nodes.Group(tok.lineno, tok.colno);\n              break;\n            case lexer.TOKEN_LEFT_BRACKET:\n              node = new nodes.Array(tok.lineno, tok.colno);\n              break;\n            case lexer.TOKEN_LEFT_CURLY:\n              node = new nodes.Dict(tok.lineno, tok.colno);\n              break;\n            default:\n              return null;\n          }\n          while (1) {\n            // eslint-disable-line no-constant-condition\n            var type = this.peekToken().type;\n            if (type === lexer.TOKEN_RIGHT_PAREN || type === lexer.TOKEN_RIGHT_BRACKET || type === lexer.TOKEN_RIGHT_CURLY) {\n              this.nextToken();\n              break;\n            }\n            if (node.children.length > 0) {\n              if (!this.skip(lexer.TOKEN_COMMA)) {\n                this.fail('parseAggregate: expected comma after expression', tok.lineno, tok.colno);\n              }\n            }\n            if (node instanceof nodes.Dict) {\n              // TODO: check for errors\n              var key = this.parsePrimary(); // We expect a key/value pair for dicts, separated by a\n              // colon\n\n              if (!this.skip(lexer.TOKEN_COLON)) {\n                this.fail('parseAggregate: expected colon after dict key', tok.lineno, tok.colno);\n              } // TODO: check for errors\n\n              var value = this.parseExpression();\n              node.addChild(new nodes.Pair(key.lineno, key.colno, key, value));\n            } else {\n              // TODO: check for errors\n              var expr = this.parseExpression();\n              node.addChild(expr);\n            }\n          }\n          return node;\n        };\n        _proto.parseSignature = function parseSignature(tolerant, noParens) {\n          var tok = this.peekToken();\n          if (!noParens && tok.type !== lexer.TOKEN_LEFT_PAREN) {\n            if (tolerant) {\n              return null;\n            } else {\n              this.fail('expected arguments', tok.lineno, tok.colno);\n            }\n          }\n          if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n            tok = this.nextToken();\n          }\n          var args = new nodes.NodeList(tok.lineno, tok.colno);\n          var kwargs = new nodes.KeywordArgs(tok.lineno, tok.colno);\n          var checkComma = false;\n          while (1) {\n            // eslint-disable-line no-constant-condition\n            tok = this.peekToken();\n            if (!noParens && tok.type === lexer.TOKEN_RIGHT_PAREN) {\n              this.nextToken();\n              break;\n            } else if (noParens && tok.type === lexer.TOKEN_BLOCK_END) {\n              break;\n            }\n            if (checkComma && !this.skip(lexer.TOKEN_COMMA)) {\n              this.fail('parseSignature: expected comma after expression', tok.lineno, tok.colno);\n            } else {\n              var arg = this.parseExpression();\n              if (this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n                kwargs.addChild(new nodes.Pair(arg.lineno, arg.colno, arg, this.parseExpression()));\n              } else {\n                args.addChild(arg);\n              }\n            }\n            checkComma = true;\n          }\n          if (kwargs.children.length) {\n            args.addChild(kwargs);\n          }\n          return args;\n        };\n        _proto.parseUntilBlocks = function parseUntilBlocks() {\n          var prev = this.breakOnBlocks;\n          for (var _len = arguments.length, blockNames = new Array(_len), _key = 0; _key < _len; _key++) {\n            blockNames[_key] = arguments[_key];\n          }\n          this.breakOnBlocks = blockNames;\n          var ret = this.parse();\n          this.breakOnBlocks = prev;\n          return ret;\n        };\n        _proto.parseNodes = function parseNodes() {\n          var tok;\n          var buf = [];\n          while (tok = this.nextToken()) {\n            if (tok.type === lexer.TOKEN_DATA) {\n              var data = tok.value;\n              var nextToken = this.peekToken();\n              var nextVal = nextToken && nextToken.value; // If the last token has \"-\" we need to trim the\n              // leading whitespace of the data. This is marked with\n              // the `dropLeadingWhitespace` variable.\n\n              if (this.dropLeadingWhitespace) {\n                // TODO: this could be optimized (don't use regex)\n                data = data.replace(/^\\s*/, '');\n                this.dropLeadingWhitespace = false;\n              } // Same for the succeeding block start token\n\n              if (nextToken && (nextToken.type === lexer.TOKEN_BLOCK_START && nextVal.charAt(nextVal.length - 1) === '-' || nextToken.type === lexer.TOKEN_VARIABLE_START && nextVal.charAt(this.tokens.tags.VARIABLE_START.length) === '-' || nextToken.type === lexer.TOKEN_COMMENT && nextVal.charAt(this.tokens.tags.COMMENT_START.length) === '-')) {\n                // TODO: this could be optimized (don't use regex)\n                data = data.replace(/\\s*$/, '');\n              }\n              buf.push(new nodes.Output(tok.lineno, tok.colno, [new nodes.TemplateData(tok.lineno, tok.colno, data)]));\n            } else if (tok.type === lexer.TOKEN_BLOCK_START) {\n              this.dropLeadingWhitespace = false;\n              var n = this.parseStatement();\n              if (!n) {\n                break;\n              }\n              buf.push(n);\n            } else if (tok.type === lexer.TOKEN_VARIABLE_START) {\n              var e = this.parseExpression();\n              this.dropLeadingWhitespace = false;\n              this.advanceAfterVariableEnd();\n              buf.push(new nodes.Output(tok.lineno, tok.colno, [e]));\n            } else if (tok.type === lexer.TOKEN_COMMENT) {\n              this.dropLeadingWhitespace = tok.value.charAt(tok.value.length - this.tokens.tags.COMMENT_END.length - 1) === '-';\n            } else {\n              // Ignore comments, otherwise this should be an error\n              this.fail('Unexpected token at top-level: ' + tok.type, tok.lineno, tok.colno);\n            }\n          }\n          return buf;\n        };\n        _proto.parse = function parse() {\n          return new nodes.NodeList(0, 0, this.parseNodes());\n        };\n        _proto.parseAsRoot = function parseAsRoot() {\n          return new nodes.Root(0, 0, this.parseNodes());\n        };\n        return Parser;\n      }(Obj); // var util = require('util');\n      // var l = lexer.lex('{%- if x -%}\\n hello {% endif %}');\n      // var t;\n      // while((t = l.nextToken())) {\n      //     console.log(util.inspect(t));\n      // }\n      // var p = new Parser(lexer.lex('hello {% filter title %}' +\n      //                              'Hello madam how are you' +\n      //                              '{% endfilter %}'));\n      // var n = p.parseAsRoot();\n      // nodes.printNodes(n);\n\n      module.exports = {\n        parse: function parse(src, extensions, opts) {\n          var p = new Parser(lexer.lex(src, opts));\n          if (extensions !== undefined) {\n            p.extensions = extensions;\n          }\n          return p.parseAsRoot();\n        },\n        Parser: Parser\n      };\n\n      /***/\n    }, /* 9 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var lib = __webpack_require__(0);\n      var whitespaceChars = \" \\n\\t\\r\\xA0\";\n      var delimChars = '()[]{}%*-+~/#,:|.<>=!';\n      var intChars = '0123456789';\n      var BLOCK_START = '{%';\n      var BLOCK_END = '%}';\n      var VARIABLE_START = '{{';\n      var VARIABLE_END = '}}';\n      var COMMENT_START = '{#';\n      var COMMENT_END = '#}';\n      var TOKEN_STRING = 'string';\n      var TOKEN_WHITESPACE = 'whitespace';\n      var TOKEN_DATA = 'data';\n      var TOKEN_BLOCK_START = 'block-start';\n      var TOKEN_BLOCK_END = 'block-end';\n      var TOKEN_VARIABLE_START = 'variable-start';\n      var TOKEN_VARIABLE_END = 'variable-end';\n      var TOKEN_COMMENT = 'comment';\n      var TOKEN_LEFT_PAREN = 'left-paren';\n      var TOKEN_RIGHT_PAREN = 'right-paren';\n      var TOKEN_LEFT_BRACKET = 'left-bracket';\n      var TOKEN_RIGHT_BRACKET = 'right-bracket';\n      var TOKEN_LEFT_CURLY = 'left-curly';\n      var TOKEN_RIGHT_CURLY = 'right-curly';\n      var TOKEN_OPERATOR = 'operator';\n      var TOKEN_COMMA = 'comma';\n      var TOKEN_COLON = 'colon';\n      var TOKEN_TILDE = 'tilde';\n      var TOKEN_PIPE = 'pipe';\n      var TOKEN_INT = 'int';\n      var TOKEN_FLOAT = 'float';\n      var TOKEN_BOOLEAN = 'boolean';\n      var TOKEN_NONE = 'none';\n      var TOKEN_SYMBOL = 'symbol';\n      var TOKEN_SPECIAL = 'special';\n      var TOKEN_REGEX = 'regex';\n      function token(type, value, lineno, colno) {\n        return {\n          type: type,\n          value: value,\n          lineno: lineno,\n          colno: colno\n        };\n      }\n      var Tokenizer = /*#__PURE__*/function () {\n        function Tokenizer(str, opts) {\n          this.str = str;\n          this.index = 0;\n          this.len = str.length;\n          this.lineno = 0;\n          this.colno = 0;\n          this.in_code = false;\n          opts = opts || {};\n          var tags = opts.tags || {};\n          this.tags = {\n            BLOCK_START: tags.blockStart || BLOCK_START,\n            BLOCK_END: tags.blockEnd || BLOCK_END,\n            VARIABLE_START: tags.variableStart || VARIABLE_START,\n            VARIABLE_END: tags.variableEnd || VARIABLE_END,\n            COMMENT_START: tags.commentStart || COMMENT_START,\n            COMMENT_END: tags.commentEnd || COMMENT_END\n          };\n          this.trimBlocks = !!opts.trimBlocks;\n          this.lstripBlocks = !!opts.lstripBlocks;\n        }\n        var _proto = Tokenizer.prototype;\n        _proto.nextToken = function nextToken() {\n          var lineno = this.lineno;\n          var colno = this.colno;\n          var tok;\n          if (this.in_code) {\n            // Otherwise, if we are in a block parse it as code\n            var cur = this.current();\n            if (this.isFinished()) {\n              // We have nothing else to parse\n              return null;\n            } else if (cur === '\"' || cur === '\\'') {\n              // We've hit a string\n              return token(TOKEN_STRING, this._parseString(cur), lineno, colno);\n            } else if (tok = this._extract(whitespaceChars)) {\n              // We hit some whitespace\n              return token(TOKEN_WHITESPACE, tok, lineno, colno);\n            } else if ((tok = this._extractString(this.tags.BLOCK_END)) || (tok = this._extractString('-' + this.tags.BLOCK_END))) {\n              // Special check for the block end tag\n              //\n              // It is a requirement that start and end tags are composed of\n              // delimiter characters (%{}[] etc), and our code always\n              // breaks on delimiters so we can assume the token parsing\n              // doesn't consume these elsewhere\n              this.in_code = false;\n              if (this.trimBlocks) {\n                cur = this.current();\n                if (cur === '\\n') {\n                  // Skip newline\n                  this.forward();\n                } else if (cur === '\\r') {\n                  // Skip CRLF newline\n                  this.forward();\n                  cur = this.current();\n                  if (cur === '\\n') {\n                    this.forward();\n                  } else {\n                    // Was not a CRLF, so go back\n                    this.back();\n                  }\n                }\n              }\n              return token(TOKEN_BLOCK_END, tok, lineno, colno);\n            } else if ((tok = this._extractString(this.tags.VARIABLE_END)) || (tok = this._extractString('-' + this.tags.VARIABLE_END))) {\n              // Special check for variable end tag (see above)\n              this.in_code = false;\n              return token(TOKEN_VARIABLE_END, tok, lineno, colno);\n            } else if (cur === 'r' && this.str.charAt(this.index + 1) === '/') {\n              // Skip past 'r/'.\n              this.forwardN(2); // Extract until the end of the regex -- / ends it, \\/ does not.\n\n              var regexBody = '';\n              while (!this.isFinished()) {\n                if (this.current() === '/' && this.previous() !== '\\\\') {\n                  this.forward();\n                  break;\n                } else {\n                  regexBody += this.current();\n                  this.forward();\n                }\n              } // Check for flags.\n              // The possible flags are according to https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp)\n\n              var POSSIBLE_FLAGS = ['g', 'i', 'm', 'y'];\n              var regexFlags = '';\n              while (!this.isFinished()) {\n                var isCurrentAFlag = POSSIBLE_FLAGS.indexOf(this.current()) !== -1;\n                if (isCurrentAFlag) {\n                  regexFlags += this.current();\n                  this.forward();\n                } else {\n                  break;\n                }\n              }\n              return token(TOKEN_REGEX, {\n                body: regexBody,\n                flags: regexFlags\n              }, lineno, colno);\n            } else if (delimChars.indexOf(cur) !== -1) {\n              // We've hit a delimiter (a special char like a bracket)\n              this.forward();\n              var complexOps = ['==', '===', '!=', '!==', '<=', '>=', '//', '**'];\n              var curComplex = cur + this.current();\n              var type;\n              if (lib.indexOf(complexOps, curComplex) !== -1) {\n                this.forward();\n                cur = curComplex; // See if this is a strict equality/inequality comparator\n\n                if (lib.indexOf(complexOps, curComplex + this.current()) !== -1) {\n                  cur = curComplex + this.current();\n                  this.forward();\n                }\n              }\n              switch (cur) {\n                case '(':\n                  type = TOKEN_LEFT_PAREN;\n                  break;\n                case ')':\n                  type = TOKEN_RIGHT_PAREN;\n                  break;\n                case '[':\n                  type = TOKEN_LEFT_BRACKET;\n                  break;\n                case ']':\n                  type = TOKEN_RIGHT_BRACKET;\n                  break;\n                case '{':\n                  type = TOKEN_LEFT_CURLY;\n                  break;\n                case '}':\n                  type = TOKEN_RIGHT_CURLY;\n                  break;\n                case ',':\n                  type = TOKEN_COMMA;\n                  break;\n                case ':':\n                  type = TOKEN_COLON;\n                  break;\n                case '~':\n                  type = TOKEN_TILDE;\n                  break;\n                case '|':\n                  type = TOKEN_PIPE;\n                  break;\n                default:\n                  type = TOKEN_OPERATOR;\n              }\n              return token(type, cur, lineno, colno);\n            } else {\n              // We are not at whitespace or a delimiter, so extract the\n              // text and parse it\n              tok = this._extractUntil(whitespaceChars + delimChars);\n              if (tok.match(/^[-+]?[0-9]+$/)) {\n                if (this.current() === '.') {\n                  this.forward();\n                  var dec = this._extract(intChars);\n                  return token(TOKEN_FLOAT, tok + '.' + dec, lineno, colno);\n                } else {\n                  return token(TOKEN_INT, tok, lineno, colno);\n                }\n              } else if (tok.match(/^(true|false)$/)) {\n                return token(TOKEN_BOOLEAN, tok, lineno, colno);\n              } else if (tok === 'none') {\n                return token(TOKEN_NONE, tok, lineno, colno);\n                /*\n                 * Added to make the test `null is null` evaluate truthily.\n                 * Otherwise, Nunjucks will look up null in the context and\n                 * return `undefined`, which is not what we want. This *may* have\n                 * consequences is someone is using null in their templates as a\n                 * variable.\n                 */\n              } else if (tok === 'null') {\n                return token(TOKEN_NONE, tok, lineno, colno);\n              } else if (tok) {\n                return token(TOKEN_SYMBOL, tok, lineno, colno);\n              } else {\n                throw new Error('Unexpected value while parsing: ' + tok);\n              }\n            }\n          } else {\n            // Parse out the template text, breaking on tag\n            // delimiters because we need to look for block/variable start\n            // tags (don't use the full delimChars for optimization)\n            var beginChars = this.tags.BLOCK_START.charAt(0) + this.tags.VARIABLE_START.charAt(0) + this.tags.COMMENT_START.charAt(0) + this.tags.COMMENT_END.charAt(0);\n            if (this.isFinished()) {\n              return null;\n            } else if ((tok = this._extractString(this.tags.BLOCK_START + '-')) || (tok = this._extractString(this.tags.BLOCK_START))) {\n              this.in_code = true;\n              return token(TOKEN_BLOCK_START, tok, lineno, colno);\n            } else if ((tok = this._extractString(this.tags.VARIABLE_START + '-')) || (tok = this._extractString(this.tags.VARIABLE_START))) {\n              this.in_code = true;\n              return token(TOKEN_VARIABLE_START, tok, lineno, colno);\n            } else {\n              tok = '';\n              var data;\n              var inComment = false;\n              if (this._matches(this.tags.COMMENT_START)) {\n                inComment = true;\n                tok = this._extractString(this.tags.COMMENT_START);\n              } // Continually consume text, breaking on the tag delimiter\n              // characters and checking to see if it's a start tag.\n              //\n              // We could hit the end of the template in the middle of\n              // our looping, so check for the null return value from\n              // _extractUntil\n\n              while ((data = this._extractUntil(beginChars)) !== null) {\n                tok += data;\n                if ((this._matches(this.tags.BLOCK_START) || this._matches(this.tags.VARIABLE_START) || this._matches(this.tags.COMMENT_START)) && !inComment) {\n                  if (this.lstripBlocks && this._matches(this.tags.BLOCK_START) && this.colno > 0 && this.colno <= tok.length) {\n                    var lastLine = tok.slice(-this.colno);\n                    if (/^\\s+$/.test(lastLine)) {\n                      // Remove block leading whitespace from beginning of the string\n                      tok = tok.slice(0, -this.colno);\n                      if (!tok.length) {\n                        // All data removed, collapse to avoid unnecessary nodes\n                        // by returning next token (block start)\n                        return this.nextToken();\n                      }\n                    }\n                  } // If it is a start tag, stop looping\n\n                  break;\n                } else if (this._matches(this.tags.COMMENT_END)) {\n                  if (!inComment) {\n                    throw new Error('unexpected end of comment');\n                  }\n                  tok += this._extractString(this.tags.COMMENT_END);\n                  break;\n                } else {\n                  // It does not match any tag, so add the character and\n                  // carry on\n                  tok += this.current();\n                  this.forward();\n                }\n              }\n              if (data === null && inComment) {\n                throw new Error('expected end of comment, got end of file');\n              }\n              return token(inComment ? TOKEN_COMMENT : TOKEN_DATA, tok, lineno, colno);\n            }\n          }\n        };\n        _proto._parseString = function _parseString(delimiter) {\n          this.forward();\n          var str = '';\n          while (!this.isFinished() && this.current() !== delimiter) {\n            var cur = this.current();\n            if (cur === '\\\\') {\n              this.forward();\n              switch (this.current()) {\n                case 'n':\n                  str += '\\n';\n                  break;\n                case 't':\n                  str += '\\t';\n                  break;\n                case 'r':\n                  str += '\\r';\n                  break;\n                default:\n                  str += this.current();\n              }\n              this.forward();\n            } else {\n              str += cur;\n              this.forward();\n            }\n          }\n          this.forward();\n          return str;\n        };\n        _proto._matches = function _matches(str) {\n          if (this.index + str.length > this.len) {\n            return null;\n          }\n          var m = this.str.slice(this.index, this.index + str.length);\n          return m === str;\n        };\n        _proto._extractString = function _extractString(str) {\n          if (this._matches(str)) {\n            this.forwardN(str.length);\n            return str;\n          }\n          return null;\n        };\n        _proto._extractUntil = function _extractUntil(charString) {\n          // Extract all non-matching chars, with the default matching set\n          // to everything\n          return this._extractMatching(true, charString || '');\n        };\n        _proto._extract = function _extract(charString) {\n          // Extract all matching chars (no default, so charString must be\n          // explicit)\n          return this._extractMatching(false, charString);\n        };\n        _proto._extractMatching = function _extractMatching(breakOnMatch, charString) {\n          // Pull out characters until a breaking char is hit.\n          // If breakOnMatch is false, a non-matching char stops it.\n          // If breakOnMatch is true, a matching char stops it.\n          if (this.isFinished()) {\n            return null;\n          }\n          var first = charString.indexOf(this.current()); // Only proceed if the first character doesn't meet our condition\n\n          if (breakOnMatch && first === -1 || !breakOnMatch && first !== -1) {\n            var t = this.current();\n            this.forward(); // And pull out all the chars one at a time until we hit a\n            // breaking char\n\n            var idx = charString.indexOf(this.current());\n            while ((breakOnMatch && idx === -1 || !breakOnMatch && idx !== -1) && !this.isFinished()) {\n              t += this.current();\n              this.forward();\n              idx = charString.indexOf(this.current());\n            }\n            return t;\n          }\n          return '';\n        };\n        _proto._extractRegex = function _extractRegex(regex) {\n          var matches = this.currentStr().match(regex);\n          if (!matches) {\n            return null;\n          } // Move forward whatever was matched\n\n          this.forwardN(matches[0].length);\n          return matches;\n        };\n        _proto.isFinished = function isFinished() {\n          return this.index >= this.len;\n        };\n        _proto.forwardN = function forwardN(n) {\n          for (var i = 0; i < n; i++) {\n            this.forward();\n          }\n        };\n        _proto.forward = function forward() {\n          this.index++;\n          if (this.previous() === '\\n') {\n            this.lineno++;\n            this.colno = 0;\n          } else {\n            this.colno++;\n          }\n        };\n        _proto.backN = function backN(n) {\n          for (var i = 0; i < n; i++) {\n            this.back();\n          }\n        };\n        _proto.back = function back() {\n          this.index--;\n          if (this.current() === '\\n') {\n            this.lineno--;\n            var idx = this.src.lastIndexOf('\\n', this.index - 1);\n            if (idx === -1) {\n              this.colno = this.index;\n            } else {\n              this.colno = this.index - idx;\n            }\n          } else {\n            this.colno--;\n          }\n        } // current returns current character\n        ;\n\n        _proto.current = function current() {\n          if (!this.isFinished()) {\n            return this.str.charAt(this.index);\n          }\n          return '';\n        } // currentStr returns what's left of the unparsed string\n        ;\n\n        _proto.currentStr = function currentStr() {\n          if (!this.isFinished()) {\n            return this.str.substr(this.index);\n          }\n          return '';\n        };\n        _proto.previous = function previous() {\n          return this.str.charAt(this.index - 1);\n        };\n        return Tokenizer;\n      }();\n      module.exports = {\n        lex: function lex(src, opts) {\n          return new Tokenizer(src, opts);\n        },\n        TOKEN_STRING: TOKEN_STRING,\n        TOKEN_WHITESPACE: TOKEN_WHITESPACE,\n        TOKEN_DATA: TOKEN_DATA,\n        TOKEN_BLOCK_START: TOKEN_BLOCK_START,\n        TOKEN_BLOCK_END: TOKEN_BLOCK_END,\n        TOKEN_VARIABLE_START: TOKEN_VARIABLE_START,\n        TOKEN_VARIABLE_END: TOKEN_VARIABLE_END,\n        TOKEN_COMMENT: TOKEN_COMMENT,\n        TOKEN_LEFT_PAREN: TOKEN_LEFT_PAREN,\n        TOKEN_RIGHT_PAREN: TOKEN_RIGHT_PAREN,\n        TOKEN_LEFT_BRACKET: TOKEN_LEFT_BRACKET,\n        TOKEN_RIGHT_BRACKET: TOKEN_RIGHT_BRACKET,\n        TOKEN_LEFT_CURLY: TOKEN_LEFT_CURLY,\n        TOKEN_RIGHT_CURLY: TOKEN_RIGHT_CURLY,\n        TOKEN_OPERATOR: TOKEN_OPERATOR,\n        TOKEN_COMMA: TOKEN_COMMA,\n        TOKEN_COLON: TOKEN_COLON,\n        TOKEN_TILDE: TOKEN_TILDE,\n        TOKEN_PIPE: TOKEN_PIPE,\n        TOKEN_INT: TOKEN_INT,\n        TOKEN_FLOAT: TOKEN_FLOAT,\n        TOKEN_BOOLEAN: TOKEN_BOOLEAN,\n        TOKEN_NONE: TOKEN_NONE,\n        TOKEN_SYMBOL: TOKEN_SYMBOL,\n        TOKEN_SPECIAL: TOKEN_SPECIAL,\n        TOKEN_REGEX: TOKEN_REGEX\n      };\n\n      /***/\n    }, /* 10 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var Loader = __webpack_require__(6);\n      var _require = __webpack_require__(19),\n        PrecompiledLoader = _require.PrecompiledLoader;\n      var WebLoader = /*#__PURE__*/function (_Loader) {\n        _inheritsLoose(WebLoader, _Loader);\n        function WebLoader(baseURL, opts) {\n          var _this;\n          _this = _Loader.call(this) || this;\n          _this.baseURL = baseURL || '.';\n          opts = opts || {}; // By default, the cache is turned off because there's no way\n          // to \"watch\" templates over HTTP, so they are re-downloaded\n          // and compiled each time. (Remember, PRECOMPILE YOUR\n          // TEMPLATES in production!)\n\n          _this.useCache = !!opts.useCache; // We default `async` to false so that the simple synchronous\n          // API can be used when you aren't doing anything async in\n          // your templates (which is most of the time). This performs a\n          // sync ajax request, but that's ok because it should *only*\n          // happen in development. PRECOMPILE YOUR TEMPLATES.\n\n          _this.async = !!opts.async;\n          return _this;\n        }\n        var _proto = WebLoader.prototype;\n        _proto.resolve = function resolve(from, to) {\n          throw new Error('relative templates not support in the browser yet');\n        };\n        _proto.getSource = function getSource(name, cb) {\n          var _this2 = this;\n          var useCache = this.useCache;\n          var result;\n          this.fetch(this.baseURL + '/' + name, function (err, src) {\n            if (err) {\n              if (cb) {\n                cb(err.content);\n              } else if (err.status === 404) {\n                result = null;\n              } else {\n                throw err.content;\n              }\n            } else {\n              result = {\n                src: src,\n                path: name,\n                noCache: !useCache\n              };\n              _this2.emit('load', name, result);\n              if (cb) {\n                cb(null, result);\n              }\n            }\n          }); // if this WebLoader isn't running asynchronously, the\n          // fetch above would actually run sync and we'll have a\n          // result here\n\n          return result;\n        };\n        _proto.fetch = function fetch(url, cb) {\n          // Only in the browser please\n          if (typeof window === 'undefined') {\n            throw new Error('WebLoader can only by used in a browser');\n          }\n          var ajax = new XMLHttpRequest();\n          var loading = true;\n          ajax.onreadystatechange = function () {\n            if (ajax.readyState === 4 && loading) {\n              loading = false;\n              if (ajax.status === 0 || ajax.status === 200) {\n                cb(null, ajax.responseText);\n              } else {\n                cb({\n                  status: ajax.status,\n                  content: ajax.responseText\n                });\n              }\n            }\n          };\n          url += (url.indexOf('?') === -1 ? '?' : '&') + 's=' + new Date().getTime();\n          ajax.open('GET', url, this.async);\n          ajax.send();\n        };\n        return WebLoader;\n      }(Loader);\n      module.exports = {\n        WebLoader: WebLoader,\n        PrecompiledLoader: PrecompiledLoader\n      };\n\n      /***/\n    }, /* 11 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var lib = __webpack_require__(0);\n      var _require = __webpack_require__(7),\n        Environment = _require.Environment,\n        Template = _require.Template;\n      var Loader = __webpack_require__(6);\n      var loaders = __webpack_require__(10);\n      var precompile = __webpack_require__(23);\n      var compiler = __webpack_require__(5);\n      var parser = __webpack_require__(8);\n      var lexer = __webpack_require__(9);\n      var runtime = __webpack_require__(2);\n      var nodes = __webpack_require__(3);\n      var installJinjaCompat = __webpack_require__(25); // A single instance of an environment, since this is so commonly used\n\n      var e;\n      function configure(templatesPath, opts) {\n        opts = opts || {};\n        if (lib.isObject(templatesPath)) {\n          opts = templatesPath;\n          templatesPath = null;\n        }\n        var TemplateLoader;\n        if (loaders.FileSystemLoader) {\n          TemplateLoader = new loaders.FileSystemLoader(templatesPath, {\n            watch: opts.watch,\n            noCache: opts.noCache\n          });\n        } else if (loaders.WebLoader) {\n          TemplateLoader = new loaders.WebLoader(templatesPath, {\n            useCache: opts.web && opts.web.useCache,\n            async: opts.web && opts.web.async\n          });\n        }\n        e = new Environment(TemplateLoader, opts);\n        if (opts && opts.express) {\n          e.express(opts.express);\n        }\n        return e;\n      }\n      module.exports = {\n        Environment: Environment,\n        Template: Template,\n        Loader: Loader,\n        FileSystemLoader: loaders.FileSystemLoader,\n        NodeResolveLoader: loaders.NodeResolveLoader,\n        PrecompiledLoader: loaders.PrecompiledLoader,\n        WebLoader: loaders.WebLoader,\n        compiler: compiler,\n        parser: parser,\n        lexer: lexer,\n        runtime: runtime,\n        lib: lib,\n        nodes: nodes,\n        installJinjaCompat: installJinjaCompat,\n        configure: configure,\n        reset: function reset() {\n          e = undefined;\n        },\n        compile: function compile(src, env, path, eagerCompile) {\n          if (!e) {\n            configure();\n          }\n          return new Template(src, env, path, eagerCompile);\n        },\n        render: function render(name, ctx, cb) {\n          if (!e) {\n            configure();\n          }\n          return e.render(name, ctx, cb);\n        },\n        renderString: function renderString(src, ctx, cb) {\n          if (!e) {\n            configure();\n          }\n          return e.renderString(src, ctx, cb);\n        },\n        precompile: precompile ? precompile.precompile : undefined,\n        precompileString: precompile ? precompile.precompileString : undefined\n      };\n\n      /***/\n    }, /* 12 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      // rawAsap provides everything we need except exception management.\n      var rawAsap = __webpack_require__(13);\n      // RawTasks are recycled to reduce GC churn.\n      var freeTasks = [];\n      // We queue errors to ensure they are thrown in right order (FIFO).\n      // Array-as-queue is good enough here, since we are just dealing with exceptions.\n      var pendingErrors = [];\n      var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n      function throwFirstError() {\n        if (pendingErrors.length) {\n          throw pendingErrors.shift();\n        }\n      }\n\n      /**\n       * Calls a task as soon as possible after returning, in its own event, with priority\n       * over other events like animation, reflow, and repaint. An error thrown from an\n       * event will not interrupt, nor even substantially slow down the processing of\n       * other events, but will be rather postponed to a lower priority event.\n       * @param {{call}} task A callable object, typically a function that takes no\n       * arguments.\n       */\n      module.exports = asap;\n      function asap(task) {\n        var rawTask;\n        if (freeTasks.length) {\n          rawTask = freeTasks.pop();\n        } else {\n          rawTask = new RawTask();\n        }\n        rawTask.task = task;\n        rawAsap(rawTask);\n      }\n\n      // We wrap tasks with recyclable task objects.  A task object implements\n      // `call`, just like a function.\n      function RawTask() {\n        this.task = null;\n      }\n\n      // The sole purpose of wrapping the task is to catch the exception and recycle\n      // the task object after its single use.\n      RawTask.prototype.call = function () {\n        try {\n          this.task.call();\n        } catch (error) {\n          if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n          } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n          }\n        } finally {\n          this.task = null;\n          freeTasks[freeTasks.length] = this;\n        }\n      };\n\n      /***/\n    }, /* 13 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n        // Use the fastest means possible to execute a task in its own turn, with\n        // priority over other events including IO, animation, reflow, and redraw\n        // events in browsers.\n        //\n        // An exception thrown by a task will permanently interrupt the processing of\n        // subsequent tasks. The higher level `asap` function ensures that if an\n        // exception is thrown by a task, that the task queue will continue flushing as\n        // soon as possible, but if you use `rawAsap` directly, you are responsible to\n        // either ensure that no exceptions are thrown from your task, or to manually\n        // call `rawAsap.requestFlush` if an exception is thrown.\n        module.exports = rawAsap;\n        function rawAsap(task) {\n          if (!queue.length) {\n            requestFlush();\n            flushing = true;\n          }\n          // Equivalent to push, but avoids a function call.\n          queue[queue.length] = task;\n        }\n        var queue = [];\n        // Once a flush has been requested, no further calls to `requestFlush` are\n        // necessary until the next `flush` completes.\n        var flushing = false;\n        // `requestFlush` is an implementation-specific method that attempts to kick\n        // off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n        // the event queue before yielding to the browser's own event loop.\n        var requestFlush;\n        // The position of the next task to execute in the task queue. This is\n        // preserved between calls to `flush` so that it can be resumed if\n        // a task throws an exception.\n        var index = 0;\n        // If a task schedules additional tasks recursively, the task queue can grow\n        // unbounded. To prevent memory exhaustion, the task queue will periodically\n        // truncate already-completed tasks.\n        var capacity = 1024;\n\n        // The flush function processes all tasks that have been scheduled with\n        // `rawAsap` unless and until one of those tasks throws an exception.\n        // If a task throws an exception, `flush` ensures that its state will remain\n        // consistent and will resume where it left off when called again.\n        // However, `flush` does not make any arrangements to be called again if an\n        // exception is thrown.\n        function flush() {\n          while (index < queue.length) {\n            var currentIndex = index;\n            // Advance the index before calling the task. This ensures that we will\n            // begin flushing on the next task the task throws an error.\n            index = index + 1;\n            queue[currentIndex].call();\n            // Prevent leaking memory for long chains of recursive calls to `asap`.\n            // If we call `asap` within tasks scheduled by `asap`, the queue will\n            // grow, but to avoid an O(n) walk for every task we execute, we don't\n            // shift tasks off the queue after they have been executed.\n            // Instead, we periodically shift 1024 tasks off the queue.\n            if (index > capacity) {\n              // Manually shift all values starting at the index back to the\n              // beginning of the queue.\n              for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n              }\n              queue.length -= index;\n              index = 0;\n            }\n          }\n          queue.length = 0;\n          index = 0;\n          flushing = false;\n        }\n\n        // `requestFlush` is implemented using a strategy based on data collected from\n        // every available SauceLabs Selenium web driver worker at time of writing.\n        // https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n        // Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n        // have WebKitMutationObserver but not un-prefixed MutationObserver.\n        // Must use `global` or `self` instead of `window` to work in both frames and web\n        // workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n        /* globals self */\n        var scope = typeof global !== \"undefined\" ? global : self;\n        var BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n        // MutationObservers are desirable because they have high priority and work\n        // reliably everywhere they are implemented.\n        // They are implemented in all modern browsers.\n        //\n        // - Android 4-4.3\n        // - Chrome 26-34\n        // - Firefox 14-29\n        // - Internet Explorer 11\n        // - iPad Safari 6-7.1\n        // - iPhone Safari 7-7.1\n        // - Safari 6-7\n        if (typeof BrowserMutationObserver === \"function\") {\n          requestFlush = makeRequestCallFromMutationObserver(flush);\n\n          // MessageChannels are desirable because they give direct access to the HTML\n          // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n          // 11-12, and in web workers in many engines.\n          // Although message channels yield to any queued rendering and IO tasks, they\n          // would be better than imposing the 4ms delay of timers.\n          // However, they do not work reliably in Internet Explorer or Safari.\n\n          // Internet Explorer 10 is the only browser that has setImmediate but does\n          // not have MutationObservers.\n          // Although setImmediate yields to the browser's renderer, it would be\n          // preferrable to falling back to setTimeout since it does not have\n          // the minimum 4ms penalty.\n          // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n          // Desktop to a lesser extent) that renders both setImmediate and\n          // MessageChannel useless for the purposes of ASAP.\n          // https://github.com/kriskowal/q/issues/396\n\n          // Timers are implemented universally.\n          // We fall back to timers in workers in most engines, and in foreground\n          // contexts in the following browsers.\n          // However, note that even this simple case requires nuances to operate in a\n          // broad spectrum of browsers.\n          //\n          // - Firefox 3-13\n          // - Internet Explorer 6-9\n          // - iPad Safari 4.3\n          // - Lynx 2.8.7\n        } else {\n          requestFlush = makeRequestCallFromTimer(flush);\n        }\n\n        // `requestFlush` requests that the high priority event queue be flushed as\n        // soon as possible.\n        // This is useful to prevent an error thrown in a task from stalling the event\n        // queue if the exception handled by Node.js’s\n        // `process.on(\"uncaughtException\")` or by a domain.\n        rawAsap.requestFlush = requestFlush;\n\n        // To request a high priority event, we induce a mutation observer by toggling\n        // the text of a text node between \"1\" and \"-1\".\n        function makeRequestCallFromMutationObserver(callback) {\n          var toggle = 1;\n          var observer = new BrowserMutationObserver(callback);\n          var node = document.createTextNode(\"\");\n          observer.observe(node, {\n            characterData: true\n          });\n          return function requestCall() {\n            toggle = -toggle;\n            node.data = toggle;\n          };\n        }\n\n        // The message channel technique was discovered by Malte Ubl and was the\n        // original foundation for this library.\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n\n        // Safari 6.0.5 (at least) intermittently fails to create message ports on a\n        // page's first load. Thankfully, this version of Safari supports\n        // MutationObservers, so we don't need to fall back in that case.\n\n        // function makeRequestCallFromMessageChannel(callback) {\n        //     var channel = new MessageChannel();\n        //     channel.port1.onmessage = callback;\n        //     return function requestCall() {\n        //         channel.port2.postMessage(0);\n        //     };\n        // }\n\n        // For reasons explained above, we are also unable to use `setImmediate`\n        // under any circumstances.\n        // Even if we were, there is another bug in Internet Explorer 10.\n        // It is not sufficient to assign `setImmediate` to `requestFlush` because\n        // `setImmediate` must be called *by name* and therefore must be wrapped in a\n        // closure.\n        // Never forget.\n\n        // function makeRequestCallFromSetImmediate(callback) {\n        //     return function requestCall() {\n        //         setImmediate(callback);\n        //     };\n        // }\n\n        // Safari 6.0 has a problem where timers will get lost while the user is\n        // scrolling. This problem does not impact ASAP because Safari 6.0 supports\n        // mutation observers, so that implementation is used instead.\n        // However, if we ever elect to use timers in Safari, the prevalent work-around\n        // is to add a scroll event listener that calls for a flush.\n\n        // `setTimeout` does not call the passed callback if the delay is less than\n        // approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n        // even then.\n\n        function makeRequestCallFromTimer(callback) {\n          return function requestCall() {\n            // We dispatch a timeout with a specified delay of 0 for engines that\n            // can reliably accommodate that request. This will usually be snapped\n            // to a 4 milisecond delay, but once we're flushing, there's no delay\n            // between events.\n            var timeoutHandle = setTimeout(handleTimer, 0);\n            // However, since this timer gets frequently dropped in Firefox\n            // workers, we enlist an interval handle that will try to fire\n            // an event 20 times per second until it succeeds.\n            var intervalHandle = setInterval(handleTimer, 50);\n            function handleTimer() {\n              // Whichever timer succeeds will cancel both timers and\n              // execute the callback.\n              clearTimeout(timeoutHandle);\n              clearInterval(intervalHandle);\n              callback();\n            }\n          };\n        }\n\n        // This is for `asap.js` only.\n        // Its name will be periodically randomized to break any code that depends on\n        // its existence.\n        rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n        // ASAP was originally a nextTick shim included in Q. This was factored out\n        // into this ASAP package. It was later adapted to RSVP which made further\n        // amendments. These decisions, particularly to marginalize MessageChannel and\n        // to capture the MutationObserver implementation in a closure, were integrated\n        // back into ASAP proper.\n        // https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n        /* WEBPACK VAR INJECTION */\n      }).call(exports, __webpack_require__(14));\n\n      /***/\n    }, /* 14 */\n    /***/function (module, exports) {\n      var g;\n\n      // This works in non-strict mode\n      g = function () {\n        return this;\n      }();\n      try {\n        // This works if eval is allowed (see CSP)\n        g = g || Function(\"return this\")() || (1, eval)(\"this\");\n      } catch (e) {\n        // This works if the window reference is available\n        if (typeof window === \"object\") g = window;\n      }\n\n      // g can still be undefined, but nothing to do about it...\n      // We return undefined, instead of nothing here, so it's\n      // easier to handle this case. if(!global) { ...}\n\n      module.exports = g;\n\n      /***/\n    }, /* 15 */\n    /***/function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__; // MIT license (by Elan Shanker).\n      (function (globals) {\n        'use strict';\n\n        var executeSync = function () {\n          var args = Array.prototype.slice.call(arguments);\n          if (typeof args[0] === 'function') {\n            args[0].apply(null, args.splice(1));\n          }\n        };\n        var executeAsync = function (fn) {\n          if (typeof setImmediate === 'function') {\n            setImmediate(fn);\n          } else if (typeof process !== 'undefined' && process.nextTick) {\n            process.nextTick(fn);\n          } else {\n            setTimeout(fn, 0);\n          }\n        };\n        var makeIterator = function (tasks) {\n          var makeCallback = function (index) {\n            var fn = function () {\n              if (tasks.length) {\n                tasks[index].apply(null, arguments);\n              }\n              return fn.next();\n            };\n            fn.next = function () {\n              return index < tasks.length - 1 ? makeCallback(index + 1) : null;\n            };\n            return fn;\n          };\n          return makeCallback(0);\n        };\n        var _isArray = Array.isArray || function (maybeArray) {\n          return Object.prototype.toString.call(maybeArray) === '[object Array]';\n        };\n        var waterfall = function (tasks, callback, forceAsync) {\n          var nextTick = forceAsync ? executeAsync : executeSync;\n          callback = callback || function () {};\n          if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n          }\n          if (!tasks.length) {\n            return callback();\n          }\n          var wrapIterator = function (iterator) {\n            return function (err) {\n              if (err) {\n                callback.apply(null, arguments);\n                callback = function () {};\n              } else {\n                var args = Array.prototype.slice.call(arguments, 1);\n                var next = iterator.next();\n                if (next) {\n                  args.push(wrapIterator(next));\n                } else {\n                  args.push(callback);\n                }\n                nextTick(function () {\n                  iterator.apply(null, args);\n                });\n              }\n            };\n          };\n          wrapIterator(makeIterator(tasks))();\n        };\n        if (true) {\n          !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return waterfall;\n          }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // RequireJS\n        } else if (typeof module !== 'undefined' && module.exports) {\n          module.exports = waterfall; // CommonJS\n        } else {\n          globals.waterfall = waterfall; // <script>\n        }\n      })(this);\n\n      /***/\n    }, /* 16 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      // Copyright Joyent, Inc. and other Node contributors.\n      //\n      // Permission is hereby granted, free of charge, to any person obtaining a\n      // copy of this software and associated documentation files (the\n      // \"Software\"), to deal in the Software without restriction, including\n      // without limitation the rights to use, copy, modify, merge, publish,\n      // distribute, sublicense, and/or sell copies of the Software, and to permit\n      // persons to whom the Software is furnished to do so, subject to the\n      // following conditions:\n      //\n      // The above copyright notice and this permission notice shall be included\n      // in all copies or substantial portions of the Software.\n      //\n      // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n      // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n      // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n      // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n      // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n      // USE OR OTHER DEALINGS IN THE SOFTWARE.\n      var R = typeof Reflect === 'object' ? Reflect : null;\n      var ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n        return Function.prototype.apply.call(target, receiver, args);\n      };\n      var ReflectOwnKeys;\n      if (R && typeof R.ownKeys === 'function') {\n        ReflectOwnKeys = R.ownKeys;\n      } else if (Object.getOwnPropertySymbols) {\n        ReflectOwnKeys = function ReflectOwnKeys(target) {\n          return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n        };\n      } else {\n        ReflectOwnKeys = function ReflectOwnKeys(target) {\n          return Object.getOwnPropertyNames(target);\n        };\n      }\n      function ProcessEmitWarning(warning) {\n        if (console && console.warn) console.warn(warning);\n      }\n      var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n        return value !== value;\n      };\n      function EventEmitter() {\n        EventEmitter.init.call(this);\n      }\n      module.exports = EventEmitter;\n      module.exports.once = once;\n\n      // Backwards-compat with node 0.10.x\n      EventEmitter.EventEmitter = EventEmitter;\n      EventEmitter.prototype._events = undefined;\n      EventEmitter.prototype._eventsCount = 0;\n      EventEmitter.prototype._maxListeners = undefined;\n\n      // By default EventEmitters will print a warning if more than 10 listeners are\n      // added to it. This is a useful default which helps finding memory leaks.\n      var defaultMaxListeners = 10;\n      function checkListener(listener) {\n        if (typeof listener !== 'function') {\n          throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n        }\n      }\n      Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n        enumerable: true,\n        get: function () {\n          return defaultMaxListeners;\n        },\n        set: function (arg) {\n          if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n            throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n          }\n          defaultMaxListeners = arg;\n        }\n      });\n      EventEmitter.init = function () {\n        if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        }\n        this._maxListeners = this._maxListeners || undefined;\n      };\n\n      // Obviously not all Emitters should be limited to 10. This function allows\n      // that to be increased. Set to zero for unlimited.\n      EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n        if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n          throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n        }\n        this._maxListeners = n;\n        return this;\n      };\n      function _getMaxListeners(that) {\n        if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n        return that._maxListeners;\n      }\n      EventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n        return _getMaxListeners(this);\n      };\n      EventEmitter.prototype.emit = function emit(type) {\n        var args = [];\n        for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n        var doError = type === 'error';\n        var events = this._events;\n        if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false;\n\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n          var er;\n          if (args.length > 0) er = args[0];\n          if (er instanceof Error) {\n            // Note: The comments on the `throw` lines are intentional, they show\n            // up in Node's output if this results in an unhandled exception.\n            throw er; // Unhandled 'error' event\n          }\n          // At least give some kind of context to the user\n          var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n          err.context = er;\n          throw err; // Unhandled 'error' event\n        }\n\n        var handler = events[type];\n        if (handler === undefined) return false;\n        if (typeof handler === 'function') {\n          ReflectApply(handler, this, args);\n        } else {\n          var len = handler.length;\n          var listeners = arrayClone(handler, len);\n          for (var i = 0; i < len; ++i) ReflectApply(listeners[i], this, args);\n        }\n        return true;\n      };\n      function _addListener(target, type, listener, prepend) {\n        var m;\n        var events;\n        var existing;\n        checkListener(listener);\n        events = target._events;\n        if (events === undefined) {\n          events = target._events = Object.create(null);\n          target._eventsCount = 0;\n        } else {\n          // To avoid recursion in the case that type === \"newListener\"! Before\n          // adding it to the listeners, first emit \"newListener\".\n          if (events.newListener !== undefined) {\n            target.emit('newListener', type, listener.listener ? listener.listener : listener);\n\n            // Re-assign `events` because a newListener handler could have caused the\n            // this._events to be assigned to a new object\n            events = target._events;\n          }\n          existing = events[type];\n        }\n        if (existing === undefined) {\n          // Optimize the case of one listener. Don't need the extra array object.\n          existing = events[type] = listener;\n          ++target._eventsCount;\n        } else {\n          if (typeof existing === 'function') {\n            // Adding the second element, need to change to array.\n            existing = events[type] = prepend ? [listener, existing] : [existing, listener];\n            // If we've already got an array, just append.\n          } else if (prepend) {\n            existing.unshift(listener);\n          } else {\n            existing.push(listener);\n          }\n\n          // Check for listener leak\n          m = _getMaxListeners(target);\n          if (m > 0 && existing.length > m && !existing.warned) {\n            existing.warned = true;\n            // No error code for this since it is a Warning\n            // eslint-disable-next-line no-restricted-syntax\n            var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n            w.name = 'MaxListenersExceededWarning';\n            w.emitter = target;\n            w.type = type;\n            w.count = existing.length;\n            ProcessEmitWarning(w);\n          }\n        }\n        return target;\n      }\n      EventEmitter.prototype.addListener = function addListener(type, listener) {\n        return _addListener(this, type, listener, false);\n      };\n      EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n      EventEmitter.prototype.prependListener = function prependListener(type, listener) {\n        return _addListener(this, type, listener, true);\n      };\n      function onceWrapper() {\n        if (!this.fired) {\n          this.target.removeListener(this.type, this.wrapFn);\n          this.fired = true;\n          if (arguments.length === 0) return this.listener.call(this.target);\n          return this.listener.apply(this.target, arguments);\n        }\n      }\n      function _onceWrap(target, type, listener) {\n        var state = {\n          fired: false,\n          wrapFn: undefined,\n          target: target,\n          type: type,\n          listener: listener\n        };\n        var wrapped = onceWrapper.bind(state);\n        wrapped.listener = listener;\n        state.wrapFn = wrapped;\n        return wrapped;\n      }\n      EventEmitter.prototype.once = function once(type, listener) {\n        checkListener(listener);\n        this.on(type, _onceWrap(this, type, listener));\n        return this;\n      };\n      EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n        checkListener(listener);\n        this.prependListener(type, _onceWrap(this, type, listener));\n        return this;\n      };\n\n      // Emits a 'removeListener' event if and only if the listener was removed.\n      EventEmitter.prototype.removeListener = function removeListener(type, listener) {\n        var list, events, position, i, originalListener;\n        checkListener(listener);\n        events = this._events;\n        if (events === undefined) return this;\n        list = events[type];\n        if (list === undefined) return this;\n        if (list === listener || list.listener === listener) {\n          if (--this._eventsCount === 0) this._events = Object.create(null);else {\n            delete events[type];\n            if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n          }\n        } else if (typeof list !== 'function') {\n          position = -1;\n          for (i = list.length - 1; i >= 0; i--) {\n            if (list[i] === listener || list[i].listener === listener) {\n              originalListener = list[i].listener;\n              position = i;\n              break;\n            }\n          }\n          if (position < 0) return this;\n          if (position === 0) list.shift();else {\n            spliceOne(list, position);\n          }\n          if (list.length === 1) events[type] = list[0];\n          if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n        }\n        return this;\n      };\n      EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n      EventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n        var listeners, events, i;\n        events = this._events;\n        if (events === undefined) return this;\n\n        // not listening for removeListener, no need to emit\n        if (events.removeListener === undefined) {\n          if (arguments.length === 0) {\n            this._events = Object.create(null);\n            this._eventsCount = 0;\n          } else if (events[type] !== undefined) {\n            if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n          }\n          return this;\n        }\n\n        // emit removeListener for all listeners on all events\n        if (arguments.length === 0) {\n          var keys = Object.keys(events);\n          var key;\n          for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n            if (key === 'removeListener') continue;\n            this.removeAllListeners(key);\n          }\n          this.removeAllListeners('removeListener');\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n          return this;\n        }\n        listeners = events[type];\n        if (typeof listeners === 'function') {\n          this.removeListener(type, listeners);\n        } else if (listeners !== undefined) {\n          // LIFO order\n          for (i = listeners.length - 1; i >= 0; i--) {\n            this.removeListener(type, listeners[i]);\n          }\n        }\n        return this;\n      };\n      function _listeners(target, type, unwrap) {\n        var events = target._events;\n        if (events === undefined) return [];\n        var evlistener = events[type];\n        if (evlistener === undefined) return [];\n        if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n        return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n      }\n      EventEmitter.prototype.listeners = function listeners(type) {\n        return _listeners(this, type, true);\n      };\n      EventEmitter.prototype.rawListeners = function rawListeners(type) {\n        return _listeners(this, type, false);\n      };\n      EventEmitter.listenerCount = function (emitter, type) {\n        if (typeof emitter.listenerCount === 'function') {\n          return emitter.listenerCount(type);\n        } else {\n          return listenerCount.call(emitter, type);\n        }\n      };\n      EventEmitter.prototype.listenerCount = listenerCount;\n      function listenerCount(type) {\n        var events = this._events;\n        if (events !== undefined) {\n          var evlistener = events[type];\n          if (typeof evlistener === 'function') {\n            return 1;\n          } else if (evlistener !== undefined) {\n            return evlistener.length;\n          }\n        }\n        return 0;\n      }\n      EventEmitter.prototype.eventNames = function eventNames() {\n        return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n      };\n      function arrayClone(arr, n) {\n        var copy = new Array(n);\n        for (var i = 0; i < n; ++i) copy[i] = arr[i];\n        return copy;\n      }\n      function spliceOne(list, index) {\n        for (; index + 1 < list.length; index++) list[index] = list[index + 1];\n        list.pop();\n      }\n      function unwrapListeners(arr) {\n        var ret = new Array(arr.length);\n        for (var i = 0; i < ret.length; ++i) {\n          ret[i] = arr[i].listener || arr[i];\n        }\n        return ret;\n      }\n      function once(emitter, name) {\n        return new Promise(function (resolve, reject) {\n          function eventListener() {\n            if (errorListener !== undefined) {\n              emitter.removeListener('error', errorListener);\n            }\n            resolve([].slice.call(arguments));\n          }\n          ;\n          var errorListener;\n\n          // Adding an error listener is not optional because\n          // if an error is thrown on an event emitter we cannot\n          // guarantee that the actual event we are waiting will\n          // be fired. The result could be a silent way to create\n          // memory or file descriptor leaks, which is something\n          // we should avoid.\n          if (name !== 'error') {\n            errorListener = function errorListener(err) {\n              emitter.removeListener(name, eventListener);\n              reject(err);\n            };\n            emitter.once('error', errorListener);\n          }\n          emitter.once(name, eventListener);\n        });\n      }\n\n      /***/\n    }, /* 17 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var nodes = __webpack_require__(3);\n      var lib = __webpack_require__(0);\n      var sym = 0;\n      function gensym() {\n        return 'hole_' + sym++;\n      } // copy-on-write version of map\n\n      function mapCOW(arr, func) {\n        var res = null;\n        for (var i = 0; i < arr.length; i++) {\n          var item = func(arr[i]);\n          if (item !== arr[i]) {\n            if (!res) {\n              res = arr.slice();\n            }\n            res[i] = item;\n          }\n        }\n        return res || arr;\n      }\n      function walk(ast, func, depthFirst) {\n        if (!(ast instanceof nodes.Node)) {\n          return ast;\n        }\n        if (!depthFirst) {\n          var astT = func(ast);\n          if (astT && astT !== ast) {\n            return astT;\n          }\n        }\n        if (ast instanceof nodes.NodeList) {\n          var children = mapCOW(ast.children, function (node) {\n            return walk(node, func, depthFirst);\n          });\n          if (children !== ast.children) {\n            ast = new nodes[ast.typename](ast.lineno, ast.colno, children);\n          }\n        } else if (ast instanceof nodes.CallExtension) {\n          var args = walk(ast.args, func, depthFirst);\n          var contentArgs = mapCOW(ast.contentArgs, function (node) {\n            return walk(node, func, depthFirst);\n          });\n          if (args !== ast.args || contentArgs !== ast.contentArgs) {\n            ast = new nodes[ast.typename](ast.extName, ast.prop, args, contentArgs);\n          }\n        } else {\n          var props = ast.fields.map(function (field) {\n            return ast[field];\n          });\n          var propsT = mapCOW(props, function (prop) {\n            return walk(prop, func, depthFirst);\n          });\n          if (propsT !== props) {\n            ast = new nodes[ast.typename](ast.lineno, ast.colno);\n            propsT.forEach(function (prop, i) {\n              ast[ast.fields[i]] = prop;\n            });\n          }\n        }\n        return depthFirst ? func(ast) || ast : ast;\n      }\n      function depthWalk(ast, func) {\n        return walk(ast, func, true);\n      }\n      function _liftFilters(node, asyncFilters, prop) {\n        var children = [];\n        var walked = depthWalk(prop ? node[prop] : node, function (descNode) {\n          var symbol;\n          if (descNode instanceof nodes.Block) {\n            return descNode;\n          } else if (descNode instanceof nodes.Filter && lib.indexOf(asyncFilters, descNode.name.value) !== -1 || descNode instanceof nodes.CallExtensionAsync) {\n            symbol = new nodes.Symbol(descNode.lineno, descNode.colno, gensym());\n            children.push(new nodes.FilterAsync(descNode.lineno, descNode.colno, descNode.name, descNode.args, symbol));\n          }\n          return symbol;\n        });\n        if (prop) {\n          node[prop] = walked;\n        } else {\n          node = walked;\n        }\n        if (children.length) {\n          children.push(node);\n          return new nodes.NodeList(node.lineno, node.colno, children);\n        } else {\n          return node;\n        }\n      }\n      function liftFilters(ast, asyncFilters) {\n        return depthWalk(ast, function (node) {\n          if (node instanceof nodes.Output) {\n            return _liftFilters(node, asyncFilters);\n          } else if (node instanceof nodes.Set) {\n            return _liftFilters(node, asyncFilters, 'value');\n          } else if (node instanceof nodes.For) {\n            return _liftFilters(node, asyncFilters, 'arr');\n          } else if (node instanceof nodes.If) {\n            return _liftFilters(node, asyncFilters, 'cond');\n          } else if (node instanceof nodes.CallExtension) {\n            return _liftFilters(node, asyncFilters, 'args');\n          } else {\n            return undefined;\n          }\n        });\n      }\n      function liftSuper(ast) {\n        return walk(ast, function (blockNode) {\n          if (!(blockNode instanceof nodes.Block)) {\n            return;\n          }\n          var hasSuper = false;\n          var symbol = gensym();\n          blockNode.body = walk(blockNode.body, function (node) {\n            // eslint-disable-line consistent-return\n            if (node instanceof nodes.FunCall && node.name.value === 'super') {\n              hasSuper = true;\n              return new nodes.Symbol(node.lineno, node.colno, symbol);\n            }\n          });\n          if (hasSuper) {\n            blockNode.body.children.unshift(new nodes.Super(0, 0, blockNode.name, new nodes.Symbol(0, 0, symbol)));\n          }\n        });\n      }\n      function convertStatements(ast) {\n        return depthWalk(ast, function (node) {\n          if (!(node instanceof nodes.If) && !(node instanceof nodes.For)) {\n            return undefined;\n          }\n          var async = false;\n          walk(node, function (child) {\n            if (child instanceof nodes.FilterAsync || child instanceof nodes.IfAsync || child instanceof nodes.AsyncEach || child instanceof nodes.AsyncAll || child instanceof nodes.CallExtensionAsync) {\n              async = true; // Stop iterating by returning the node\n\n              return child;\n            }\n            return undefined;\n          });\n          if (async) {\n            if (node instanceof nodes.If) {\n              return new nodes.IfAsync(node.lineno, node.colno, node.cond, node.body, node.else_);\n            } else if (node instanceof nodes.For && !(node instanceof nodes.AsyncAll)) {\n              return new nodes.AsyncEach(node.lineno, node.colno, node.arr, node.name, node.body, node.else_);\n            }\n          }\n          return undefined;\n        });\n      }\n      function cps(ast, asyncFilters) {\n        return convertStatements(liftSuper(liftFilters(ast, asyncFilters)));\n      }\n      function transform(ast, asyncFilters) {\n        return cps(ast, asyncFilters || []);\n      } // var parser = require('./parser');\n      // var src = 'hello {% foo %}{% endfoo %} end';\n      // var ast = transform(parser.parse(src, [new FooExtension()]), ['bar']);\n      // nodes.printNodes(ast);\n\n      module.exports = {\n        transform: transform\n      };\n\n      /***/\n    }, /* 18 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var lib = __webpack_require__(0);\n      var r = __webpack_require__(2);\n      var exports = module.exports = {};\n      function normalize(value, defaultValue) {\n        if (value === null || value === undefined || value === false) {\n          return defaultValue;\n        }\n        return value;\n      }\n      exports.abs = Math.abs;\n      function isNaN(num) {\n        return num !== num; // eslint-disable-line no-self-compare\n      }\n\n      function batch(arr, linecount, fillWith) {\n        var i;\n        var res = [];\n        var tmp = [];\n        for (i = 0; i < arr.length; i++) {\n          if (i % linecount === 0 && tmp.length) {\n            res.push(tmp);\n            tmp = [];\n          }\n          tmp.push(arr[i]);\n        }\n        if (tmp.length) {\n          if (fillWith) {\n            for (i = tmp.length; i < linecount; i++) {\n              tmp.push(fillWith);\n            }\n          }\n          res.push(tmp);\n        }\n        return res;\n      }\n      exports.batch = batch;\n      function capitalize(str) {\n        str = normalize(str, '');\n        var ret = str.toLowerCase();\n        return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n      }\n      exports.capitalize = capitalize;\n      function center(str, width) {\n        str = normalize(str, '');\n        width = width || 80;\n        if (str.length >= width) {\n          return str;\n        }\n        var spaces = width - str.length;\n        var pre = lib.repeat(' ', spaces / 2 - spaces % 2);\n        var post = lib.repeat(' ', spaces / 2);\n        return r.copySafeness(str, pre + str + post);\n      }\n      exports.center = center;\n      function default_(val, def, bool) {\n        if (bool) {\n          return val || def;\n        } else {\n          return val !== undefined ? val : def;\n        }\n      } // TODO: it is confusing to export something called 'default'\n\n      exports['default'] = default_; // eslint-disable-line dot-notation\n\n      function dictsort(val, caseSensitive, by) {\n        if (!lib.isObject(val)) {\n          throw new lib.TemplateError('dictsort filter: val must be an object');\n        }\n        var array = []; // deliberately include properties from the object's prototype\n\n        for (var k in val) {\n          // eslint-disable-line guard-for-in, no-restricted-syntax\n          array.push([k, val[k]]);\n        }\n        var si;\n        if (by === undefined || by === 'key') {\n          si = 0;\n        } else if (by === 'value') {\n          si = 1;\n        } else {\n          throw new lib.TemplateError('dictsort filter: You can only sort by either key or value');\n        }\n        array.sort(function (t1, t2) {\n          var a = t1[si];\n          var b = t2[si];\n          if (!caseSensitive) {\n            if (lib.isString(a)) {\n              a = a.toUpperCase();\n            }\n            if (lib.isString(b)) {\n              b = b.toUpperCase();\n            }\n          }\n          return a > b ? 1 : a === b ? 0 : -1; // eslint-disable-line no-nested-ternary\n        });\n\n        return array;\n      }\n      exports.dictsort = dictsort;\n      function dump(obj, spaces) {\n        return JSON.stringify(obj, null, spaces);\n      }\n      exports.dump = dump;\n      function escape(str) {\n        if (str instanceof r.SafeString) {\n          return str;\n        }\n        str = str === null || str === undefined ? '' : str;\n        return r.markSafe(lib.escape(str.toString()));\n      }\n      exports.escape = escape;\n      function safe(str) {\n        if (str instanceof r.SafeString) {\n          return str;\n        }\n        str = str === null || str === undefined ? '' : str;\n        return r.markSafe(str.toString());\n      }\n      exports.safe = safe;\n      function first(arr) {\n        return arr[0];\n      }\n      exports.first = first;\n      function forceescape(str) {\n        str = str === null || str === undefined ? '' : str;\n        return r.markSafe(lib.escape(str.toString()));\n      }\n      exports.forceescape = forceescape;\n      function groupby(arr, attr) {\n        return lib.groupBy(arr, attr, this.env.opts.throwOnUndefined);\n      }\n      exports.groupby = groupby;\n      function indent(str, width, indentfirst) {\n        str = normalize(str, '');\n        if (str === '') {\n          return '';\n        }\n        width = width || 4; // let res = '';\n\n        var lines = str.split('\\n');\n        var sp = lib.repeat(' ', width);\n        var res = lines.map(function (l, i) {\n          return i === 0 && !indentfirst ? l : \"\" + sp + l;\n        }).join('\\n');\n        return r.copySafeness(str, res);\n      }\n      exports.indent = indent;\n      function join(arr, del, attr) {\n        del = del || '';\n        if (attr) {\n          arr = lib.map(arr, function (v) {\n            return v[attr];\n          });\n        }\n        return arr.join(del);\n      }\n      exports.join = join;\n      function last(arr) {\n        return arr[arr.length - 1];\n      }\n      exports.last = last;\n      function lengthFilter(val) {\n        var value = normalize(val, '');\n        if (value !== undefined) {\n          if (typeof Map === 'function' && value instanceof Map || typeof Set === 'function' && value instanceof Set) {\n            // ECMAScript 2015 Maps and Sets\n            return value.size;\n          }\n          if (lib.isObject(value) && !(value instanceof r.SafeString)) {\n            // Objects (besides SafeStrings), non-primative Arrays\n            return lib.keys(value).length;\n          }\n          return value.length;\n        }\n        return 0;\n      }\n      exports.length = lengthFilter;\n      function list(val) {\n        if (lib.isString(val)) {\n          return val.split('');\n        } else if (lib.isObject(val)) {\n          return lib._entries(val || {}).map(function (_ref) {\n            var key = _ref[0],\n              value = _ref[1];\n            return {\n              key: key,\n              value: value\n            };\n          });\n        } else if (lib.isArray(val)) {\n          return val;\n        } else {\n          throw new lib.TemplateError('list filter: type not iterable');\n        }\n      }\n      exports.list = list;\n      function lower(str) {\n        str = normalize(str, '');\n        return str.toLowerCase();\n      }\n      exports.lower = lower;\n      function nl2br(str) {\n        if (str === null || str === undefined) {\n          return '';\n        }\n        return r.copySafeness(str, str.replace(/\\r\\n|\\n/g, '<br />\\n'));\n      }\n      exports.nl2br = nl2br;\n      function random(arr) {\n        return arr[Math.floor(Math.random() * arr.length)];\n      }\n      exports.random = random;\n      /**\n       * Construct select or reject filter\n       *\n       * @param {boolean} expectedTestResult\n       * @returns {function(array, string, *): array}\n       */\n\n      function getSelectOrReject(expectedTestResult) {\n        function filter(arr, testName, secondArg) {\n          if (testName === void 0) {\n            testName = 'truthy';\n          }\n          var context = this;\n          var test = context.env.getTest(testName);\n          return lib.toArray(arr).filter(function examineTestResult(item) {\n            return test.call(context, item, secondArg) === expectedTestResult;\n          });\n        }\n        return filter;\n      }\n      exports.reject = getSelectOrReject(false);\n      function rejectattr(arr, attr) {\n        return arr.filter(function (item) {\n          return !item[attr];\n        });\n      }\n      exports.rejectattr = rejectattr;\n      exports.select = getSelectOrReject(true);\n      function selectattr(arr, attr) {\n        return arr.filter(function (item) {\n          return !!item[attr];\n        });\n      }\n      exports.selectattr = selectattr;\n      function replace(str, old, new_, maxCount) {\n        var originalStr = str;\n        if (old instanceof RegExp) {\n          return str.replace(old, new_);\n        }\n        if (typeof maxCount === 'undefined') {\n          maxCount = -1;\n        }\n        var res = ''; // Output\n        // Cast Numbers in the search term to string\n\n        if (typeof old === 'number') {\n          old = '' + old;\n        } else if (typeof old !== 'string') {\n          // If it is something other than number or string,\n          // return the original string\n          return str;\n        } // Cast numbers in the replacement to string\n\n        if (typeof str === 'number') {\n          str = '' + str;\n        } // If by now, we don't have a string, throw it back\n\n        if (typeof str !== 'string' && !(str instanceof r.SafeString)) {\n          return str;\n        } // ShortCircuits\n\n        if (old === '') {\n          // Mimic the python behaviour: empty string is replaced\n          // by replacement e.g. \"abc\"|replace(\"\", \".\") -> .a.b.c.\n          res = new_ + str.split('').join(new_) + new_;\n          return r.copySafeness(str, res);\n        }\n        var nextIndex = str.indexOf(old); // if # of replacements to perform is 0, or the string to does\n        // not contain the old value, return the string\n\n        if (maxCount === 0 || nextIndex === -1) {\n          return str;\n        }\n        var pos = 0;\n        var count = 0; // # of replacements made\n\n        while (nextIndex > -1 && (maxCount === -1 || count < maxCount)) {\n          // Grab the next chunk of src string and add it with the\n          // replacement, to the result\n          res += str.substring(pos, nextIndex) + new_; // Increment our pointer in the src string\n\n          pos = nextIndex + old.length;\n          count++; // See if there are any more replacements to be made\n\n          nextIndex = str.indexOf(old, pos);\n        } // We've either reached the end, or done the max # of\n        // replacements, tack on any remaining string\n\n        if (pos < str.length) {\n          res += str.substring(pos);\n        }\n        return r.copySafeness(originalStr, res);\n      }\n      exports.replace = replace;\n      function reverse(val) {\n        var arr;\n        if (lib.isString(val)) {\n          arr = list(val);\n        } else {\n          // Copy it\n          arr = lib.map(val, function (v) {\n            return v;\n          });\n        }\n        arr.reverse();\n        if (lib.isString(val)) {\n          return r.copySafeness(val, arr.join(''));\n        }\n        return arr;\n      }\n      exports.reverse = reverse;\n      function round(val, precision, method) {\n        precision = precision || 0;\n        var factor = Math.pow(10, precision);\n        var rounder;\n        if (method === 'ceil') {\n          rounder = Math.ceil;\n        } else if (method === 'floor') {\n          rounder = Math.floor;\n        } else {\n          rounder = Math.round;\n        }\n        return rounder(val * factor) / factor;\n      }\n      exports.round = round;\n      function slice(arr, slices, fillWith) {\n        var sliceLength = Math.floor(arr.length / slices);\n        var extra = arr.length % slices;\n        var res = [];\n        var offset = 0;\n        for (var i = 0; i < slices; i++) {\n          var start = offset + i * sliceLength;\n          if (i < extra) {\n            offset++;\n          }\n          var end = offset + (i + 1) * sliceLength;\n          var currSlice = arr.slice(start, end);\n          if (fillWith && i >= extra) {\n            currSlice.push(fillWith);\n          }\n          res.push(currSlice);\n        }\n        return res;\n      }\n      exports.slice = slice;\n      function sum(arr, attr, start) {\n        if (start === void 0) {\n          start = 0;\n        }\n        if (attr) {\n          arr = lib.map(arr, function (v) {\n            return v[attr];\n          });\n        }\n        return start + arr.reduce(function (a, b) {\n          return a + b;\n        }, 0);\n      }\n      exports.sum = sum;\n      exports.sort = r.makeMacro(['value', 'reverse', 'case_sensitive', 'attribute'], [], function sortFilter(arr, reversed, caseSens, attr) {\n        var _this = this;\n\n        // Copy it\n        var array = lib.map(arr, function (v) {\n          return v;\n        });\n        var getAttribute = lib.getAttrGetter(attr);\n        array.sort(function (a, b) {\n          var x = attr ? getAttribute(a) : a;\n          var y = attr ? getAttribute(b) : b;\n          if (_this.env.opts.throwOnUndefined && attr && (x === undefined || y === undefined)) {\n            throw new TypeError(\"sort: attribute \\\"\" + attr + \"\\\" resolved to undefined\");\n          }\n          if (!caseSens && lib.isString(x) && lib.isString(y)) {\n            x = x.toLowerCase();\n            y = y.toLowerCase();\n          }\n          if (x < y) {\n            return reversed ? 1 : -1;\n          } else if (x > y) {\n            return reversed ? -1 : 1;\n          } else {\n            return 0;\n          }\n        });\n        return array;\n      });\n      function string(obj) {\n        return r.copySafeness(obj, obj);\n      }\n      exports.string = string;\n      function striptags(input, preserveLinebreaks) {\n        input = normalize(input, '');\n        var tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>|<!--[\\s\\S]*?-->/gi;\n        var trimmedInput = trim(input.replace(tags, ''));\n        var res = '';\n        if (preserveLinebreaks) {\n          res = trimmedInput.replace(/^ +| +$/gm, '') // remove leading and trailing spaces\n          .replace(/ +/g, ' ') // squash adjacent spaces\n          .replace(/(\\r\\n)/g, '\\n') // normalize linebreaks (CRLF -> LF)\n          .replace(/\\n\\n\\n+/g, '\\n\\n'); // squash abnormal adjacent linebreaks\n        } else {\n          res = trimmedInput.replace(/\\s+/gi, ' ');\n        }\n        return r.copySafeness(input, res);\n      }\n      exports.striptags = striptags;\n      function title(str) {\n        str = normalize(str, '');\n        var words = str.split(' ').map(function (word) {\n          return capitalize(word);\n        });\n        return r.copySafeness(str, words.join(' '));\n      }\n      exports.title = title;\n      function trim(str) {\n        return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n      }\n      exports.trim = trim;\n      function truncate(input, length, killwords, end) {\n        var orig = input;\n        input = normalize(input, '');\n        length = length || 255;\n        if (input.length <= length) {\n          return input;\n        }\n        if (killwords) {\n          input = input.substring(0, length);\n        } else {\n          var idx = input.lastIndexOf(' ', length);\n          if (idx === -1) {\n            idx = length;\n          }\n          input = input.substring(0, idx);\n        }\n        input += end !== undefined && end !== null ? end : '...';\n        return r.copySafeness(orig, input);\n      }\n      exports.truncate = truncate;\n      function upper(str) {\n        str = normalize(str, '');\n        return str.toUpperCase();\n      }\n      exports.upper = upper;\n      function urlencode(obj) {\n        var enc = encodeURIComponent;\n        if (lib.isString(obj)) {\n          return enc(obj);\n        } else {\n          var keyvals = lib.isArray(obj) ? obj : lib._entries(obj);\n          return keyvals.map(function (_ref2) {\n            var k = _ref2[0],\n              v = _ref2[1];\n            return enc(k) + \"=\" + enc(v);\n          }).join('&');\n        }\n      }\n      exports.urlencode = urlencode; // For the jinja regexp, see\n      // https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\n\n      var puncRe = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/; // from http://blog.gerv.net/2011/05/html5_email_address_regexp/\n\n      var emailRe = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\n      var httpHttpsRe = /^https?:\\/\\/.*$/;\n      var wwwRe = /^www\\./;\n      var tldRe = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\n      function urlize(str, length, nofollow) {\n        if (isNaN(length)) {\n          length = Infinity;\n        }\n        var noFollowAttr = nofollow === true ? ' rel=\"nofollow\"' : '';\n        var words = str.split(/(\\s+)/).filter(function (word) {\n          // If the word has no length, bail. This can happen for str with\n          // trailing whitespace.\n          return word && word.length;\n        }).map(function (word) {\n          var matches = word.match(puncRe);\n          var possibleUrl = matches ? matches[1] : word;\n          var shortUrl = possibleUrl.substr(0, length); // url that starts with http or https\n\n          if (httpHttpsRe.test(possibleUrl)) {\n            return \"<a href=\\\"\" + possibleUrl + \"\\\"\" + noFollowAttr + \">\" + shortUrl + \"</a>\";\n          } // url that starts with www.\n\n          if (wwwRe.test(possibleUrl)) {\n            return \"<a href=\\\"http://\" + possibleUrl + \"\\\"\" + noFollowAttr + \">\" + shortUrl + \"</a>\";\n          } // an email address of the form username@domain.tld\n\n          if (emailRe.test(possibleUrl)) {\n            return \"<a href=\\\"mailto:\" + possibleUrl + \"\\\">\" + possibleUrl + \"</a>\";\n          } // url that ends in .com, .org or .net that is not an email address\n\n          if (tldRe.test(possibleUrl)) {\n            return \"<a href=\\\"http://\" + possibleUrl + \"\\\"\" + noFollowAttr + \">\" + shortUrl + \"</a>\";\n          }\n          return word;\n        });\n        return words.join('');\n      }\n      exports.urlize = urlize;\n      function wordcount(str) {\n        str = normalize(str, '');\n        var words = str ? str.match(/\\w+/g) : null;\n        return words ? words.length : null;\n      }\n      exports.wordcount = wordcount;\n      function float(val, def) {\n        var res = parseFloat(val);\n        return isNaN(res) ? def : res;\n      }\n      exports.float = float;\n      var intFilter = r.makeMacro(['value', 'default', 'base'], [], function doInt(value, defaultValue, base) {\n        if (base === void 0) {\n          base = 10;\n        }\n        var res = parseInt(value, base);\n        return isNaN(res) ? defaultValue : res;\n      });\n      exports.int = intFilter; // Aliases\n\n      exports.d = exports.default;\n      exports.e = exports.escape;\n\n      /***/\n    }, /* 19 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        _setPrototypeOf(subClass, superClass);\n      }\n      function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n          o.__proto__ = p;\n          return o;\n        };\n        return _setPrototypeOf(o, p);\n      }\n      var Loader = __webpack_require__(6);\n      var PrecompiledLoader = /*#__PURE__*/function (_Loader) {\n        _inheritsLoose(PrecompiledLoader, _Loader);\n        function PrecompiledLoader(compiledTemplates) {\n          var _this;\n          _this = _Loader.call(this) || this;\n          _this.precompiled = compiledTemplates || {};\n          return _this;\n        }\n        var _proto = PrecompiledLoader.prototype;\n        _proto.getSource = function getSource(name) {\n          if (this.precompiled[name]) {\n            return {\n              src: {\n                type: 'code',\n                obj: this.precompiled[name]\n              },\n              path: name\n            };\n          }\n          return null;\n        };\n        return PrecompiledLoader;\n      }(Loader);\n      module.exports = {\n        PrecompiledLoader: PrecompiledLoader\n      };\n\n      /***/\n    }, /* 20 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var SafeString = __webpack_require__(2).SafeString;\n      /**\n       * Returns `true` if the object is a function, otherwise `false`.\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function callable(value) {\n        return typeof value === 'function';\n      }\n      exports.callable = callable;\n      /**\n       * Returns `true` if the object is strictly not `undefined`.\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function defined(value) {\n        return value !== undefined;\n      }\n      exports.defined = defined;\n      /**\n       * Returns `true` if the operand (one) is divisble by the test's argument\n       * (two).\n       * @param { number } one\n       * @param { number } two\n       * @returns { boolean }\n       */\n\n      function divisibleby(one, two) {\n        return one % two === 0;\n      }\n      exports.divisibleby = divisibleby;\n      /**\n       * Returns true if the string has been escaped (i.e., is a SafeString).\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function escaped(value) {\n        return value instanceof SafeString;\n      }\n      exports.escaped = escaped;\n      /**\n       * Returns `true` if the arguments are strictly equal.\n       * @param { any } one\n       * @param { any } two\n       */\n\n      function equalto(one, two) {\n        return one === two;\n      }\n      exports.equalto = equalto; // Aliases\n\n      exports.eq = exports.equalto;\n      exports.sameas = exports.equalto;\n      /**\n       * Returns `true` if the value is evenly divisible by 2.\n       * @param { number } value\n       * @returns { boolean }\n       */\n\n      function even(value) {\n        return value % 2 === 0;\n      }\n      exports.even = even;\n      /**\n       * Returns `true` if the value is falsy - if I recall correctly, '', 0, false,\n       * undefined, NaN or null. I don't know if we should stick to the default JS\n       * behavior or attempt to replicate what Python believes should be falsy (i.e.,\n       * empty arrays, empty dicts, not 0...).\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function falsy(value) {\n        return !value;\n      }\n      exports.falsy = falsy;\n      /**\n       * Returns `true` if the operand (one) is greater or equal to the test's\n       * argument (two).\n       * @param { number } one\n       * @param { number } two\n       * @returns { boolean }\n       */\n\n      function ge(one, two) {\n        return one >= two;\n      }\n      exports.ge = ge;\n      /**\n       * Returns `true` if the operand (one) is greater than the test's argument\n       * (two).\n       * @param { number } one\n       * @param { number } two\n       * @returns { boolean }\n       */\n\n      function greaterthan(one, two) {\n        return one > two;\n      }\n      exports.greaterthan = greaterthan; // alias\n\n      exports.gt = exports.greaterthan;\n      /**\n       * Returns `true` if the operand (one) is less than or equal to the test's\n       * argument (two).\n       * @param { number } one\n       * @param { number } two\n       * @returns { boolean }\n       */\n\n      function le(one, two) {\n        return one <= two;\n      }\n      exports.le = le;\n      /**\n       * Returns `true` if the operand (one) is less than the test's passed argument\n       * (two).\n       * @param { number } one\n       * @param { number } two\n       * @returns { boolean }\n       */\n\n      function lessthan(one, two) {\n        return one < two;\n      }\n      exports.lessthan = lessthan; // alias\n\n      exports.lt = exports.lessthan;\n      /**\n       * Returns `true` if the string is lowercased.\n       * @param { string } value\n       * @returns { boolean }\n       */\n\n      function lower(value) {\n        return value.toLowerCase() === value;\n      }\n      exports.lower = lower;\n      /**\n       * Returns `true` if the operand (one) is less than or equal to the test's\n       * argument (two).\n       * @param { number } one\n       * @param { number } two\n       * @returns { boolean }\n       */\n\n      function ne(one, two) {\n        return one !== two;\n      }\n      exports.ne = ne;\n      /**\n       * Returns true if the value is strictly equal to `null`.\n       * @param { any }\n       * @returns { boolean }\n       */\n\n      function nullTest(value) {\n        return value === null;\n      }\n      exports.null = nullTest;\n      /**\n       * Returns true if value is a number.\n       * @param { any }\n       * @returns { boolean }\n       */\n\n      function number(value) {\n        return typeof value === 'number';\n      }\n      exports.number = number;\n      /**\n       * Returns `true` if the value is *not* evenly divisible by 2.\n       * @param { number } value\n       * @returns { boolean }\n       */\n\n      function odd(value) {\n        return value % 2 === 1;\n      }\n      exports.odd = odd;\n      /**\n       * Returns `true` if the value is a string, `false` if not.\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function string(value) {\n        return typeof value === 'string';\n      }\n      exports.string = string;\n      /**\n       * Returns `true` if the value is not in the list of things considered falsy:\n       * '', null, undefined, 0, NaN and false.\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function truthy(value) {\n        return !!value;\n      }\n      exports.truthy = truthy;\n      /**\n       * Returns `true` if the value is undefined.\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function undefinedTest(value) {\n        return value === undefined;\n      }\n      exports.undefined = undefinedTest;\n      /**\n       * Returns `true` if the string is uppercased.\n       * @param { string } value\n       * @returns { boolean }\n       */\n\n      function upper(value) {\n        return value.toUpperCase() === value;\n      }\n      exports.upper = upper;\n      /**\n       * If ES6 features are available, returns `true` if the value implements the\n       * `Symbol.iterator` method. If not, it's a string or Array.\n       *\n       * Could potentially cause issues if a browser exists that has Set and Map but\n       * not Symbol.\n       *\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function iterable(value) {\n        if (typeof Symbol !== 'undefined') {\n          return !!value[Symbol.iterator];\n        } else {\n          return Array.isArray(value) || typeof value === 'string';\n        }\n      }\n      exports.iterable = iterable;\n      /**\n       * If ES6 features are available, returns `true` if the value is an object hash\n       * or an ES6 Map. Otherwise just return if it's an object hash.\n       * @param { any } value\n       * @returns { boolean }\n       */\n\n      function mapping(value) {\n        // only maps and object hashes\n        var bool = value !== null && value !== undefined && typeof value === 'object' && !Array.isArray(value);\n        if (Set) {\n          return bool && !(value instanceof Set);\n        } else {\n          return bool;\n        }\n      }\n      exports.mapping = mapping;\n\n      /***/\n    }, /* 21 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function _cycler(items) {\n        var index = -1;\n        return {\n          current: null,\n          reset: function reset() {\n            index = -1;\n            this.current = null;\n          },\n          next: function next() {\n            index++;\n            if (index >= items.length) {\n              index = 0;\n            }\n            this.current = items[index];\n            return this.current;\n          }\n        };\n      }\n      function _joiner(sep) {\n        sep = sep || ',';\n        var first = true;\n        return function () {\n          var val = first ? '' : sep;\n          first = false;\n          return val;\n        };\n      } // Making this a function instead so it returns a new object\n      // each time it's called. That way, if something like an environment\n      // uses it, they will each have their own copy.\n\n      function globals() {\n        return {\n          range: function range(start, stop, step) {\n            if (typeof stop === 'undefined') {\n              stop = start;\n              start = 0;\n              step = 1;\n            } else if (!step) {\n              step = 1;\n            }\n            var arr = [];\n            if (step > 0) {\n              for (var i = start; i < stop; i += step) {\n                arr.push(i);\n              }\n            } else {\n              for (var _i = start; _i > stop; _i += step) {\n                // eslint-disable-line for-direction\n                arr.push(_i);\n              }\n            }\n            return arr;\n          },\n          cycler: function cycler() {\n            return _cycler(Array.prototype.slice.call(arguments));\n          },\n          joiner: function joiner(sep) {\n            return _joiner(sep);\n          }\n        };\n      }\n      module.exports = globals;\n\n      /***/\n    }, /* 22 */\n    /***/function (module, exports, __webpack_require__) {\n      var path = __webpack_require__(4);\n      module.exports = function express(env, app) {\n        function NunjucksView(name, opts) {\n          this.name = name;\n          this.path = name;\n          this.defaultEngine = opts.defaultEngine;\n          this.ext = path.extname(name);\n          if (!this.ext && !this.defaultEngine) {\n            throw new Error('No default engine was specified and no extension was provided.');\n          }\n          if (!this.ext) {\n            this.name += this.ext = (this.defaultEngine[0] !== '.' ? '.' : '') + this.defaultEngine;\n          }\n        }\n        NunjucksView.prototype.render = function render(opts, cb) {\n          env.render(this.name, opts, cb);\n        };\n        app.set('view', NunjucksView);\n        app.set('nunjucksEnv', env);\n        return env;\n      };\n\n      /***/\n    }, /* 23 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var fs = __webpack_require__(4);\n      var path = __webpack_require__(4);\n      var _require = __webpack_require__(0),\n        _prettifyError = _require._prettifyError;\n      var compiler = __webpack_require__(5);\n      var _require2 = __webpack_require__(7),\n        Environment = _require2.Environment;\n      var precompileGlobal = __webpack_require__(24);\n      function match(filename, patterns) {\n        if (!Array.isArray(patterns)) {\n          return false;\n        }\n        return patterns.some(function (pattern) {\n          return filename.match(pattern);\n        });\n      }\n      function precompileString(str, opts) {\n        opts = opts || {};\n        opts.isString = true;\n        var env = opts.env || new Environment([]);\n        var wrapper = opts.wrapper || precompileGlobal;\n        if (!opts.name) {\n          throw new Error('the \"name\" option is required when compiling a string');\n        }\n        return wrapper([_precompile(str, opts.name, env)], opts);\n      }\n      function precompile(input, opts) {\n        // The following options are available:\n        //\n        // * name: name of the template (auto-generated when compiling a directory)\n        // * isString: input is a string, not a file path\n        // * asFunction: generate a callable function\n        // * force: keep compiling on error\n        // * env: the Environment to use (gets extensions and async filters from it)\n        // * include: which file/folders to include (folders are auto-included, files are auto-excluded)\n        // * exclude: which file/folders to exclude (folders are auto-included, files are auto-excluded)\n        // * wrapper: function(templates, opts) {...}\n        //       Customize the output format to store the compiled template.\n        //       By default, templates are stored in a global variable used by the runtime.\n        //       A custom loader will be necessary to load your custom wrapper.\n        opts = opts || {};\n        var env = opts.env || new Environment([]);\n        var wrapper = opts.wrapper || precompileGlobal;\n        if (opts.isString) {\n          return precompileString(input, opts);\n        }\n        var pathStats = fs.existsSync(input) && fs.statSync(input);\n        var precompiled = [];\n        var templates = [];\n        function addTemplates(dir) {\n          fs.readdirSync(dir).forEach(function (file) {\n            var filepath = path.join(dir, file);\n            var subpath = filepath.substr(path.join(input, '/').length);\n            var stat = fs.statSync(filepath);\n            if (stat && stat.isDirectory()) {\n              subpath += '/';\n              if (!match(subpath, opts.exclude)) {\n                addTemplates(filepath);\n              }\n            } else if (match(subpath, opts.include)) {\n              templates.push(filepath);\n            }\n          });\n        }\n        if (pathStats.isFile()) {\n          precompiled.push(_precompile(fs.readFileSync(input, 'utf-8'), opts.name || input, env));\n        } else if (pathStats.isDirectory()) {\n          addTemplates(input);\n          for (var i = 0; i < templates.length; i++) {\n            var name = templates[i].replace(path.join(input, '/'), '');\n            try {\n              precompiled.push(_precompile(fs.readFileSync(templates[i], 'utf-8'), name, env));\n            } catch (e) {\n              if (opts.force) {\n                // Don't stop generating the output if we're\n                // forcing compilation.\n                console.error(e); // eslint-disable-line no-console\n              } else {\n                throw e;\n              }\n            }\n          }\n        }\n        return wrapper(precompiled, opts);\n      }\n      function _precompile(str, name, env) {\n        env = env || new Environment([]);\n        var asyncFilters = env.asyncFilters;\n        var extensions = env.extensionsList;\n        var template;\n        name = name.replace(/\\\\/g, '/');\n        try {\n          template = compiler.compile(str, asyncFilters, extensions, name, env.opts);\n        } catch (err) {\n          throw _prettifyError(name, false, err);\n        }\n        return {\n          name: name,\n          template: template\n        };\n      }\n      module.exports = {\n        precompile: precompile,\n        precompileString: precompileString\n      };\n\n      /***/\n    }, /* 24 */\n    /***/function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      function precompileGlobal(templates, opts) {\n        var out = '';\n        opts = opts || {};\n        for (var i = 0; i < templates.length; i++) {\n          var name = JSON.stringify(templates[i].name);\n          var template = templates[i].template;\n          out += '(function() {' + '(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})' + '[' + name + '] = (function() {\\n' + template + '\\n})();\\n';\n          if (opts.asFunction) {\n            out += 'return function(ctx, cb) { return nunjucks.render(' + name + ', ctx, cb); }\\n';\n          }\n          out += '})();\\n';\n        }\n        return out;\n      }\n      module.exports = precompileGlobal;\n\n      /***/\n    }, /* 25 */\n    /***/function (module, exports, __webpack_require__) {\n      function installCompat() {\n        'use strict';\n\n        /* eslint-disable camelcase */\n        // This must be called like `nunjucks.installCompat` so that `this`\n        // references the nunjucks instance\n        var runtime = this.runtime;\n        var lib = this.lib; // Handle slim case where these 'modules' are excluded from the built source\n\n        var Compiler = this.compiler.Compiler;\n        var Parser = this.parser.Parser;\n        var nodes = this.nodes;\n        var lexer = this.lexer;\n        var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;\n        var orig_memberLookup = runtime.memberLookup;\n        var orig_Compiler_assertType;\n        var orig_Parser_parseAggregate;\n        if (Compiler) {\n          orig_Compiler_assertType = Compiler.prototype.assertType;\n        }\n        if (Parser) {\n          orig_Parser_parseAggregate = Parser.prototype.parseAggregate;\n        }\n        function uninstall() {\n          runtime.contextOrFrameLookup = orig_contextOrFrameLookup;\n          runtime.memberLookup = orig_memberLookup;\n          if (Compiler) {\n            Compiler.prototype.assertType = orig_Compiler_assertType;\n          }\n          if (Parser) {\n            Parser.prototype.parseAggregate = orig_Parser_parseAggregate;\n          }\n        }\n        runtime.contextOrFrameLookup = function contextOrFrameLookup(context, frame, key) {\n          var val = orig_contextOrFrameLookup.apply(this, arguments);\n          if (val !== undefined) {\n            return val;\n          }\n          switch (key) {\n            case 'True':\n              return true;\n            case 'False':\n              return false;\n            case 'None':\n              return null;\n            default:\n              return undefined;\n          }\n        };\n        function getTokensState(tokens) {\n          return {\n            index: tokens.index,\n            lineno: tokens.lineno,\n            colno: tokens.colno\n          };\n        }\n        if (\"STD\" !== 'SLIM' && nodes && Compiler && Parser) {\n          // i.e., not slim mode\n          var Slice = nodes.Node.extend('Slice', {\n            fields: ['start', 'stop', 'step'],\n            init: function init(lineno, colno, start, stop, step) {\n              start = start || new nodes.Literal(lineno, colno, null);\n              stop = stop || new nodes.Literal(lineno, colno, null);\n              step = step || new nodes.Literal(lineno, colno, 1);\n              this.parent(lineno, colno, start, stop, step);\n            }\n          });\n          Compiler.prototype.assertType = function assertType(node) {\n            if (node instanceof Slice) {\n              return;\n            }\n            orig_Compiler_assertType.apply(this, arguments);\n          };\n          Compiler.prototype.compileSlice = function compileSlice(node, frame) {\n            this._emit('(');\n            this._compileExpression(node.start, frame);\n            this._emit('),(');\n            this._compileExpression(node.stop, frame);\n            this._emit('),(');\n            this._compileExpression(node.step, frame);\n            this._emit(')');\n          };\n          Parser.prototype.parseAggregate = function parseAggregate() {\n            var _this = this;\n            var origState = getTokensState(this.tokens); // Set back one accounting for opening bracket/parens\n\n            origState.colno--;\n            origState.index--;\n            try {\n              return orig_Parser_parseAggregate.apply(this);\n            } catch (e) {\n              var errState = getTokensState(this.tokens);\n              var rethrow = function rethrow() {\n                lib._assign(_this.tokens, errState);\n                return e;\n              }; // Reset to state before original parseAggregate called\n\n              lib._assign(this.tokens, origState);\n              this.peeked = false;\n              var tok = this.peekToken();\n              if (tok.type !== lexer.TOKEN_LEFT_BRACKET) {\n                throw rethrow();\n              } else {\n                this.nextToken();\n              }\n              var node = new Slice(tok.lineno, tok.colno); // If we don't encounter a colon while parsing, this is not a slice,\n              // so re-raise the original exception.\n\n              var isSlice = false;\n              for (var i = 0; i <= node.fields.length; i++) {\n                if (this.skip(lexer.TOKEN_RIGHT_BRACKET)) {\n                  break;\n                }\n                if (i === node.fields.length) {\n                  if (isSlice) {\n                    this.fail('parseSlice: too many slice components', tok.lineno, tok.colno);\n                  } else {\n                    break;\n                  }\n                }\n                if (this.skip(lexer.TOKEN_COLON)) {\n                  isSlice = true;\n                } else {\n                  var field = node.fields[i];\n                  node[field] = this.parseExpression();\n                  isSlice = this.skip(lexer.TOKEN_COLON) || isSlice;\n                }\n              }\n              if (!isSlice) {\n                throw rethrow();\n              }\n              return new nodes.Array(tok.lineno, tok.colno, [node]);\n            }\n          };\n        }\n        function sliceLookup(obj, start, stop, step) {\n          obj = obj || [];\n          if (start === null) {\n            start = step < 0 ? obj.length - 1 : 0;\n          }\n          if (stop === null) {\n            stop = step < 0 ? -1 : obj.length;\n          } else if (stop < 0) {\n            stop += obj.length;\n          }\n          if (start < 0) {\n            start += obj.length;\n          }\n          var results = [];\n          for (var i = start;; i += step) {\n            if (i < 0 || i > obj.length) {\n              break;\n            }\n            if (step > 0 && i >= stop) {\n              break;\n            }\n            if (step < 0 && i <= stop) {\n              break;\n            }\n            results.push(runtime.memberLookup(obj, i));\n          }\n          return results;\n        }\n        function hasOwnProp(obj, key) {\n          return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        var ARRAY_MEMBERS = {\n          pop: function pop(index) {\n            if (index === undefined) {\n              return this.pop();\n            }\n            if (index >= this.length || index < 0) {\n              throw new Error('KeyError');\n            }\n            return this.splice(index, 1);\n          },\n          append: function append(element) {\n            return this.push(element);\n          },\n          remove: function remove(element) {\n            for (var i = 0; i < this.length; i++) {\n              if (this[i] === element) {\n                return this.splice(i, 1);\n              }\n            }\n            throw new Error('ValueError');\n          },\n          count: function count(element) {\n            var count = 0;\n            for (var i = 0; i < this.length; i++) {\n              if (this[i] === element) {\n                count++;\n              }\n            }\n            return count;\n          },\n          index: function index(element) {\n            var i;\n            if ((i = this.indexOf(element)) === -1) {\n              throw new Error('ValueError');\n            }\n            return i;\n          },\n          find: function find(element) {\n            return this.indexOf(element);\n          },\n          insert: function insert(index, elem) {\n            return this.splice(index, 0, elem);\n          }\n        };\n        var OBJECT_MEMBERS = {\n          items: function items() {\n            return lib._entries(this);\n          },\n          values: function values() {\n            return lib._values(this);\n          },\n          keys: function keys() {\n            return lib.keys(this);\n          },\n          get: function get(key, def) {\n            var output = this[key];\n            if (output === undefined) {\n              output = def;\n            }\n            return output;\n          },\n          has_key: function has_key(key) {\n            return hasOwnProp(this, key);\n          },\n          pop: function pop(key, def) {\n            var output = this[key];\n            if (output === undefined && def !== undefined) {\n              output = def;\n            } else if (output === undefined) {\n              throw new Error('KeyError');\n            } else {\n              delete this[key];\n            }\n            return output;\n          },\n          popitem: function popitem() {\n            var keys = lib.keys(this);\n            if (!keys.length) {\n              throw new Error('KeyError');\n            }\n            var k = keys[0];\n            var val = this[k];\n            delete this[k];\n            return [k, val];\n          },\n          setdefault: function setdefault(key, def) {\n            if (def === void 0) {\n              def = null;\n            }\n            if (!(key in this)) {\n              this[key] = def;\n            }\n            return this[key];\n          },\n          update: function update(kwargs) {\n            lib._assign(this, kwargs);\n            return null; // Always returns None\n          }\n        };\n\n        OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;\n        OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;\n        OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;\n        runtime.memberLookup = function memberLookup(obj, val, autoescape) {\n          if (arguments.length === 4) {\n            return sliceLookup.apply(this, arguments);\n          }\n          obj = obj || {}; // If the object is an object, return any of the methods that Python would\n          // otherwise provide.\n\n          if (lib.isArray(obj) && hasOwnProp(ARRAY_MEMBERS, val)) {\n            return ARRAY_MEMBERS[val].bind(obj);\n          }\n          if (lib.isObject(obj) && hasOwnProp(OBJECT_MEMBERS, val)) {\n            return OBJECT_MEMBERS[val].bind(obj);\n          }\n          return orig_memberLookup.apply(this, arguments);\n        };\n        return uninstall;\n      }\n      module.exports = installCompat;\n\n      /***/\n    }\n    /******/])\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","ArrayProto","Array","ObjProto","escapeMap","escapeRegex","hasOwnProp","obj","k","lookupEscape","ch","_prettifyError","path","withInternals","err","Update","TemplateError","old","Error","message","lineno","colno","cause","setPrototypeOf","writable","value","captureStackTrace","constructor","getStack","stackDescriptor","getOwnPropertyDescriptor","stack","firstUpdate","msg","create","escape","val","replace","isFunction","toString","isArray","isString","isObject","_prepareAttributeParts","attr","split","getAttrGetter","attribute","parts","attrGetter","item","_item","length","part","undefined","groupBy","throwOnUndefined","result","iterator","key","TypeError","push","toArray","slice","without","array","contains","arguments","index","indexOf","repeat","char_","str","each","func","context","forEach","map","results","asyncIter","arr","iter","cb","next","asyncFor","keys","keys_","len","searchElement","fromIndex","_entries","_values","extend","obj1","obj2","_assign","inOperator","EventEmitter","lib","parentWrap","parent","prop","wrap","tmp","res","apply","extendClass","cls","props","subclass","_cls","_inheritsLoose","_createClass","Obj","init","EmitterObj","_this2","_this","_EventEmitter","arrayFrom","from","supportsIterators","Symbol","Frame","isolateWrites","variables","topLevel","set","resolveUp","frame","resolve","id","lookup","forWrite","pop","makeMacro","argNames","kwargNames","macro","_len","macroArgs","_key","argCount","numArgs","args","kwargs","getKeywordArgs","arg","makeKeywordArgs","__keywords","isKeywordArgs","lastArg","SafeString","String","valueOf","copySafeness","dest","target","markSafe","type","wrapSafe","ret","suppressValue","autoescape","ensureDefined","memberLookup","_len2","_key2","callWrap","contextOrFrameLookup","handleError","error","asyncEach","dimen","iterCallback","asyncAll","finished","outputArr","done","output","join","_i","fromIterator","traverseAndCheck","Node","findAll","_arguments","fields","field","NodeList","children","child","iterFields","_this3","Value","nodes","_Node2","addChild","node","Root","Literal","Group","ArrayNode","Pair","Dict","LookupVal","If","IfAsync","InlineIf","For","AsyncEach","AsyncAll","Macro","Caller","Import","FromImport","template","names","withContext","_Node3","FunCall","Filter","FilterAsync","KeywordArgs","Block","Super","TemplateRef","Extends","Include","Set","Switch","Case","Output","Capture","TemplateData","UnaryOp","BinOp","In","Is","Or","And","Not","Add","Concat","Sub","Mul","Div","FloorDiv","Mod","Pow","Neg","Pos","Compare","CompareOperand","CallExtension","ext","contentArgs","extName","__name","CallExtensionAsync","print","indent","inline","lines","line","process","stdout","write","nl","printNodes","typename","fieldName","JSON","stringify","_ref","parser","transformer","compareOps","Compiler","templateName","codebuf","lastId","buffer","bufferStack","_scopeClosers","inBlock","fail","_pushBuffer","_tmpid","_emit","_popBuffer","code","_emitLine","_emitLines","_emitFuncBegin","_emitFuncEnd","noReturn","_closeScopeLevels","_addScopeLevel","_withScopedSyntax","_makeCallback","_templateName","_compileChildren","compile","_compileAggregate","startChar","endChar","_compileExpression","assertType","types","some","t","compileCallExtension","async","_this4","compileCallExtensionAsync","compileNodeList","compileLiteral","compileSymbol","v","compileGroup","compileArray","compileDict","compilePair","compileInlineIf","cond","body","else_","compileIn","left","right","compileIs","_binOpEmitter","compileOr","compileAnd","compileAdd","compileConcat","compileSub","compileMul","compileDiv","compileMod","compileNot","compileFloorDiv","compilePow","compileNeg","compilePos","compileCompare","_this5","expr","ops","op","compileLookupVal","_getNodeName","compileFunCall","compileFilter","compileFilterAsync","symbol","compileKeywordArgs","compileSet","_this6","ids","targets","charAt","compileSwitch","_this7","cases","default","compileIf","_this8","compileIfAsync","_emitLoopBindings","_this9","bindings","b","compileFor","_this10","u","tid","_node$name$children","_v","_compileAsyncLoop","parallel","_this11","asyncMethod","arrayLen","buf","compileAsyncEach","compileAsyncAll","_compileMacro","_this12","funcId","keepFrame","realNames","concat","currFrame","pair","bufferId","compileMacro","compileCaller","_compileGetTemplate","eagerCompile","ignoreMissing","parentTemplateId","parentName","eagerCompileArg","ignoreMissingArg","compileImport","compileFromImport","_this13","importedId","nameNode","alias","compileBlock","compileSuper","blockName","compileExtends","compileInclude","id2","compileTemplateData","compileCapture","_this14","compileOutput","_this15","compileRoot","_this16","blockNames","blocks","block","tmpFrame","_compile","getCode","src","asyncFilters","extensions","opts","preprocessors","preprocess","filter","f","processedSrc","reduce","processor","transform","parse","_EmitterObj","Loader","_proto","to","dirname","isRelative","filename","asap","_waterfall","compiler","filters","FileSystemLoader","WebLoader","PrecompiledLoader","tests","globals","globalRuntime","expressApp","callbackAsap","noopTmplSrc","env","runtime","e","Environment","loaders","dev","trimBlocks","lstripBlocks","window","nunjucksPrecompiled","unshift","_initLoaders","extensionsList","addFilter","_ref2","test","addTest","loader","cache","on","fullname","emit","source","invalidateCache","addExtension","extension","removeExtension","getExtension","hasExtension","addGlobal","getGlobal","wrapped","getFilter","getTest","resolveTemplate","getTemplate","that","tmpl","raw","Template","syncResult","createTemplate","info","newTmpl","noCache","handle","getSource","express","app","render","ctx","renderString","waterfall","tasks","callback","forceAsync","Context","exported","addBlock","setVariable","getVariables","getBlock","getSuper","idx","blk","addExport","getExported","tmplProps","tmplStr","compiled","parentFrame","didError","rootRenderFunc","Function","_getBlocks","lexer","Parser","tokens","peeked","breakOnBlocks","dropLeadingWhitespace","nextToken","withWhitespace","tok","TOKEN_WHITESPACE","peekToken","pushToken","skip","expect","skipValue","skipSymbol","TOKEN_SYMBOL","advanceAfterBlockEnd","TOKEN_BLOCK_END","advanceAfterVariableEnd","TOKEN_VARIABLE_END","tags","VARIABLE_END","parseFor","forTok","endBlock","parsePrimary","TOKEN_COMMA","prim","parseExpression","parseUntilBlocks","parseMacro","macroTok","parseSignature","parseCall","callTok","callerArgs","macroCall","callerName","callerNode","parseWithContext","parseImport","importTok","parseFrom","fromTok","nextTok","parseBlock","tag","parseExtends","tagName","parseInclude","parseIf","parseSet","TOKEN_OPERATOR","parseSwitch","switchStart","switchEnd","caseStart","caseDefault","defaultCase","col","parseStatement","parseRaw","parseFilterStatement","endTagName","rawBlockRegex","RegExp","rawLevel","matches","begun","_extractRegex","all","pre","backN","parsePostfix","TOKEN_LEFT_PAREN","TOKEN_LEFT_BRACKET","parseAggregate","parseInlineIf","parseOr","condNode","bodyNode","parseAnd","node2","parseNot","parseIn","parseIs","invert","parseCompare","not","parseConcat","parseAdd","TOKEN_TILDE","parseSub","parseMul","parseDiv","parseFloorDiv","parseMod","parsePow","parseUnary","noFilters","parseFilter","noPostfix","TOKEN_STRING","TOKEN_INT","parseInt","TOKEN_FLOAT","parseFloat","TOKEN_BOOLEAN","TOKEN_NONE","TOKEN_REGEX","flags","parseFilterName","parseFilterArgs","TOKEN_PIPE","filterTok","TOKEN_LEFT_CURLY","TOKEN_RIGHT_PAREN","TOKEN_RIGHT_BRACKET","TOKEN_RIGHT_CURLY","TOKEN_COLON","tolerant","noParens","checkComma","prev","parseNodes","TOKEN_DATA","data","nextVal","TOKEN_BLOCK_START","TOKEN_VARIABLE_START","VARIABLE_START","TOKEN_COMMENT","COMMENT_START","COMMENT_END","parseAsRoot","lex","whitespaceChars","delimChars","intChars","BLOCK_START","BLOCK_END","TOKEN_SPECIAL","token","Tokenizer","in_code","blockStart","blockEnd","variableStart","variableEnd","commentStart","commentEnd","cur","current","isFinished","_parseString","_extract","_extractString","forward","back","forwardN","regexBody","previous","POSSIBLE_FLAGS","regexFlags","isCurrentAFlag","complexOps","curComplex","_extractUntil","match","dec","beginChars","inComment","_matches","lastLine","delimiter","charString","_extractMatching","breakOnMatch","first","regex","currentStr","lastIndexOf","substr","baseURL","_Loader","useCache","fetch","content","status","url","ajax","XMLHttpRequest","loading","onreadystatechange","readyState","responseText","Date","getTime","open","send","precompile","installJinjaCompat","configure","templatesPath","TemplateLoader","watch","web","NodeResolveLoader","reset","precompileString","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","throwFirstError","shift","task","rawTask","RawTask","onerror","global","queue","requestFlush","flushing","capacity","flush","currentIndex","scan","newLength","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromMutationObserver","toggle","observer","document","createTextNode","observe","characterData","requestCall","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","g","eval","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","executeSync","splice","executeAsync","fn","setImmediate","nextTick","makeIterator","makeCallback","_isArray","maybeArray","wrapIterator","R","Reflect","ReflectApply","receiver","ReflectOwnKeys","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","ProcessEmitWarning","warning","console","warn","NumberIsNaN","Number","isNaN","once","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","RangeError","getPrototypeOf","setMaxListeners","_getMaxListeners","getMaxListeners","doError","events","er","handler","listeners","arrayClone","_addListener","prepend","existing","newListener","warned","w","emitter","count","addListener","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","bind","prependOnceListener","list","position","originalListener","spliceOne","off","removeAllListeners","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","copy","Promise","reject","eventListener","errorListener","sym","gensym","mapCOW","walk","ast","depthFirst","astT","propsT","depthWalk","_liftFilters","walked","descNode","liftFilters","liftSuper","blockNode","hasSuper","convertStatements","cps","r","normalize","defaultValue","abs","Math","num","batch","linecount","fillWith","capitalize","toLowerCase","toUpperCase","center","width","spaces","post","default_","def","bool","dictsort","caseSensitive","by","si","sort","t1","t2","a","dump","safe","forceescape","groupby","indentfirst","sp","del","last","lengthFilter","Map","size","lower","nl2br","random","floor","getSelectOrReject","expectedTestResult","testName","secondArg","examineTestResult","rejectattr","select","selectattr","new_","maxCount","originalStr","nextIndex","pos","substring","reverse","round","precision","method","factor","pow","rounder","ceil","slices","sliceLength","extra","offset","start","end","currSlice","sum","sortFilter","reversed","caseSens","getAttribute","x","y","string","striptags","input","preserveLinebreaks","trimmedInput","trim","title","words","word","truncate","killwords","orig","upper","urlencode","enc","encodeURIComponent","keyvals","puncRe","emailRe","httpHttpsRe","wwwRe","tldRe","urlize","nofollow","Infinity","noFollowAttr","possibleUrl","shortUrl","wordcount","float","intFilter","doInt","base","int","compiledTemplates","precompiled","callable","defined","divisibleby","one","two","escaped","equalto","eq","sameas","even","falsy","ge","greaterthan","gt","le","lessthan","lt","ne","nullTest","null","number","odd","truthy","undefinedTest","iterable","mapping","_cycler","cycler","items","_joiner","joiner","sep","range","stop","step","NunjucksView","defaultEngine","extname","fs","precompileGlobal","patterns","pattern","wrapper","_precompile","pathStats","existsSync","statSync","templates","addTemplates","dir","readdirSync","file","filepath","subpath","stat","isDirectory","exclude","include","isFile","readFileSync","force","out","asFunction","installCompat","orig_contextOrFrameLookup","orig_memberLookup","orig_Compiler_assertType","orig_Parser_parseAggregate","uninstall","getTokensState","Slice","compileSlice","origState","errState","rethrow","isSlice","sliceLookup","ARRAY_MEMBERS","append","element","remove","find","insert","elem","OBJECT_MEMBERS","values","has_key","popitem","setdefault","update","iteritems","itervalues","iterkeys"],"sources":["/Users/jayliu/node_modules/nunjucks/webpack/universalModuleDefinition","/Users/jayliu/node_modules/nunjucks/webpack/bootstrap 679ff8296d850238baf3","/Users/jayliu/node_modules/nunjucks/nunjucks/src/lib.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/object.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/runtime.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/nodes.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/compiler.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/loader.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/environment.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/parser.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/lexer.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/web-loaders.js","/Users/jayliu/node_modules/nunjucks/nunjucks/index.js","/Users/jayliu/node_modules/nunjucks/node_modules/asap/browser-asap.js","/Users/jayliu/node_modules/nunjucks/node_modules/asap/browser-raw.js","/Users/jayliu/node_modules/nunjucks/node_modules/webpack/buildin/global.js","/Users/jayliu/node_modules/nunjucks/node_modules/a-sync-waterfall/index.js","/Users/jayliu/node_modules/nunjucks/node_modules/webpack/node_modules/events/events.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/transformer.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/filters.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/precompiled-loader.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/tests.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/globals.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/express-app.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/precompile.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/precompile-global.js","/Users/jayliu/node_modules/nunjucks/nunjucks/src/jinja-compat.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nunjucks\"] = factory();\n\telse\n\t\troot[\"nunjucks\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 679ff8296d850238baf3","'use strict';\n\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\n\nvar escapeMap = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&#39;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\n\nvar escapeRegex = /[&\"'<>]/g;\n\nvar exports = module.exports = {};\n\nfunction hasOwnProp(obj, k) {\n  return ObjProto.hasOwnProperty.call(obj, k);\n}\n\nexports.hasOwnProp = hasOwnProp;\n\nfunction lookupEscape(ch) {\n  return escapeMap[ch];\n}\n\nfunction _prettifyError(path, withInternals, err) {\n  if (!err.Update) {\n    // not one of ours, cast it\n    err = new exports.TemplateError(err);\n  }\n  err.Update(path);\n\n  // Unless they marked the dev flag, show them a trace from here\n  if (!withInternals) {\n    const old = err;\n    err = new Error(old.message);\n    err.name = old.name;\n  }\n\n  return err;\n}\n\nexports._prettifyError = _prettifyError;\n\nfunction TemplateError(message, lineno, colno) {\n  var err;\n  var cause;\n\n  if (message instanceof Error) {\n    cause = message;\n    message = `${cause.name}: ${cause.message}`;\n  }\n\n  if (Object.setPrototypeOf) {\n    err = new Error(message);\n    Object.setPrototypeOf(err, TemplateError.prototype);\n  } else {\n    err = this;\n    Object.defineProperty(err, 'message', {\n      enumerable: false,\n      writable: true,\n      value: message,\n    });\n  }\n\n  Object.defineProperty(err, 'name', {\n    value: 'Template render error',\n  });\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(err, this.constructor);\n  }\n\n  let getStack;\n\n  if (cause) {\n    const stackDescriptor = Object.getOwnPropertyDescriptor(cause, 'stack');\n    getStack = stackDescriptor && (stackDescriptor.get || (() => stackDescriptor.value));\n    if (!getStack) {\n      getStack = () => cause.stack;\n    }\n  } else {\n    const stack = (new Error(message)).stack;\n    getStack = (() => stack);\n  }\n\n  Object.defineProperty(err, 'stack', {\n    get: () => getStack.call(err),\n  });\n\n  Object.defineProperty(err, 'cause', {\n    value: cause\n  });\n\n  err.lineno = lineno;\n  err.colno = colno;\n  err.firstUpdate = true;\n\n  err.Update = function Update(path) {\n    let msg = '(' + (path || 'unknown path') + ')';\n\n    // only show lineno + colno next to path of template\n    // where error occurred\n    if (this.firstUpdate) {\n      if (this.lineno && this.colno) {\n        msg += ` [Line ${this.lineno}, Column ${this.colno}]`;\n      } else if (this.lineno) {\n        msg += ` [Line ${this.lineno}]`;\n      }\n    }\n\n    msg += '\\n ';\n    if (this.firstUpdate) {\n      msg += ' ';\n    }\n\n    this.message = msg + (this.message || '');\n    this.firstUpdate = false;\n    return this;\n  };\n\n  return err;\n}\n\n\nif (Object.setPrototypeOf) {\n  Object.setPrototypeOf(TemplateError.prototype, Error.prototype);\n} else {\n  TemplateError.prototype = Object.create(Error.prototype, {\n    constructor: {\n      value: TemplateError,\n    },\n  });\n}\n\nexports.TemplateError = TemplateError;\n\nfunction escape(val) {\n  return val.replace(escapeRegex, lookupEscape);\n}\n\nexports.escape = escape;\n\nfunction isFunction(obj) {\n  return ObjProto.toString.call(obj) === '[object Function]';\n}\n\nexports.isFunction = isFunction;\n\nfunction isArray(obj) {\n  return ObjProto.toString.call(obj) === '[object Array]';\n}\n\nexports.isArray = isArray;\n\nfunction isString(obj) {\n  return ObjProto.toString.call(obj) === '[object String]';\n}\n\nexports.isString = isString;\n\nfunction isObject(obj) {\n  return ObjProto.toString.call(obj) === '[object Object]';\n}\n\nexports.isObject = isObject;\n\n/**\n * @param {string|number} attr\n * @returns {(string|number)[]}\n * @private\n */\nfunction _prepareAttributeParts(attr) {\n  if (!attr) {\n    return [];\n  }\n\n  if (typeof attr === 'string') {\n    return attr.split('.');\n  }\n\n  return [attr];\n}\n\n/**\n * @param {string}   attribute      Attribute value. Dots allowed.\n * @returns {function(Object): *}\n */\nfunction getAttrGetter(attribute) {\n  const parts = _prepareAttributeParts(attribute);\n\n  return function attrGetter(item) {\n    let _item = item;\n\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n\n      // If item is not an object, and we still got parts to handle, it means\n      // that something goes wrong. Just roll out to undefined in that case.\n      if (hasOwnProp(_item, part)) {\n        _item = _item[part];\n      } else {\n        return undefined;\n      }\n    }\n\n    return _item;\n  };\n}\n\nexports.getAttrGetter = getAttrGetter;\n\nfunction groupBy(obj, val, throwOnUndefined) {\n  const result = {};\n  const iterator = isFunction(val) ? val : getAttrGetter(val);\n  for (let i = 0; i < obj.length; i++) {\n    const value = obj[i];\n    const key = iterator(value, i);\n    if (key === undefined && throwOnUndefined === true) {\n      throw new TypeError(`groupby: attribute \"${val}\" resolved to undefined`);\n    }\n    (result[key] || (result[key] = [])).push(value);\n  }\n  return result;\n}\n\nexports.groupBy = groupBy;\n\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj);\n}\n\nexports.toArray = toArray;\n\nfunction without(array) {\n  const result = [];\n  if (!array) {\n    return result;\n  }\n  const length = array.length;\n  const contains = toArray(arguments).slice(1);\n  let index = -1;\n\n  while (++index < length) {\n    if (indexOf(contains, array[index]) === -1) {\n      result.push(array[index]);\n    }\n  }\n  return result;\n}\n\nexports.without = without;\n\nfunction repeat(char_, n) {\n  var str = '';\n  for (let i = 0; i < n; i++) {\n    str += char_;\n  }\n  return str;\n}\n\nexports.repeat = repeat;\n\nfunction each(obj, func, context) {\n  if (obj == null) {\n    return;\n  }\n\n  if (ArrayProto.forEach && obj.forEach === ArrayProto.forEach) {\n    obj.forEach(func, context);\n  } else if (obj.length === +obj.length) {\n    for (let i = 0, l = obj.length; i < l; i++) {\n      func.call(context, obj[i], i, obj);\n    }\n  }\n}\n\nexports.each = each;\n\nfunction map(obj, func) {\n  var results = [];\n  if (obj == null) {\n    return results;\n  }\n\n  if (ArrayProto.map && obj.map === ArrayProto.map) {\n    return obj.map(func);\n  }\n\n  for (let i = 0; i < obj.length; i++) {\n    results[results.length] = func(obj[i], i);\n  }\n\n  if (obj.length === +obj.length) {\n    results.length = obj.length;\n  }\n\n  return results;\n}\n\nexports.map = map;\n\nfunction asyncIter(arr, iter, cb) {\n  let i = -1;\n\n  function next() {\n    i++;\n\n    if (i < arr.length) {\n      iter(arr[i], i, next, cb);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncIter = asyncIter;\n\nfunction asyncFor(obj, iter, cb) {\n  const keys = keys_(obj || {});\n  const len = keys.length;\n  let i = -1;\n\n  function next() {\n    i++;\n    const k = keys[i];\n\n    if (i < len) {\n      iter(k, obj[k], i, len, next);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncFor = asyncFor;\n\nfunction indexOf(arr, searchElement, fromIndex) {\n  return Array.prototype.indexOf.call(arr || [], searchElement, fromIndex);\n}\n\nexports.indexOf = indexOf;\n\nfunction keys_(obj) {\n  /* eslint-disable no-restricted-syntax */\n  const arr = [];\n  for (let k in obj) {\n    if (hasOwnProp(obj, k)) {\n      arr.push(k);\n    }\n  }\n  return arr;\n}\n\nexports.keys = keys_;\n\nfunction _entries(obj) {\n  return keys_(obj).map((k) => [k, obj[k]]);\n}\n\nexports._entries = _entries;\n\nfunction _values(obj) {\n  return keys_(obj).map((k) => obj[k]);\n}\n\nexports._values = _values;\n\nfunction extend(obj1, obj2) {\n  obj1 = obj1 || {};\n  keys_(obj2).forEach(k => {\n    obj1[k] = obj2[k];\n  });\n  return obj1;\n}\n\nexports._assign = exports.extend = extend;\n\nfunction inOperator(key, val) {\n  if (isArray(val) || isString(val)) {\n    return val.indexOf(key) !== -1;\n  } else if (isObject(val)) {\n    return key in val;\n  }\n  throw new Error('Cannot use \"in\" operator to search for \"'\n    + key + '\" in unexpected types.');\n}\n\nexports.inOperator = inOperator;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/lib.js","'use strict';\n\n// A simple class system, more documentation to come\nconst EventEmitter = require('events');\nconst lib = require('./lib');\n\nfunction parentWrap(parent, prop) {\n  if (typeof parent !== 'function' || typeof prop !== 'function') {\n    return prop;\n  }\n  return function wrap() {\n    // Save the current parent method\n    const tmp = this.parent;\n\n    // Set parent to the previous method, call, and restore\n    this.parent = parent;\n    const res = prop.apply(this, arguments);\n    this.parent = tmp;\n\n    return res;\n  };\n}\n\nfunction extendClass(cls, name, props) {\n  props = props || {};\n\n  lib.keys(props).forEach(k => {\n    props[k] = parentWrap(cls.prototype[k], props[k]);\n  });\n\n  class subclass extends cls {\n    get typename() {\n      return name;\n    }\n  }\n\n  lib._assign(subclass.prototype, props);\n\n  return subclass;\n}\n\nclass Obj {\n  constructor(...args) {\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nclass EmitterObj extends EventEmitter {\n  constructor(...args) {\n    super();\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nmodule.exports = { Obj, EmitterObj };\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/object.js","'use strict';\n\nvar lib = require('./lib');\nvar arrayFrom = Array.from;\nvar supportsIterators = (\n  typeof Symbol === 'function' && Symbol.iterator && typeof arrayFrom === 'function'\n);\n\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nclass Frame {\n  constructor(parent, isolateWrites) {\n    this.variables = Object.create(null);\n    this.parent = parent;\n    this.topLevel = false;\n    // if this is true, writes (set) should never propagate upwards past\n    // this frame to its parent (though reads may).\n    this.isolateWrites = isolateWrites;\n  }\n\n  set(name, val, resolveUp) {\n    // Allow variables with dots by automatically creating the\n    // nested structure\n    var parts = name.split('.');\n    var obj = this.variables;\n    var frame = this;\n\n    if (resolveUp) {\n      if ((frame = this.resolve(parts[0], true))) {\n        frame.set(name, val);\n        return;\n      }\n    }\n\n    for (let i = 0; i < parts.length - 1; i++) {\n      const id = parts[i];\n\n      if (!obj[id]) {\n        obj[id] = {};\n      }\n      obj = obj[id];\n    }\n\n    obj[parts[parts.length - 1]] = val;\n  }\n\n  get(name) {\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return null;\n  }\n\n  lookup(name) {\n    var p = this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return p && p.lookup(name);\n  }\n\n  resolve(name, forWrite) {\n    var p = (forWrite && this.isolateWrites) ? undefined : this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return this;\n    }\n    return p && p.resolve(name);\n  }\n\n  push(isolateWrites) {\n    return new Frame(this, isolateWrites);\n  }\n\n  pop() {\n    return this.parent;\n  }\n}\n\nfunction makeMacro(argNames, kwargNames, func) {\n  return function macro(...macroArgs) {\n    var argCount = numArgs(macroArgs);\n    var args;\n    var kwargs = getKeywordArgs(macroArgs);\n\n    if (argCount > argNames.length) {\n      args = macroArgs.slice(0, argNames.length);\n\n      // Positional arguments that should be passed in as\n      // keyword arguments (essentially default values)\n      macroArgs.slice(args.length, argCount).forEach((val, i) => {\n        if (i < kwargNames.length) {\n          kwargs[kwargNames[i]] = val;\n        }\n      });\n      args.push(kwargs);\n    } else if (argCount < argNames.length) {\n      args = macroArgs.slice(0, argCount);\n\n      for (let i = argCount; i < argNames.length; i++) {\n        const arg = argNames[i];\n\n        // Keyword arguments that should be passed as\n        // positional arguments, i.e. the caller explicitly\n        // used the name of a positional arg\n        args.push(kwargs[arg]);\n        delete kwargs[arg];\n      }\n      args.push(kwargs);\n    } else {\n      args = macroArgs;\n    }\n\n    return func.apply(this, args);\n  };\n}\n\nfunction makeKeywordArgs(obj) {\n  obj.__keywords = true;\n  return obj;\n}\n\nfunction isKeywordArgs(obj) {\n  return obj && Object.prototype.hasOwnProperty.call(obj, '__keywords');\n}\n\nfunction getKeywordArgs(args) {\n  var len = args.length;\n  if (len) {\n    const lastArg = args[len - 1];\n    if (isKeywordArgs(lastArg)) {\n      return lastArg;\n    }\n  }\n  return {};\n}\n\nfunction numArgs(args) {\n  var len = args.length;\n  if (len === 0) {\n    return 0;\n  }\n\n  const lastArg = args[len - 1];\n  if (isKeywordArgs(lastArg)) {\n    return len - 1;\n  } else {\n    return len;\n  }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  this.val = val;\n  this.length = val.length;\n}\n\nSafeString.prototype = Object.create(String.prototype, {\n  length: {\n    writable: true,\n    configurable: true,\n    value: 0\n  }\n});\nSafeString.prototype.valueOf = function valueOf() {\n  return this.val;\n};\nSafeString.prototype.toString = function toString() {\n  return this.val;\n};\n\nfunction copySafeness(dest, target) {\n  if (dest instanceof SafeString) {\n    return new SafeString(target);\n  }\n  return target.toString();\n}\n\nfunction markSafe(val) {\n  var type = typeof val;\n\n  if (type === 'string') {\n    return new SafeString(val);\n  } else if (type !== 'function') {\n    return val;\n  } else {\n    return function wrapSafe(args) {\n      var ret = val.apply(this, arguments);\n\n      if (typeof ret === 'string') {\n        return new SafeString(ret);\n      }\n\n      return ret;\n    };\n  }\n}\n\nfunction suppressValue(val, autoescape) {\n  val = (val !== undefined && val !== null) ? val : '';\n\n  if (autoescape && !(val instanceof SafeString)) {\n    val = lib.escape(val.toString());\n  }\n\n  return val;\n}\n\nfunction ensureDefined(val, lineno, colno) {\n  if (val === null || val === undefined) {\n    throw new lib.TemplateError(\n      'attempted to output null or undefined value',\n      lineno + 1,\n      colno + 1\n    );\n  }\n  return val;\n}\n\nfunction memberLookup(obj, val) {\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n\n  if (typeof obj[val] === 'function') {\n    return (...args) => obj[val].apply(obj, args);\n  }\n\n  return obj[val];\n}\n\nfunction callWrap(obj, name, context, args) {\n  if (!obj) {\n    throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n  } else if (typeof obj !== 'function') {\n    throw new Error('Unable to call `' + name + '`, which is not a function');\n  }\n\n  return obj.apply(context, args);\n}\n\nfunction contextOrFrameLookup(context, frame, name) {\n  var val = frame.lookup(name);\n  return (val !== undefined) ?\n    val :\n    context.lookup(name);\n}\n\nfunction handleError(error, lineno, colno) {\n  if (error.lineno) {\n    return error;\n  } else {\n    return new lib.TemplateError(error, lineno, colno);\n  }\n}\n\nfunction asyncEach(arr, dimen, iter, cb) {\n  if (lib.isArray(arr)) {\n    const len = arr.length;\n\n    lib.asyncIter(arr, function iterCallback(item, i, next) {\n      switch (dimen) {\n        case 1:\n          iter(item, i, len, next);\n          break;\n        case 2:\n          iter(item[0], item[1], i, len, next);\n          break;\n        case 3:\n          iter(item[0], item[1], item[2], i, len, next);\n          break;\n        default:\n          item.push(i, len, next);\n          iter.apply(this, item);\n      }\n    }, cb);\n  } else {\n    lib.asyncFor(arr, function iterCallback(key, val, i, len, next) {\n      iter(key, val, i, len, next);\n    }, cb);\n  }\n}\n\nfunction asyncAll(arr, dimen, func, cb) {\n  var finished = 0;\n  var len;\n  var outputArr;\n\n  function done(i, output) {\n    finished++;\n    outputArr[i] = output;\n\n    if (finished === len) {\n      cb(null, outputArr.join(''));\n    }\n  }\n\n  if (lib.isArray(arr)) {\n    len = arr.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < arr.length; i++) {\n        const item = arr[i];\n\n        switch (dimen) {\n          case 1:\n            func(item, i, len, done);\n            break;\n          case 2:\n            func(item[0], item[1], i, len, done);\n            break;\n          case 3:\n            func(item[0], item[1], item[2], i, len, done);\n            break;\n          default:\n            item.push(i, len, done);\n            func.apply(this, item);\n        }\n      }\n    }\n  } else {\n    const keys = lib.keys(arr || {});\n    len = keys.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < keys.length; i++) {\n        const k = keys[i];\n        func(k, arr[k], i, len, done);\n      }\n    }\n  }\n}\n\nfunction fromIterator(arr) {\n  if (typeof arr !== 'object' || arr === null || lib.isArray(arr)) {\n    return arr;\n  } else if (supportsIterators && Symbol.iterator in arr) {\n    return arrayFrom(arr);\n  } else {\n    return arr;\n  }\n}\n\nmodule.exports = {\n  Frame: Frame,\n  makeMacro: makeMacro,\n  makeKeywordArgs: makeKeywordArgs,\n  numArgs: numArgs,\n  suppressValue: suppressValue,\n  ensureDefined: ensureDefined,\n  memberLookup: memberLookup,\n  contextOrFrameLookup: contextOrFrameLookup,\n  callWrap: callWrap,\n  handleError: handleError,\n  isArray: lib.isArray,\n  keys: lib.keys,\n  SafeString: SafeString,\n  copySafeness: copySafeness,\n  markSafe: markSafe,\n  asyncEach: asyncEach,\n  asyncAll: asyncAll,\n  inOperator: lib.inOperator,\n  fromIterator: fromIterator\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/runtime.js","'use strict';\n\nconst {Obj} = require('./object');\n\nfunction traverseAndCheck(obj, type, results) {\n  if (obj instanceof type) {\n    results.push(obj);\n  }\n\n  if (obj instanceof Node) {\n    obj.findAll(type, results);\n  }\n}\n\nclass Node extends Obj {\n  init(lineno, colno, ...args) {\n    this.lineno = lineno;\n    this.colno = colno;\n\n    this.fields.forEach((field, i) => {\n      // The first two args are line/col numbers, so offset by 2\n      var val = arguments[i + 2];\n\n      // Fields should never be undefined, but null. It makes\n      // testing easier to normalize values.\n      if (val === undefined) {\n        val = null;\n      }\n\n      this[field] = val;\n    });\n  }\n\n  findAll(type, results) {\n    results = results || [];\n\n    if (this instanceof NodeList) {\n      this.children.forEach(child => traverseAndCheck(child, type, results));\n    } else {\n      this.fields.forEach(field => traverseAndCheck(this[field], type, results));\n    }\n\n    return results;\n  }\n\n  iterFields(func) {\n    this.fields.forEach((field) => {\n      func(this[field], field);\n    });\n  }\n}\n\n// Abstract nodes\nclass Value extends Node {\n  get typename() { return 'Value'; }\n  get fields() {\n    return ['value'];\n  }\n}\n\n// Concrete nodes\nclass NodeList extends Node {\n  get typename() { return 'NodeList'; }\n  get fields() { return ['children']; }\n\n  init(lineno, colno, nodes) {\n    super.init(lineno, colno, nodes || []);\n  }\n\n  addChild(node) {\n    this.children.push(node);\n  }\n}\n\nconst Root = NodeList.extend('Root');\nconst Literal = Value.extend('Literal');\nconst Symbol = Value.extend('Symbol');\nconst Group = NodeList.extend('Group');\nconst ArrayNode = NodeList.extend('Array');\nconst Pair = Node.extend('Pair', { fields: ['key', 'value'] });\nconst Dict = NodeList.extend('Dict');\nconst LookupVal = Node.extend('LookupVal', { fields: ['target', 'val'] });\nconst If = Node.extend('If', { fields: ['cond', 'body', 'else_'] });\nconst IfAsync = If.extend('IfAsync');\nconst InlineIf = Node.extend('InlineIf', { fields: ['cond', 'body', 'else_'] });\nconst For = Node.extend('For', { fields: ['arr', 'name', 'body', 'else_'] });\nconst AsyncEach = For.extend('AsyncEach');\nconst AsyncAll = For.extend('AsyncAll');\nconst Macro = Node.extend('Macro', { fields: ['name', 'args', 'body'] });\nconst Caller = Macro.extend('Caller');\nconst Import = Node.extend('Import', { fields: ['template', 'target', 'withContext'] });\n\nclass FromImport extends Node {\n  get typename() { return 'FromImport'; }\n  get fields() { return ['template', 'names', 'withContext']; }\n\n  init(lineno, colno, template, names, withContext) {\n    super.init(lineno, colno, template, names || new NodeList(), withContext);\n  }\n}\n\nconst FunCall = Node.extend('FunCall', { fields: ['name', 'args'] });\nconst Filter = FunCall.extend('Filter');\nconst FilterAsync = Filter.extend('FilterAsync', { fields: ['name', 'args', 'symbol'] });\nconst KeywordArgs = Dict.extend('KeywordArgs');\nconst Block = Node.extend('Block', { fields: ['name', 'body'] });\nconst Super = Node.extend('Super', { fields: ['blockName', 'symbol'] });\nconst TemplateRef = Node.extend('TemplateRef', { fields: ['template'] });\nconst Extends = TemplateRef.extend('Extends');\nconst Include = Node.extend('Include', { fields: ['template', 'ignoreMissing'] });\nconst Set = Node.extend('Set', { fields: ['targets', 'value'] });\nconst Switch = Node.extend('Switch', { fields: ['expr', 'cases', 'default'] });\nconst Case = Node.extend('Case', { fields: ['cond', 'body'] });\nconst Output = NodeList.extend('Output');\nconst Capture = Node.extend('Capture', { fields: ['body'] });\nconst TemplateData = Literal.extend('TemplateData');\nconst UnaryOp = Node.extend('UnaryOp', { fields: ['target'] });\nconst BinOp = Node.extend('BinOp', { fields: ['left', 'right'] });\nconst In = BinOp.extend('In');\nconst Is = BinOp.extend('Is');\nconst Or = BinOp.extend('Or');\nconst And = BinOp.extend('And');\nconst Not = UnaryOp.extend('Not');\nconst Add = BinOp.extend('Add');\nconst Concat = BinOp.extend('Concat');\nconst Sub = BinOp.extend('Sub');\nconst Mul = BinOp.extend('Mul');\nconst Div = BinOp.extend('Div');\nconst FloorDiv = BinOp.extend('FloorDiv');\nconst Mod = BinOp.extend('Mod');\nconst Pow = BinOp.extend('Pow');\nconst Neg = UnaryOp.extend('Neg');\nconst Pos = UnaryOp.extend('Pos');\nconst Compare = Node.extend('Compare', { fields: ['expr', 'ops'] });\nconst CompareOperand = Node.extend('CompareOperand', { fields: ['expr', 'type'] });\nconst CallExtension = Node.extend('CallExtension', {\n  init(ext, prop, args, contentArgs) {\n    this.parent();\n    this.extName = ext.__name || ext;\n    this.prop = prop;\n    this.args = args || new NodeList();\n    this.contentArgs = contentArgs || [];\n    this.autoescape = ext.autoescape;\n  },\n  fields: ['extName', 'prop', 'args', 'contentArgs']\n});\nconst CallExtensionAsync = CallExtension.extend('CallExtensionAsync');\n\n// This is hacky, but this is just a debugging function anyway\nfunction print(str, indent, inline) {\n  var lines = str.split('\\n');\n\n  lines.forEach((line, i) => {\n    if (line && ((inline && i > 0) || !inline)) {\n      process.stdout.write((' ').repeat(indent));\n    }\n    const nl = (i === lines.length - 1) ? '' : '\\n';\n    process.stdout.write(`${line}${nl}`);\n  });\n}\n\n// Print the AST in a nicely formatted tree format for debuggin\nfunction printNodes(node, indent) {\n  indent = indent || 0;\n\n  print(node.typename + ': ', indent);\n\n  if (node instanceof NodeList) {\n    print('\\n');\n    node.children.forEach((n) => {\n      printNodes(n, indent + 2);\n    });\n  } else if (node instanceof CallExtension) {\n    print(`${node.extName}.${node.prop}\\n`);\n\n    if (node.args) {\n      printNodes(node.args, indent + 2);\n    }\n\n    if (node.contentArgs) {\n      node.contentArgs.forEach((n) => {\n        printNodes(n, indent + 2);\n      });\n    }\n  } else {\n    let nodes = [];\n    let props = null;\n\n    node.iterFields((val, fieldName) => {\n      if (val instanceof Node) {\n        nodes.push([fieldName, val]);\n      } else {\n        props = props || {};\n        props[fieldName] = val;\n      }\n    });\n\n    if (props) {\n      print(JSON.stringify(props, null, 2) + '\\n', null, true);\n    } else {\n      print('\\n');\n    }\n\n    nodes.forEach(([fieldName, n]) => {\n      print(`[${fieldName}] =>`, indent + 2);\n      printNodes(n, indent + 4);\n    });\n  }\n}\n\nmodule.exports = {\n  Node: Node,\n  Root: Root,\n  NodeList: NodeList,\n  Value: Value,\n  Literal: Literal,\n  Symbol: Symbol,\n  Group: Group,\n  Array: ArrayNode,\n  Pair: Pair,\n  Dict: Dict,\n  Output: Output,\n  Capture: Capture,\n  TemplateData: TemplateData,\n  If: If,\n  IfAsync: IfAsync,\n  InlineIf: InlineIf,\n  For: For,\n  AsyncEach: AsyncEach,\n  AsyncAll: AsyncAll,\n  Macro: Macro,\n  Caller: Caller,\n  Import: Import,\n  FromImport: FromImport,\n  FunCall: FunCall,\n  Filter: Filter,\n  FilterAsync: FilterAsync,\n  KeywordArgs: KeywordArgs,\n  Block: Block,\n  Super: Super,\n  Extends: Extends,\n  Include: Include,\n  Set: Set,\n  Switch: Switch,\n  Case: Case,\n  LookupVal: LookupVal,\n  BinOp: BinOp,\n  In: In,\n  Is: Is,\n  Or: Or,\n  And: And,\n  Not: Not,\n  Add: Add,\n  Concat: Concat,\n  Sub: Sub,\n  Mul: Mul,\n  Div: Div,\n  FloorDiv: FloorDiv,\n  Mod: Mod,\n  Pow: Pow,\n  Neg: Neg,\n  Pos: Pos,\n  Compare: Compare,\n  CompareOperand: CompareOperand,\n\n  CallExtension: CallExtension,\n  CallExtensionAsync: CallExtensionAsync,\n\n  printNodes: printNodes\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/nodes.js","'use strict';\n\nconst parser = require('./parser');\nconst transformer = require('./transformer');\nconst nodes = require('./nodes');\nconst {TemplateError} = require('./lib');\nconst {Frame} = require('./runtime');\nconst {Obj} = require('./object');\n\n// These are all the same for now, but shouldn't be passed straight\n// through\nconst compareOps = {\n  '==': '==',\n  '===': '===',\n  '!=': '!=',\n  '!==': '!==',\n  '<': '<',\n  '>': '>',\n  '<=': '<=',\n  '>=': '>='\n};\n\nclass Compiler extends Obj {\n  init(templateName, throwOnUndefined) {\n    this.templateName = templateName;\n    this.codebuf = [];\n    this.lastId = 0;\n    this.buffer = null;\n    this.bufferStack = [];\n    this._scopeClosers = '';\n    this.inBlock = false;\n    this.throwOnUndefined = throwOnUndefined;\n  }\n\n  fail(msg, lineno, colno) {\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n\n    throw new TemplateError(msg, lineno, colno);\n  }\n\n  _pushBuffer() {\n    const id = this._tmpid();\n    this.bufferStack.push(this.buffer);\n    this.buffer = id;\n    this._emit(`var ${this.buffer} = \"\";`);\n    return id;\n  }\n\n  _popBuffer() {\n    this.buffer = this.bufferStack.pop();\n  }\n\n  _emit(code) {\n    this.codebuf.push(code);\n  }\n\n  _emitLine(code) {\n    this._emit(code + '\\n');\n  }\n\n  _emitLines(...lines) {\n    lines.forEach((line) => this._emitLine(line));\n  }\n\n  _emitFuncBegin(node, name) {\n    this.buffer = 'output';\n    this._scopeClosers = '';\n    this._emitLine(`function ${name}(env, context, frame, runtime, cb) {`);\n    this._emitLine(`var lineno = ${node.lineno};`);\n    this._emitLine(`var colno = ${node.colno};`);\n    this._emitLine(`var ${this.buffer} = \"\";`);\n    this._emitLine('try {');\n  }\n\n  _emitFuncEnd(noReturn) {\n    if (!noReturn) {\n      this._emitLine('cb(null, ' + this.buffer + ');');\n    }\n\n    this._closeScopeLevels();\n    this._emitLine('} catch (e) {');\n    this._emitLine('  cb(runtime.handleError(e, lineno, colno));');\n    this._emitLine('}');\n    this._emitLine('}');\n    this.buffer = null;\n  }\n\n  _addScopeLevel() {\n    this._scopeClosers += '})';\n  }\n\n  _closeScopeLevels() {\n    this._emitLine(this._scopeClosers + ';');\n    this._scopeClosers = '';\n  }\n\n  _withScopedSyntax(func) {\n    var _scopeClosers = this._scopeClosers;\n    this._scopeClosers = '';\n\n    func.call(this);\n\n    this._closeScopeLevels();\n    this._scopeClosers = _scopeClosers;\n  }\n\n  _makeCallback(res) {\n    var err = this._tmpid();\n\n    return 'function(' + err + (res ? ',' + res : '') + ') {\\n' +\n      'if(' + err + ') { cb(' + err + '); return; }';\n  }\n\n  _tmpid() {\n    this.lastId++;\n    return 't_' + this.lastId;\n  }\n\n  _templateName() {\n    return this.templateName == null ? 'undefined' : JSON.stringify(this.templateName);\n  }\n\n  _compileChildren(node, frame) {\n    node.children.forEach((child) => {\n      this.compile(child, frame);\n    });\n  }\n\n  _compileAggregate(node, frame, startChar, endChar) {\n    if (startChar) {\n      this._emit(startChar);\n    }\n\n    node.children.forEach((child, i) => {\n      if (i > 0) {\n        this._emit(',');\n      }\n\n      this.compile(child, frame);\n    });\n\n    if (endChar) {\n      this._emit(endChar);\n    }\n  }\n\n  _compileExpression(node, frame) {\n    // TODO: I'm not really sure if this type check is worth it or\n    // not.\n    this.assertType(\n      node,\n      nodes.Literal,\n      nodes.Symbol,\n      nodes.Group,\n      nodes.Array,\n      nodes.Dict,\n      nodes.FunCall,\n      nodes.Caller,\n      nodes.Filter,\n      nodes.LookupVal,\n      nodes.Compare,\n      nodes.InlineIf,\n      nodes.In,\n      nodes.Is,\n      nodes.And,\n      nodes.Or,\n      nodes.Not,\n      nodes.Add,\n      nodes.Concat,\n      nodes.Sub,\n      nodes.Mul,\n      nodes.Div,\n      nodes.FloorDiv,\n      nodes.Mod,\n      nodes.Pow,\n      nodes.Neg,\n      nodes.Pos,\n      nodes.Compare,\n      nodes.NodeList\n    );\n    this.compile(node, frame);\n  }\n\n  assertType(node, ...types) {\n    if (!types.some(t => node instanceof t)) {\n      this.fail(`assertType: invalid type: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n\n  compileCallExtension(node, frame, async) {\n    var args = node.args;\n    var contentArgs = node.contentArgs;\n    var autoescape = typeof node.autoescape === 'boolean' ? node.autoescape : true;\n\n    if (!async) {\n      this._emit(`${this.buffer} += runtime.suppressValue(`);\n    }\n\n    this._emit(`env.getExtension(\"${node.extName}\")[\"${node.prop}\"](`);\n    this._emit('context');\n\n    if (args || contentArgs) {\n      this._emit(',');\n    }\n\n    if (args) {\n      if (!(args instanceof nodes.NodeList)) {\n        this.fail('compileCallExtension: arguments must be a NodeList, ' +\n          'use `parser.parseSignature`');\n      }\n\n      args.children.forEach((arg, i) => {\n        // Tag arguments are passed normally to the call. Note\n        // that keyword arguments are turned into a single js\n        // object as the last argument, if they exist.\n        this._compileExpression(arg, frame);\n\n        if (i !== args.children.length - 1 || contentArgs.length) {\n          this._emit(',');\n        }\n      });\n    }\n\n    if (contentArgs.length) {\n      contentArgs.forEach((arg, i) => {\n        if (i > 0) {\n          this._emit(',');\n        }\n\n        if (arg) {\n          this._emitLine('function(cb) {');\n          this._emitLine('if(!cb) { cb = function(err) { if(err) { throw err; }}}');\n          const id = this._pushBuffer();\n\n          this._withScopedSyntax(() => {\n            this.compile(arg, frame);\n            this._emitLine(`cb(null, ${id});`);\n          });\n\n          this._popBuffer();\n          this._emitLine(`return ${id};`);\n          this._emitLine('}');\n        } else {\n          this._emit('null');\n        }\n      });\n    }\n\n    if (async) {\n      const res = this._tmpid();\n      this._emitLine(', ' + this._makeCallback(res));\n      this._emitLine(\n        `${this.buffer} += runtime.suppressValue(${res}, ${autoescape} && env.opts.autoescape);`);\n      this._addScopeLevel();\n    } else {\n      this._emit(')');\n      this._emit(`, ${autoescape} && env.opts.autoescape);\\n`);\n    }\n  }\n\n  compileCallExtensionAsync(node, frame) {\n    this.compileCallExtension(node, frame, true);\n  }\n\n  compileNodeList(node, frame) {\n    this._compileChildren(node, frame);\n  }\n\n  compileLiteral(node) {\n    if (typeof node.value === 'string') {\n      let val = node.value.replace(/\\\\/g, '\\\\\\\\');\n      val = val.replace(/\"/g, '\\\\\"');\n      val = val.replace(/\\n/g, '\\\\n');\n      val = val.replace(/\\r/g, '\\\\r');\n      val = val.replace(/\\t/g, '\\\\t');\n      val = val.replace(/\\u2028/g, '\\\\u2028');\n      this._emit(`\"${val}\"`);\n    } else if (node.value === null) {\n      this._emit('null');\n    } else {\n      this._emit(node.value.toString());\n    }\n  }\n\n  compileSymbol(node, frame) {\n    var name = node.value;\n    var v = frame.lookup(name);\n\n    if (v) {\n      this._emit(v);\n    } else {\n      this._emit('runtime.contextOrFrameLookup(' +\n        'context, frame, \"' + name + '\")');\n    }\n  }\n\n  compileGroup(node, frame) {\n    this._compileAggregate(node, frame, '(', ')');\n  }\n\n  compileArray(node, frame) {\n    this._compileAggregate(node, frame, '[', ']');\n  }\n\n  compileDict(node, frame) {\n    this._compileAggregate(node, frame, '{', '}');\n  }\n\n  compilePair(node, frame) {\n    var key = node.key;\n    var val = node.value;\n\n    if (key instanceof nodes.Symbol) {\n      key = new nodes.Literal(key.lineno, key.colno, key.value);\n    } else if (!(key instanceof nodes.Literal &&\n      typeof key.value === 'string')) {\n      this.fail('compilePair: Dict keys must be strings or names',\n        key.lineno,\n        key.colno);\n    }\n\n    this.compile(key, frame);\n    this._emit(': ');\n    this._compileExpression(val, frame);\n  }\n\n  compileInlineIf(node, frame) {\n    this._emit('(');\n    this.compile(node.cond, frame);\n    this._emit('?');\n    this.compile(node.body, frame);\n    this._emit(':');\n    if (node.else_ !== null) {\n      this.compile(node.else_, frame);\n    } else {\n      this._emit('\"\"');\n    }\n    this._emit(')');\n  }\n\n  compileIn(node, frame) {\n    this._emit('runtime.inOperator(');\n    this.compile(node.left, frame);\n    this._emit(',');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compileIs(node, frame) {\n    // first, we need to try to get the name of the test function, if it's a\n    // callable (i.e., has args) and not a symbol.\n    var right = node.right.name\n      ? node.right.name.value\n      // otherwise go with the symbol value\n      : node.right.value;\n    this._emit('env.getTest(\"' + right + '\").call(context, ');\n    this.compile(node.left, frame);\n    // compile the arguments for the callable if they exist\n    if (node.right.args) {\n      this._emit(',');\n      this.compile(node.right.args, frame);\n    }\n    this._emit(') === true');\n  }\n\n  _binOpEmitter(node, frame, str) {\n    this.compile(node.left, frame);\n    this._emit(str);\n    this.compile(node.right, frame);\n  }\n\n  // ensure concatenation instead of addition\n  // by adding empty string in between\n  compileOr(node, frame) {\n    return this._binOpEmitter(node, frame, ' || ');\n  }\n\n  compileAnd(node, frame) {\n    return this._binOpEmitter(node, frame, ' && ');\n  }\n\n  compileAdd(node, frame) {\n    return this._binOpEmitter(node, frame, ' + ');\n  }\n\n  compileConcat(node, frame) {\n    return this._binOpEmitter(node, frame, ' + \"\" + ');\n  }\n\n  compileSub(node, frame) {\n    return this._binOpEmitter(node, frame, ' - ');\n  }\n\n  compileMul(node, frame) {\n    return this._binOpEmitter(node, frame, ' * ');\n  }\n\n  compileDiv(node, frame) {\n    return this._binOpEmitter(node, frame, ' / ');\n  }\n\n  compileMod(node, frame) {\n    return this._binOpEmitter(node, frame, ' % ');\n  }\n\n  compileNot(node, frame) {\n    this._emit('!');\n    this.compile(node.target, frame);\n  }\n\n  compileFloorDiv(node, frame) {\n    this._emit('Math.floor(');\n    this.compile(node.left, frame);\n    this._emit(' / ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compilePow(node, frame) {\n    this._emit('Math.pow(');\n    this.compile(node.left, frame);\n    this._emit(', ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compileNeg(node, frame) {\n    this._emit('-');\n    this.compile(node.target, frame);\n  }\n\n  compilePos(node, frame) {\n    this._emit('+');\n    this.compile(node.target, frame);\n  }\n\n  compileCompare(node, frame) {\n    this.compile(node.expr, frame);\n\n    node.ops.forEach((op) => {\n      this._emit(` ${compareOps[op.type]} `);\n      this.compile(op.expr, frame);\n    });\n  }\n\n  compileLookupVal(node, frame) {\n    this._emit('runtime.memberLookup((');\n    this._compileExpression(node.target, frame);\n    this._emit('),');\n    this._compileExpression(node.val, frame);\n    this._emit(')');\n  }\n\n  _getNodeName(node) {\n    switch (node.typename) {\n      case 'Symbol':\n        return node.value;\n      case 'FunCall':\n        return 'the return value of (' + this._getNodeName(node.name) + ')';\n      case 'LookupVal':\n        return this._getNodeName(node.target) + '[\"' +\n          this._getNodeName(node.val) + '\"]';\n      case 'Literal':\n        return node.value.toString();\n      default:\n        return '--expression--';\n    }\n  }\n\n  compileFunCall(node, frame) {\n    // Keep track of line/col info at runtime by settings\n    // variables within an expression. An expression in javascript\n    // like (x, y, z) returns the last value, and x and y can be\n    // anything\n    this._emit('(lineno = ' + node.lineno +\n      ', colno = ' + node.colno + ', ');\n\n    this._emit('runtime.callWrap(');\n    // Compile it as normal.\n    this._compileExpression(node.name, frame);\n\n    // Output the name of what we're calling so we can get friendly errors\n    // if the lookup fails.\n    this._emit(', \"' + this._getNodeName(node.name).replace(/\"/g, '\\\\\"') + '\", context, ');\n\n    this._compileAggregate(node.args, frame, '[', '])');\n\n    this._emit(')');\n  }\n\n  compileFilter(node, frame) {\n    var name = node.name;\n    this.assertType(name, nodes.Symbol);\n    this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n    this._compileAggregate(node.args, frame);\n    this._emit(')');\n  }\n\n  compileFilterAsync(node, frame) {\n    var name = node.name;\n    var symbol = node.symbol.value;\n\n    this.assertType(name, nodes.Symbol);\n\n    frame.set(symbol, symbol);\n\n    this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n    this._compileAggregate(node.args, frame);\n    this._emitLine(', ' + this._makeCallback(symbol));\n\n    this._addScopeLevel();\n  }\n\n  compileKeywordArgs(node, frame) {\n    this._emit('runtime.makeKeywordArgs(');\n    this.compileDict(node, frame);\n    this._emit(')');\n  }\n\n  compileSet(node, frame) {\n    var ids = [];\n\n    // Lookup the variable names for each identifier and create\n    // new ones if necessary\n    node.targets.forEach((target) => {\n      var name = target.value;\n      var id = frame.lookup(name);\n\n      if (id === null || id === undefined) {\n        id = this._tmpid();\n\n        // Note: This relies on js allowing scope across\n        // blocks, in case this is created inside an `if`\n        this._emitLine('var ' + id + ';');\n      }\n\n      ids.push(id);\n    });\n\n    if (node.value) {\n      this._emit(ids.join(' = ') + ' = ');\n      this._compileExpression(node.value, frame);\n      this._emitLine(';');\n    } else {\n      this._emit(ids.join(' = ') + ' = ');\n      this.compile(node.body, frame);\n      this._emitLine(';');\n    }\n\n    node.targets.forEach((target, i) => {\n      var id = ids[i];\n      var name = target.value;\n\n      // We are running this for every var, but it's very\n      // uncommon to assign to multiple vars anyway\n      this._emitLine(`frame.set(\"${name}\", ${id}, true);`);\n\n      this._emitLine('if(frame.topLevel) {');\n      this._emitLine(`context.setVariable(\"${name}\", ${id});`);\n      this._emitLine('}');\n\n      if (name.charAt(0) !== '_') {\n        this._emitLine('if(frame.topLevel) {');\n        this._emitLine(`context.addExport(\"${name}\", ${id});`);\n        this._emitLine('}');\n      }\n    });\n  }\n\n  compileSwitch(node, frame) {\n    this._emit('switch (');\n    this.compile(node.expr, frame);\n    this._emit(') {');\n    node.cases.forEach((c, i) => {\n      this._emit('case ');\n      this.compile(c.cond, frame);\n      this._emit(': ');\n      this.compile(c.body, frame);\n      // preserve fall-throughs\n      if (c.body.children.length) {\n        this._emitLine('break;');\n      }\n    });\n    if (node.default) {\n      this._emit('default:');\n      this.compile(node.default, frame);\n    }\n    this._emit('}');\n  }\n\n  compileIf(node, frame, async) {\n    this._emit('if(');\n    this._compileExpression(node.cond, frame);\n    this._emitLine(') {');\n\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n\n      if (async) {\n        this._emit('cb()');\n      }\n    });\n\n    if (node.else_) {\n      this._emitLine('}\\nelse {');\n\n      this._withScopedSyntax(() => {\n        this.compile(node.else_, frame);\n\n        if (async) {\n          this._emit('cb()');\n        }\n      });\n    } else if (async) {\n      this._emitLine('}\\nelse {');\n      this._emit('cb()');\n    }\n\n    this._emitLine('}');\n  }\n\n  compileIfAsync(node, frame) {\n    this._emit('(function(cb) {');\n    this.compileIf(node, frame, true);\n    this._emit('})(' + this._makeCallback());\n    this._addScopeLevel();\n  }\n\n  _emitLoopBindings(node, arr, i, len) {\n    const bindings = [\n      {name: 'index', val: `${i} + 1`},\n      {name: 'index0', val: i},\n      {name: 'revindex', val: `${len} - ${i}`},\n      {name: 'revindex0', val: `${len} - ${i} - 1`},\n      {name: 'first', val: `${i} === 0`},\n      {name: 'last', val: `${i} === ${len} - 1`},\n      {name: 'length', val: len},\n    ];\n\n    bindings.forEach((b) => {\n      this._emitLine(`frame.set(\"loop.${b.name}\", ${b.val});`);\n    });\n  }\n\n  compileFor(node, frame) {\n    // Some of this code is ugly, but it keeps the generated code\n    // as fast as possible. ForAsync also shares some of this, but\n    // not much.\n\n    const i = this._tmpid();\n    const len = this._tmpid();\n    const arr = this._tmpid();\n    frame = frame.push();\n\n    this._emitLine('frame = frame.push();');\n\n    this._emit(`var ${arr} = `);\n    this._compileExpression(node.arr, frame);\n    this._emitLine(';');\n\n    this._emit(`if(${arr}) {`);\n    this._emitLine(arr + ' = runtime.fromIterator(' + arr + ');');\n\n    // If multiple names are passed, we need to bind them\n    // appropriately\n    if (node.name instanceof nodes.Array) {\n      this._emitLine(`var ${i};`);\n\n      // The object could be an arroy or object. Note that the\n      // body of the loop is duplicated for each condition, but\n      // we are optimizing for speed over size.\n      this._emitLine(`if(runtime.isArray(${arr})) {`);\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n\n      // Bind each declared var\n      node.name.children.forEach((child, u) => {\n        var tid = this._tmpid();\n        this._emitLine(`var ${tid} = ${arr}[${i}][${u}];`);\n        this._emitLine(`frame.set(\"${child}\", ${arr}[${i}][${u}]);`);\n        frame.set(node.name.children[u].value, tid);\n      });\n\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n\n      this._emitLine('} else {');\n      // Iterate over the key/values of an object\n      const [key, val] = node.name.children;\n      const k = this._tmpid();\n      const v = this._tmpid();\n      frame.set(key.value, k);\n      frame.set(val.value, v);\n\n      this._emitLine(`${i} = -1;`);\n      this._emitLine(`var ${len} = runtime.keys(${arr}).length;`);\n      this._emitLine(`for(var ${k} in ${arr}) {`);\n      this._emitLine(`${i}++;`);\n      this._emitLine(`var ${v} = ${arr}[${k}];`);\n      this._emitLine(`frame.set(\"${key.value}\", ${k});`);\n      this._emitLine(`frame.set(\"${val.value}\", ${v});`);\n\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n\n      this._emitLine('}');\n    } else {\n      // Generate a typical array iteration\n      const v = this._tmpid();\n      frame.set(node.name.value, v);\n\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(var ${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n      this._emitLine(`var ${v} = ${arr}[${i}];`);\n      this._emitLine(`frame.set(\"${node.name.value}\", ${v});`);\n\n      this._emitLoopBindings(node, arr, i, len);\n\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n\n      this._emitLine('}');\n    }\n\n    this._emitLine('}');\n    if (node.else_) {\n      this._emitLine('if (!' + len + ') {');\n      this.compile(node.else_, frame);\n      this._emitLine('}');\n    }\n\n    this._emitLine('frame = frame.pop();');\n  }\n\n  _compileAsyncLoop(node, frame, parallel) {\n    // This shares some code with the For tag, but not enough to\n    // worry about. This iterates across an object asynchronously,\n    // but not in parallel.\n\n    var i = this._tmpid();\n    var len = this._tmpid();\n    var arr = this._tmpid();\n    var asyncMethod = parallel ? 'asyncAll' : 'asyncEach';\n    frame = frame.push();\n\n    this._emitLine('frame = frame.push();');\n\n    this._emit('var ' + arr + ' = runtime.fromIterator(');\n    this._compileExpression(node.arr, frame);\n    this._emitLine(');');\n\n    if (node.name instanceof nodes.Array) {\n      const arrayLen = node.name.children.length;\n      this._emit(`runtime.${asyncMethod}(${arr}, ${arrayLen}, function(`);\n\n      node.name.children.forEach((name) => {\n        this._emit(`${name.value},`);\n      });\n\n      this._emit(i + ',' + len + ',next) {');\n\n      node.name.children.forEach((name) => {\n        const id = name.value;\n        frame.set(id, id);\n        this._emitLine(`frame.set(\"${id}\", ${id});`);\n      });\n    } else {\n      const id = node.name.value;\n      this._emitLine(`runtime.${asyncMethod}(${arr}, 1, function(${id}, ${i}, ${len},next) {`);\n      this._emitLine('frame.set(\"' + id + '\", ' + id + ');');\n      frame.set(id, id);\n    }\n\n    this._emitLoopBindings(node, arr, i, len);\n\n    this._withScopedSyntax(() => {\n      let buf;\n      if (parallel) {\n        buf = this._pushBuffer();\n      }\n\n      this.compile(node.body, frame);\n      this._emitLine('next(' + i + (buf ? ',' + buf : '') + ');');\n\n      if (parallel) {\n        this._popBuffer();\n      }\n    });\n\n    const output = this._tmpid();\n    this._emitLine('}, ' + this._makeCallback(output));\n    this._addScopeLevel();\n\n    if (parallel) {\n      this._emitLine(this.buffer + ' += ' + output + ';');\n    }\n\n    if (node.else_) {\n      this._emitLine('if (!' + arr + '.length) {');\n      this.compile(node.else_, frame);\n      this._emitLine('}');\n    }\n\n    this._emitLine('frame = frame.pop();');\n  }\n\n  compileAsyncEach(node, frame) {\n    this._compileAsyncLoop(node, frame);\n  }\n\n  compileAsyncAll(node, frame) {\n    this._compileAsyncLoop(node, frame, true);\n  }\n\n  _compileMacro(node, frame) {\n    var args = [];\n    var kwargs = null;\n    var funcId = 'macro_' + this._tmpid();\n    var keepFrame = (frame !== undefined);\n\n    // Type check the definition of the args\n    node.args.children.forEach((arg, i) => {\n      if (i === node.args.children.length - 1 && arg instanceof nodes.Dict) {\n        kwargs = arg;\n      } else {\n        this.assertType(arg, nodes.Symbol);\n        args.push(arg);\n      }\n    });\n\n    const realNames = [...args.map((n) => `l_${n.value}`), 'kwargs'];\n\n    // Quoted argument names\n    const argNames = args.map((n) => `\"${n.value}\"`);\n    const kwargNames = ((kwargs && kwargs.children) || []).map((n) => `\"${n.key.value}\"`);\n\n    // We pass a function to makeMacro which destructures the\n    // arguments so support setting positional args with keywords\n    // args and passing keyword args as positional args\n    // (essentially default values). See runtime.js.\n    let currFrame;\n    if (keepFrame) {\n      currFrame = frame.push(true);\n    } else {\n      currFrame = new Frame();\n    }\n    this._emitLines(\n      `var ${funcId} = runtime.makeMacro(`,\n      `[${argNames.join(', ')}], `,\n      `[${kwargNames.join(', ')}], `,\n      `function (${realNames.join(', ')}) {`,\n      'var callerFrame = frame;',\n      'frame = ' + ((keepFrame) ? 'frame.push(true);' : 'new runtime.Frame();'),\n      'kwargs = kwargs || {};',\n      'if (Object.prototype.hasOwnProperty.call(kwargs, \"caller\")) {',\n      'frame.set(\"caller\", kwargs.caller); }');\n\n    // Expose the arguments to the template. Don't need to use\n    // random names because the function\n    // will create a new run-time scope for us\n    args.forEach((arg) => {\n      this._emitLine(`frame.set(\"${arg.value}\", l_${arg.value});`);\n      currFrame.set(arg.value, `l_${arg.value}`);\n    });\n\n    // Expose the keyword arguments\n    if (kwargs) {\n      kwargs.children.forEach((pair) => {\n        const name = pair.key.value;\n        this._emit(`frame.set(\"${name}\", `);\n        this._emit(`Object.prototype.hasOwnProperty.call(kwargs, \"${name}\")`);\n        this._emit(` ? kwargs[\"${name}\"] : `);\n        this._compileExpression(pair.value, currFrame);\n        this._emit(');');\n      });\n    }\n\n    const bufferId = this._pushBuffer();\n\n    this._withScopedSyntax(() => {\n      this.compile(node.body, currFrame);\n    });\n\n    this._emitLine('frame = ' + ((keepFrame) ? 'frame.pop();' : 'callerFrame;'));\n    this._emitLine(`return new runtime.SafeString(${bufferId});`);\n    this._emitLine('});');\n    this._popBuffer();\n\n    return funcId;\n  }\n\n  compileMacro(node, frame) {\n    var funcId = this._compileMacro(node);\n\n    // Expose the macro to the templates\n    var name = node.name.value;\n    frame.set(name, funcId);\n\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${name}\", ${funcId});`);\n    } else {\n      if (node.name.value.charAt(0) !== '_') {\n        this._emitLine(`context.addExport(\"${name}\");`);\n      }\n      this._emitLine(`context.setVariable(\"${name}\", ${funcId});`);\n    }\n  }\n\n  compileCaller(node, frame) {\n    // basically an anonymous \"macro expression\"\n    this._emit('(function (){');\n    const funcId = this._compileMacro(node, frame);\n    this._emit(`return ${funcId};})()`);\n  }\n\n  _compileGetTemplate(node, frame, eagerCompile, ignoreMissing) {\n    const parentTemplateId = this._tmpid();\n    const parentName = this._templateName();\n    const cb = this._makeCallback(parentTemplateId);\n    const eagerCompileArg = (eagerCompile) ? 'true' : 'false';\n    const ignoreMissingArg = (ignoreMissing) ? 'true' : 'false';\n    this._emit('env.getTemplate(');\n    this._compileExpression(node.template, frame);\n    this._emitLine(`, ${eagerCompileArg}, ${parentName}, ${ignoreMissingArg}, ${cb}`);\n    return parentTemplateId;\n  }\n\n  compileImport(node, frame) {\n    const target = node.target.value;\n    const id = this._compileGetTemplate(node, frame, false, false);\n    this._addScopeLevel();\n\n    this._emitLine(id + '.getExported(' +\n      (node.withContext ? 'context.getVariables(), frame, ' : '') +\n      this._makeCallback(id));\n    this._addScopeLevel();\n\n    frame.set(target, id);\n\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${target}\", ${id});`);\n    } else {\n      this._emitLine(`context.setVariable(\"${target}\", ${id});`);\n    }\n  }\n\n  compileFromImport(node, frame) {\n    const importedId = this._compileGetTemplate(node, frame, false, false);\n    this._addScopeLevel();\n\n    this._emitLine(importedId + '.getExported(' +\n      (node.withContext ? 'context.getVariables(), frame, ' : '') +\n      this._makeCallback(importedId));\n    this._addScopeLevel();\n\n    node.names.children.forEach((nameNode) => {\n      var name;\n      var alias;\n      var id = this._tmpid();\n\n      if (nameNode instanceof nodes.Pair) {\n        name = nameNode.key.value;\n        alias = nameNode.value.value;\n      } else {\n        name = nameNode.value;\n        alias = name;\n      }\n\n      this._emitLine(`if(Object.prototype.hasOwnProperty.call(${importedId}, \"${name}\")) {`);\n      this._emitLine(`var ${id} = ${importedId}.${name};`);\n      this._emitLine('} else {');\n      this._emitLine(`cb(new Error(\"cannot import '${name}'\")); return;`);\n      this._emitLine('}');\n\n      frame.set(alias, id);\n\n      if (frame.parent) {\n        this._emitLine(`frame.set(\"${alias}\", ${id});`);\n      } else {\n        this._emitLine(`context.setVariable(\"${alias}\", ${id});`);\n      }\n    });\n  }\n\n  compileBlock(node) {\n    var id = this._tmpid();\n\n    // If we are executing outside a block (creating a top-level\n    // block), we really don't want to execute its code because it\n    // will execute twice: once when the child template runs and\n    // again when the parent template runs. Note that blocks\n    // within blocks will *always* execute immediately *and*\n    // wherever else they are invoked (like used in a parent\n    // template). This may have behavioral differences from jinja\n    // because blocks can have side effects, but it seems like a\n    // waste of performance to always execute huge top-level\n    // blocks twice\n    if (!this.inBlock) {\n      this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(\"\"); } : ');\n    }\n    this._emit(`context.getBlock(\"${node.name.value}\")`);\n    if (!this.inBlock) {\n      this._emit(')');\n    }\n    this._emitLine('(env, context, frame, runtime, ' + this._makeCallback(id));\n    this._emitLine(`${this.buffer} += ${id};`);\n    this._addScopeLevel();\n  }\n\n  compileSuper(node, frame) {\n    var name = node.blockName.value;\n    var id = node.symbol.value;\n\n    const cb = this._makeCallback(id);\n    this._emitLine(`context.getSuper(env, \"${name}\", b_${name}, frame, runtime, ${cb}`);\n    this._emitLine(`${id} = runtime.markSafe(${id});`);\n    this._addScopeLevel();\n    frame.set(id, id);\n  }\n\n  compileExtends(node, frame) {\n    var k = this._tmpid();\n\n    const parentTemplateId = this._compileGetTemplate(node, frame, true, false);\n\n    // extends is a dynamic tag and can occur within a block like\n    // `if`, so if this happens we need to capture the parent\n    // template in the top-level scope\n    this._emitLine(`parentTemplate = ${parentTemplateId}`);\n\n    this._emitLine(`for(var ${k} in parentTemplate.blocks) {`);\n    this._emitLine(`context.addBlock(${k}, parentTemplate.blocks[${k}]);`);\n    this._emitLine('}');\n\n    this._addScopeLevel();\n  }\n\n  compileInclude(node, frame) {\n    this._emitLine('var tasks = [];');\n    this._emitLine('tasks.push(');\n    this._emitLine('function(callback) {');\n    const id = this._compileGetTemplate(node, frame, false, node.ignoreMissing);\n    this._emitLine(`callback(null,${id});});`);\n    this._emitLine('});');\n\n    const id2 = this._tmpid();\n    this._emitLine('tasks.push(');\n    this._emitLine('function(template, callback){');\n    this._emitLine('template.render(context.getVariables(), frame, ' + this._makeCallback(id2));\n    this._emitLine('callback(null,' + id2 + ');});');\n    this._emitLine('});');\n\n    this._emitLine('tasks.push(');\n    this._emitLine('function(result, callback){');\n    this._emitLine(`${this.buffer} += result;`);\n    this._emitLine('callback(null);');\n    this._emitLine('});');\n    this._emitLine('env.waterfall(tasks, function(){');\n    this._addScopeLevel();\n  }\n\n  compileTemplateData(node, frame) {\n    this.compileLiteral(node, frame);\n  }\n\n  compileCapture(node, frame) {\n    // we need to temporarily override the current buffer id as 'output'\n    // so the set block writes to the capture output instead of the buffer\n    var buffer = this.buffer;\n    this.buffer = 'output';\n    this._emitLine('(function() {');\n    this._emitLine('var output = \"\";');\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n    });\n    this._emitLine('return output;');\n    this._emitLine('})()');\n    // and of course, revert back to the old buffer id\n    this.buffer = buffer;\n  }\n\n  compileOutput(node, frame) {\n    const children = node.children;\n    children.forEach(child => {\n      // TemplateData is a special case because it is never\n      // autoescaped, so simply output it for optimization\n      if (child instanceof nodes.TemplateData) {\n        if (child.value) {\n          this._emit(`${this.buffer} += `);\n          this.compileLiteral(child, frame);\n          this._emitLine(';');\n        }\n      } else {\n        this._emit(`${this.buffer} += runtime.suppressValue(`);\n        if (this.throwOnUndefined) {\n          this._emit('runtime.ensureDefined(');\n        }\n        this.compile(child, frame);\n        if (this.throwOnUndefined) {\n          this._emit(`,${node.lineno},${node.colno})`);\n        }\n        this._emit(', env.opts.autoescape);\\n');\n      }\n    });\n  }\n\n  compileRoot(node, frame) {\n    if (frame) {\n      this.fail('compileRoot: root node can\\'t have frame');\n    }\n\n    frame = new Frame();\n\n    this._emitFuncBegin(node, 'root');\n    this._emitLine('var parentTemplate = null;');\n    this._compileChildren(node, frame);\n    this._emitLine('if(parentTemplate) {');\n    this._emitLine('parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);');\n    this._emitLine('} else {');\n    this._emitLine(`cb(null, ${this.buffer});`);\n    this._emitLine('}');\n    this._emitFuncEnd(true);\n\n    this.inBlock = true;\n\n    const blockNames = [];\n\n    const blocks = node.findAll(nodes.Block);\n\n    blocks.forEach((block, i) => {\n      const name = block.name.value;\n\n      if (blockNames.indexOf(name) !== -1) {\n        throw new Error(`Block \"${name}\" defined more than once.`);\n      }\n      blockNames.push(name);\n\n      this._emitFuncBegin(block, `b_${name}`);\n\n      const tmpFrame = new Frame();\n      this._emitLine('var frame = frame.push(true);');\n      this.compile(block.body, tmpFrame);\n      this._emitFuncEnd();\n    });\n\n    this._emitLine('return {');\n\n    blocks.forEach((block, i) => {\n      const blockName = `b_${block.name.value}`;\n      this._emitLine(`${blockName}: ${blockName},`);\n    });\n\n    this._emitLine('root: root\\n};');\n  }\n\n  compile(node, frame) {\n    var _compile = this['compile' + node.typename];\n    if (_compile) {\n      _compile.call(this, node, frame);\n    } else {\n      this.fail(`compile: Cannot compile node: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n\n  getCode() {\n    return this.codebuf.join('');\n  }\n}\n\nmodule.exports = {\n  compile: function compile(src, asyncFilters, extensions, name, opts = {}) {\n    const c = new Compiler(name, opts.throwOnUndefined);\n\n    // Run the extension preprocessors against the source.\n    const preprocessors = (extensions || []).map(ext => ext.preprocess).filter(f => !!f);\n\n    const processedSrc = preprocessors.reduce((s, processor) => processor(s), src);\n\n    c.compile(transformer.transform(\n      parser.parse(processedSrc, extensions, opts),\n      asyncFilters,\n      name\n    ));\n    return c.getCode();\n  },\n\n  Compiler: Compiler\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/compiler.js","'use strict';\n\nconst path = require('path');\nconst {EmitterObj} = require('./object');\n\nmodule.exports = class Loader extends EmitterObj {\n  resolve(from, to) {\n    return path.resolve(path.dirname(from), to);\n  }\n\n  isRelative(filename) {\n    return (filename.indexOf('./') === 0 || filename.indexOf('../') === 0);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/loader.js","'use strict';\n\nconst asap = require('asap');\nconst waterfall = require('a-sync-waterfall');\nconst lib = require('./lib');\nconst compiler = require('./compiler');\nconst filters = require('./filters');\nconst {FileSystemLoader, WebLoader, PrecompiledLoader} = require('./loaders');\nconst tests = require('./tests');\nconst globals = require('./globals');\nconst {Obj, EmitterObj} = require('./object');\nconst globalRuntime = require('./runtime');\nconst {handleError, Frame} = globalRuntime;\nconst expressApp = require('./express-app');\n\n// If the user is using the async API, *always* call it\n// asynchronously even if the template was synchronous.\nfunction callbackAsap(cb, err, res) {\n  asap(() => {\n    cb(err, res);\n  });\n}\n\n/**\n * A no-op template, for use with {% include ignore missing %}\n */\nconst noopTmplSrc = {\n  type: 'code',\n  obj: {\n    root(env, context, frame, runtime, cb) {\n      try {\n        cb(null, '');\n      } catch (e) {\n        cb(handleError(e, null, null));\n      }\n    }\n  }\n};\n\nclass Environment extends EmitterObj {\n  init(loaders, opts) {\n    // The dev flag determines the trace that'll be shown on errors.\n    // If set to true, returns the full trace from the error point,\n    // otherwise will return trace starting from Template.render\n    // (the full trace from within nunjucks may confuse developers using\n    //  the library)\n    // defaults to false\n    opts = this.opts = opts || {};\n    this.opts.dev = !!opts.dev;\n\n    // The autoescape flag sets global autoescaping. If true,\n    // every string variable will be escaped by default.\n    // If false, strings can be manually escaped using the `escape` filter.\n    // defaults to true\n    this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;\n\n    // If true, this will make the system throw errors if trying\n    // to output a null or undefined value\n    this.opts.throwOnUndefined = !!opts.throwOnUndefined;\n    this.opts.trimBlocks = !!opts.trimBlocks;\n    this.opts.lstripBlocks = !!opts.lstripBlocks;\n\n    this.loaders = [];\n\n    if (!loaders) {\n      // The filesystem loader is only available server-side\n      if (FileSystemLoader) {\n        this.loaders = [new FileSystemLoader('views')];\n      } else if (WebLoader) {\n        this.loaders = [new WebLoader('/views')];\n      }\n    } else {\n      this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n    }\n\n    // It's easy to use precompiled templates: just include them\n    // before you configure nunjucks and this will automatically\n    // pick it up and use it\n    if (typeof window !== 'undefined' && window.nunjucksPrecompiled) {\n      this.loaders.unshift(\n        new PrecompiledLoader(window.nunjucksPrecompiled)\n      );\n    }\n\n    this._initLoaders();\n\n    this.globals = globals();\n    this.filters = {};\n    this.tests = {};\n    this.asyncFilters = [];\n    this.extensions = {};\n    this.extensionsList = [];\n\n    lib._entries(filters).forEach(([name, filter]) => this.addFilter(name, filter));\n    lib._entries(tests).forEach(([name, test]) => this.addTest(name, test));\n  }\n\n  _initLoaders() {\n    this.loaders.forEach((loader) => {\n      // Caching and cache busting\n      loader.cache = {};\n      if (typeof loader.on === 'function') {\n        loader.on('update', (name, fullname) => {\n          loader.cache[name] = null;\n          this.emit('update', name, fullname, loader);\n        });\n        loader.on('load', (name, source) => {\n          this.emit('load', name, source, loader);\n        });\n      }\n    });\n  }\n\n  invalidateCache() {\n    this.loaders.forEach((loader) => {\n      loader.cache = {};\n    });\n  }\n\n  addExtension(name, extension) {\n    extension.__name = name;\n    this.extensions[name] = extension;\n    this.extensionsList.push(extension);\n    return this;\n  }\n\n  removeExtension(name) {\n    var extension = this.getExtension(name);\n    if (!extension) {\n      return;\n    }\n\n    this.extensionsList = lib.without(this.extensionsList, extension);\n    delete this.extensions[name];\n  }\n\n  getExtension(name) {\n    return this.extensions[name];\n  }\n\n  hasExtension(name) {\n    return !!this.extensions[name];\n  }\n\n  addGlobal(name, value) {\n    this.globals[name] = value;\n    return this;\n  }\n\n  getGlobal(name) {\n    if (typeof this.globals[name] === 'undefined') {\n      throw new Error('global not found: ' + name);\n    }\n    return this.globals[name];\n  }\n\n  addFilter(name, func, async) {\n    var wrapped = func;\n\n    if (async) {\n      this.asyncFilters.push(name);\n    }\n    this.filters[name] = wrapped;\n    return this;\n  }\n\n  getFilter(name) {\n    if (!this.filters[name]) {\n      throw new Error('filter not found: ' + name);\n    }\n    return this.filters[name];\n  }\n\n  addTest(name, func) {\n    this.tests[name] = func;\n    return this;\n  }\n\n  getTest(name) {\n    if (!this.tests[name]) {\n      throw new Error('test not found: ' + name);\n    }\n    return this.tests[name];\n  }\n\n  resolveTemplate(loader, parentName, filename) {\n    var isRelative = (loader.isRelative && parentName) ? loader.isRelative(filename) : false;\n    return (isRelative && loader.resolve) ? loader.resolve(parentName, filename) : filename;\n  }\n\n  getTemplate(name, eagerCompile, parentName, ignoreMissing, cb) {\n    var that = this;\n    var tmpl = null;\n    if (name && name.raw) {\n      // this fixes autoescape for templates referenced in symbols\n      name = name.raw;\n    }\n\n    if (lib.isFunction(parentName)) {\n      cb = parentName;\n      parentName = null;\n      eagerCompile = eagerCompile || false;\n    }\n\n    if (lib.isFunction(eagerCompile)) {\n      cb = eagerCompile;\n      eagerCompile = false;\n    }\n\n    if (name instanceof Template) {\n      tmpl = name;\n    } else if (typeof name !== 'string') {\n      throw new Error('template names must be a string: ' + name);\n    } else {\n      for (let i = 0; i < this.loaders.length; i++) {\n        const loader = this.loaders[i];\n        tmpl = loader.cache[this.resolveTemplate(loader, parentName, name)];\n        if (tmpl) {\n          break;\n        }\n      }\n    }\n\n    if (tmpl) {\n      if (eagerCompile) {\n        tmpl.compile();\n      }\n\n      if (cb) {\n        cb(null, tmpl);\n        return undefined;\n      } else {\n        return tmpl;\n      }\n    }\n    let syncResult;\n\n    const createTemplate = (err, info) => {\n      if (!info && !err && !ignoreMissing) {\n        err = new Error('template not found: ' + name);\n      }\n\n      if (err) {\n        if (cb) {\n          cb(err);\n          return;\n        } else {\n          throw err;\n        }\n      }\n      let newTmpl;\n      if (!info) {\n        newTmpl = new Template(noopTmplSrc, this, '', eagerCompile);\n      } else {\n        newTmpl = new Template(info.src, this, info.path, eagerCompile);\n        if (!info.noCache) {\n          info.loader.cache[name] = newTmpl;\n        }\n      }\n      if (cb) {\n        cb(null, newTmpl);\n      } else {\n        syncResult = newTmpl;\n      }\n    };\n\n    lib.asyncIter(this.loaders, (loader, i, next, done) => {\n      function handle(err, src) {\n        if (err) {\n          done(err);\n        } else if (src) {\n          src.loader = loader;\n          done(null, src);\n        } else {\n          next();\n        }\n      }\n\n      // Resolve name relative to parentName\n      name = that.resolveTemplate(loader, parentName, name);\n\n      if (loader.async) {\n        loader.getSource(name, handle);\n      } else {\n        handle(null, loader.getSource(name));\n      }\n    }, createTemplate);\n\n    return syncResult;\n  }\n\n  express(app) {\n    return expressApp(this, app);\n  }\n\n  render(name, ctx, cb) {\n    if (lib.isFunction(ctx)) {\n      cb = ctx;\n      ctx = null;\n    }\n\n    // We support a synchronous API to make it easier to migrate\n    // existing code to async. This works because if you don't do\n    // anything async work, the whole thing is actually run\n    // synchronously.\n    let syncResult = null;\n\n    this.getTemplate(name, (err, tmpl) => {\n      if (err && cb) {\n        callbackAsap(cb, err);\n      } else if (err) {\n        throw err;\n      } else {\n        syncResult = tmpl.render(ctx, cb);\n      }\n    });\n\n    return syncResult;\n  }\n\n  renderString(src, ctx, opts, cb) {\n    if (lib.isFunction(opts)) {\n      cb = opts;\n      opts = {};\n    }\n    opts = opts || {};\n\n    const tmpl = new Template(src, this, opts.path);\n    return tmpl.render(ctx, cb);\n  }\n\n  waterfall(tasks, callback, forceAsync) {\n    return waterfall(tasks, callback, forceAsync);\n  }\n}\n\nclass Context extends Obj {\n  init(ctx, blocks, env) {\n    // Has to be tied to an environment so we can tap into its globals.\n    this.env = env || new Environment();\n\n    // Make a duplicate of ctx\n    this.ctx = lib.extend({}, ctx);\n\n    this.blocks = {};\n    this.exported = [];\n\n    lib.keys(blocks).forEach(name => {\n      this.addBlock(name, blocks[name]);\n    });\n  }\n\n  lookup(name) {\n    // This is one of the most called functions, so optimize for\n    // the typical case where the name isn't in the globals\n    if (name in this.env.globals && !(name in this.ctx)) {\n      return this.env.globals[name];\n    } else {\n      return this.ctx[name];\n    }\n  }\n\n  setVariable(name, val) {\n    this.ctx[name] = val;\n  }\n\n  getVariables() {\n    return this.ctx;\n  }\n\n  addBlock(name, block) {\n    this.blocks[name] = this.blocks[name] || [];\n    this.blocks[name].push(block);\n    return this;\n  }\n\n  getBlock(name) {\n    if (!this.blocks[name]) {\n      throw new Error('unknown block \"' + name + '\"');\n    }\n\n    return this.blocks[name][0];\n  }\n\n  getSuper(env, name, block, frame, runtime, cb) {\n    var idx = lib.indexOf(this.blocks[name] || [], block);\n    var blk = this.blocks[name][idx + 1];\n    var context = this;\n\n    if (idx === -1 || !blk) {\n      throw new Error('no super block available for \"' + name + '\"');\n    }\n\n    blk(env, context, frame, runtime, cb);\n  }\n\n  addExport(name) {\n    this.exported.push(name);\n  }\n\n  getExported() {\n    var exported = {};\n    this.exported.forEach((name) => {\n      exported[name] = this.ctx[name];\n    });\n    return exported;\n  }\n}\n\nclass Template extends Obj {\n  init(src, env, path, eagerCompile) {\n    this.env = env || new Environment();\n\n    if (lib.isObject(src)) {\n      switch (src.type) {\n        case 'code':\n          this.tmplProps = src.obj;\n          break;\n        case 'string':\n          this.tmplStr = src.obj;\n          break;\n        default:\n          throw new Error(\n            `Unexpected template object type ${src.type}; expected 'code', or 'string'`);\n      }\n    } else if (lib.isString(src)) {\n      this.tmplStr = src;\n    } else {\n      throw new Error('src must be a string or an object describing the source');\n    }\n\n    this.path = path;\n\n    if (eagerCompile) {\n      try {\n        this._compile();\n      } catch (err) {\n        throw lib._prettifyError(this.path, this.env.opts.dev, err);\n      }\n    } else {\n      this.compiled = false;\n    }\n  }\n\n  render(ctx, parentFrame, cb) {\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    } else if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // If there is a parent frame, we are being called from internal\n    // code of another template, and the internal system\n    // depends on the sync/async nature of the parent template\n    // to be inherited, so force an async callback\n    const forceAsync = !parentFrame;\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      const err = lib._prettifyError(this.path, this.env.opts.dev, e);\n      if (cb) {\n        return callbackAsap(cb, err);\n      } else {\n        throw err;\n      }\n    }\n\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    const frame = parentFrame ? parentFrame.push(true) : new Frame();\n    frame.topLevel = true;\n    let syncResult = null;\n    let didError = false;\n\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err, res) => {\n      // TODO: this is actually a bug in the compiled template (because waterfall\n      // tasks are both not passing errors up the chain of callbacks AND are not\n      // causing a return from the top-most render function). But fixing that\n      // will require a more substantial change to the compiler.\n      if (didError && cb && typeof res !== 'undefined') {\n        // prevent multiple calls to cb\n        return;\n      }\n\n      if (err) {\n        err = lib._prettifyError(this.path, this.env.opts.dev, err);\n        didError = true;\n      }\n\n      if (cb) {\n        if (forceAsync) {\n          callbackAsap(cb, err, res);\n        } else {\n          cb(err, res);\n        }\n      } else {\n        if (err) {\n          throw err;\n        }\n        syncResult = res;\n      }\n    });\n\n    return syncResult;\n  }\n\n\n  getExported(ctx, parentFrame, cb) { // eslint-disable-line consistent-return\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    }\n\n    if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      if (cb) {\n        return cb(e);\n      } else {\n        throw e;\n      }\n    }\n\n    const frame = parentFrame ? parentFrame.push() : new Frame();\n    frame.topLevel = true;\n\n    // Run the rootRenderFunc to populate the context with exported vars\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err) => {\n      if (err) {\n        cb(err, null);\n      } else {\n        cb(null, context.getExported());\n      }\n    });\n  }\n\n  compile() {\n    if (!this.compiled) {\n      this._compile();\n    }\n  }\n\n  _compile() {\n    var props;\n\n    if (this.tmplProps) {\n      props = this.tmplProps;\n    } else {\n      const source = compiler.compile(this.tmplStr,\n        this.env.asyncFilters,\n        this.env.extensionsList,\n        this.path,\n        this.env.opts);\n\n      const func = new Function(source); // eslint-disable-line no-new-func\n      props = func();\n    }\n\n    this.blocks = this._getBlocks(props);\n    this.rootRenderFunc = props.root;\n    this.compiled = true;\n  }\n\n  _getBlocks(props) {\n    var blocks = {};\n\n    lib.keys(props).forEach((k) => {\n      if (k.slice(0, 2) === 'b_') {\n        blocks[k.slice(2)] = props[k];\n      }\n    });\n\n    return blocks;\n  }\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/environment.js","'use strict';\n\nvar lexer = require('./lexer');\nvar nodes = require('./nodes');\nvar Obj = require('./object').Obj;\nvar lib = require('./lib');\n\nclass Parser extends Obj {\n  init(tokens) {\n    this.tokens = tokens;\n    this.peeked = null;\n    this.breakOnBlocks = null;\n    this.dropLeadingWhitespace = false;\n\n    this.extensions = [];\n  }\n\n  nextToken(withWhitespace) {\n    var tok;\n\n    if (this.peeked) {\n      if (!withWhitespace && this.peeked.type === lexer.TOKEN_WHITESPACE) {\n        this.peeked = null;\n      } else {\n        tok = this.peeked;\n        this.peeked = null;\n        return tok;\n      }\n    }\n\n    tok = this.tokens.nextToken();\n\n    if (!withWhitespace) {\n      while (tok && tok.type === lexer.TOKEN_WHITESPACE) {\n        tok = this.tokens.nextToken();\n      }\n    }\n\n    return tok;\n  }\n\n  peekToken() {\n    this.peeked = this.peeked || this.nextToken();\n    return this.peeked;\n  }\n\n  pushToken(tok) {\n    if (this.peeked) {\n      throw new Error('pushToken: can only push one token on between reads');\n    }\n    this.peeked = tok;\n  }\n\n  error(msg, lineno, colno) {\n    if (lineno === undefined || colno === undefined) {\n      const tok = this.peekToken() || {};\n      lineno = tok.lineno;\n      colno = tok.colno;\n    }\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n    return new lib.TemplateError(msg, lineno, colno);\n  }\n\n  fail(msg, lineno, colno) {\n    throw this.error(msg, lineno, colno);\n  }\n\n  skip(type) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n\n  expect(type) {\n    var tok = this.nextToken();\n    if (tok.type !== type) {\n      this.fail('expected ' + type + ', got ' + tok.type,\n        tok.lineno,\n        tok.colno);\n    }\n    return tok;\n  }\n\n  skipValue(type, val) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type || tok.value !== val) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n\n  skipSymbol(val) {\n    return this.skipValue(lexer.TOKEN_SYMBOL, val);\n  }\n\n  advanceAfterBlockEnd(name) {\n    var tok;\n    if (!name) {\n      tok = this.peekToken();\n\n      if (!tok) {\n        this.fail('unexpected end of file');\n      }\n\n      if (tok.type !== lexer.TOKEN_SYMBOL) {\n        this.fail('advanceAfterBlockEnd: expected symbol token or ' +\n          'explicit name to be passed');\n      }\n\n      name = this.nextToken().value;\n    }\n\n    tok = this.nextToken();\n\n    if (tok && tok.type === lexer.TOKEN_BLOCK_END) {\n      if (tok.value.charAt(0) === '-') {\n        this.dropLeadingWhitespace = true;\n      }\n    } else {\n      this.fail('expected block end in ' + name + ' statement');\n    }\n\n    return tok;\n  }\n\n  advanceAfterVariableEnd() {\n    var tok = this.nextToken();\n\n    if (tok && tok.type === lexer.TOKEN_VARIABLE_END) {\n      this.dropLeadingWhitespace = tok.value.charAt(\n        tok.value.length - this.tokens.tags.VARIABLE_END.length - 1\n      ) === '-';\n    } else {\n      this.pushToken(tok);\n      this.fail('expected variable end');\n    }\n  }\n\n  parseFor() {\n    var forTok = this.peekToken();\n    var node;\n    var endBlock;\n\n    if (this.skipSymbol('for')) {\n      node = new nodes.For(forTok.lineno, forTok.colno);\n      endBlock = 'endfor';\n    } else if (this.skipSymbol('asyncEach')) {\n      node = new nodes.AsyncEach(forTok.lineno, forTok.colno);\n      endBlock = 'endeach';\n    } else if (this.skipSymbol('asyncAll')) {\n      node = new nodes.AsyncAll(forTok.lineno, forTok.colno);\n      endBlock = 'endall';\n    } else {\n      this.fail('parseFor: expected for{Async}', forTok.lineno, forTok.colno);\n    }\n\n    node.name = this.parsePrimary();\n\n    if (!(node.name instanceof nodes.Symbol)) {\n      this.fail('parseFor: variable name expected for loop');\n    }\n\n    const type = this.peekToken().type;\n    if (type === lexer.TOKEN_COMMA) {\n      // key/value iteration\n      const key = node.name;\n      node.name = new nodes.Array(key.lineno, key.colno);\n      node.name.addChild(key);\n\n      while (this.skip(lexer.TOKEN_COMMA)) {\n        const prim = this.parsePrimary();\n        node.name.addChild(prim);\n      }\n    }\n\n    if (!this.skipSymbol('in')) {\n      this.fail('parseFor: expected \"in\" keyword for loop',\n        forTok.lineno,\n        forTok.colno);\n    }\n\n    node.arr = this.parseExpression();\n    this.advanceAfterBlockEnd(forTok.value);\n\n    node.body = this.parseUntilBlocks(endBlock, 'else');\n\n    if (this.skipSymbol('else')) {\n      this.advanceAfterBlockEnd('else');\n      node.else_ = this.parseUntilBlocks(endBlock);\n    }\n\n    this.advanceAfterBlockEnd();\n\n    return node;\n  }\n\n  parseMacro() {\n    const macroTok = this.peekToken();\n    if (!this.skipSymbol('macro')) {\n      this.fail('expected macro');\n    }\n\n    const name = this.parsePrimary(true);\n    const args = this.parseSignature();\n    const node = new nodes.Macro(macroTok.lineno, macroTok.colno, name, args);\n\n    this.advanceAfterBlockEnd(macroTok.value);\n    node.body = this.parseUntilBlocks('endmacro');\n    this.advanceAfterBlockEnd();\n\n    return node;\n  }\n\n  parseCall() {\n    // a call block is parsed as a normal FunCall, but with an added\n    // 'caller' kwarg which is a Caller node.\n    var callTok = this.peekToken();\n    if (!this.skipSymbol('call')) {\n      this.fail('expected call');\n    }\n\n    const callerArgs = this.parseSignature(true) || new nodes.NodeList();\n    const macroCall = this.parsePrimary();\n\n    this.advanceAfterBlockEnd(callTok.value);\n    const body = this.parseUntilBlocks('endcall');\n    this.advanceAfterBlockEnd();\n\n    const callerName = new nodes.Symbol(callTok.lineno,\n      callTok.colno,\n      'caller');\n    const callerNode = new nodes.Caller(callTok.lineno,\n      callTok.colno,\n      callerName,\n      callerArgs,\n      body);\n\n    // add the additional caller kwarg, adding kwargs if necessary\n    const args = macroCall.args.children;\n    if (!(args[args.length - 1] instanceof nodes.KeywordArgs)) {\n      args.push(new nodes.KeywordArgs());\n    }\n    const kwargs = args[args.length - 1];\n    kwargs.addChild(new nodes.Pair(callTok.lineno,\n      callTok.colno,\n      callerName,\n      callerNode));\n\n    return new nodes.Output(callTok.lineno,\n      callTok.colno,\n      [macroCall]);\n  }\n\n  parseWithContext() {\n    var tok = this.peekToken();\n\n    var withContext = null;\n\n    if (this.skipSymbol('with')) {\n      withContext = true;\n    } else if (this.skipSymbol('without')) {\n      withContext = false;\n    }\n\n    if (withContext !== null) {\n      if (!this.skipSymbol('context')) {\n        this.fail('parseFrom: expected context after with/without',\n          tok.lineno,\n          tok.colno);\n      }\n    }\n\n    return withContext;\n  }\n\n  parseImport() {\n    var importTok = this.peekToken();\n    if (!this.skipSymbol('import')) {\n      this.fail('parseImport: expected import',\n        importTok.lineno,\n        importTok.colno);\n    }\n\n    const template = this.parseExpression();\n\n    if (!this.skipSymbol('as')) {\n      this.fail('parseImport: expected \"as\" keyword',\n        importTok.lineno,\n        importTok.colno);\n    }\n\n    const target = this.parseExpression();\n    const withContext = this.parseWithContext();\n    const node = new nodes.Import(importTok.lineno,\n      importTok.colno,\n      template,\n      target,\n      withContext);\n\n    this.advanceAfterBlockEnd(importTok.value);\n\n    return node;\n  }\n\n  parseFrom() {\n    const fromTok = this.peekToken();\n    if (!this.skipSymbol('from')) {\n      this.fail('parseFrom: expected from');\n    }\n\n    const template = this.parseExpression();\n\n    if (!this.skipSymbol('import')) {\n      this.fail('parseFrom: expected import',\n        fromTok.lineno,\n        fromTok.colno);\n    }\n\n    const names = new nodes.NodeList();\n    let withContext;\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const nextTok = this.peekToken();\n      if (nextTok.type === lexer.TOKEN_BLOCK_END) {\n        if (!names.children.length) {\n          this.fail('parseFrom: Expected at least one import name',\n            fromTok.lineno,\n            fromTok.colno);\n        }\n\n        // Since we are manually advancing past the block end,\n        // need to keep track of whitespace control (normally\n        // this is done in `advanceAfterBlockEnd`\n        if (nextTok.value.charAt(0) === '-') {\n          this.dropLeadingWhitespace = true;\n        }\n\n        this.nextToken();\n        break;\n      }\n\n      if (names.children.length > 0 && !this.skip(lexer.TOKEN_COMMA)) {\n        this.fail('parseFrom: expected comma',\n          fromTok.lineno,\n          fromTok.colno);\n      }\n\n      const name = this.parsePrimary();\n      if (name.value.charAt(0) === '_') {\n        this.fail('parseFrom: names starting with an underscore cannot be imported',\n          name.lineno,\n          name.colno);\n      }\n\n      if (this.skipSymbol('as')) {\n        const alias = this.parsePrimary();\n        names.addChild(new nodes.Pair(name.lineno,\n          name.colno,\n          name,\n          alias));\n      } else {\n        names.addChild(name);\n      }\n\n      withContext = this.parseWithContext();\n    }\n\n    return new nodes.FromImport(fromTok.lineno,\n      fromTok.colno,\n      template,\n      names,\n      withContext);\n  }\n\n  parseBlock() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('block')) {\n      this.fail('parseBlock: expected block', tag.lineno, tag.colno);\n    }\n\n    const node = new nodes.Block(tag.lineno, tag.colno);\n\n    node.name = this.parsePrimary();\n    if (!(node.name instanceof nodes.Symbol)) {\n      this.fail('parseBlock: variable name expected',\n        tag.lineno,\n        tag.colno);\n    }\n\n    this.advanceAfterBlockEnd(tag.value);\n\n    node.body = this.parseUntilBlocks('endblock');\n    this.skipSymbol('endblock');\n    this.skipSymbol(node.name.value);\n\n    const tok = this.peekToken();\n    if (!tok) {\n      this.fail('parseBlock: expected endblock, got end of file');\n    }\n\n    this.advanceAfterBlockEnd(tok.value);\n\n    return node;\n  }\n\n  parseExtends() {\n    const tagName = 'extends';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseTemplateRef: expected ' + tagName);\n    }\n\n    const node = new nodes.Extends(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n\n  parseInclude() {\n    const tagName = 'include';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseInclude: expected ' + tagName);\n    }\n\n    const node = new nodes.Include(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n\n    if (this.skipSymbol('ignore') && this.skipSymbol('missing')) {\n      node.ignoreMissing = true;\n    }\n\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n\n  parseIf() {\n    const tag = this.peekToken();\n    let node;\n\n    if (this.skipSymbol('if') || this.skipSymbol('elif') || this.skipSymbol('elseif')) {\n      node = new nodes.If(tag.lineno, tag.colno);\n    } else if (this.skipSymbol('ifAsync')) {\n      node = new nodes.IfAsync(tag.lineno, tag.colno);\n    } else {\n      this.fail('parseIf: expected if, elif, or elseif',\n        tag.lineno,\n        tag.colno);\n    }\n\n    node.cond = this.parseExpression();\n    this.advanceAfterBlockEnd(tag.value);\n\n    node.body = this.parseUntilBlocks('elif', 'elseif', 'else', 'endif');\n    const tok = this.peekToken();\n\n    switch (tok && tok.value) {\n      case 'elseif':\n      case 'elif':\n        node.else_ = this.parseIf();\n        break;\n      case 'else':\n        this.advanceAfterBlockEnd();\n        node.else_ = this.parseUntilBlocks('endif');\n        this.advanceAfterBlockEnd();\n        break;\n      case 'endif':\n        node.else_ = null;\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        this.fail('parseIf: expected elif, else, or endif, got end of file');\n    }\n\n    return node;\n  }\n\n  parseSet() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('set')) {\n      this.fail('parseSet: expected set', tag.lineno, tag.colno);\n    }\n\n    const node = new nodes.Set(tag.lineno, tag.colno, []);\n\n    let target;\n    while ((target = this.parsePrimary())) {\n      node.targets.push(target);\n\n      if (!this.skip(lexer.TOKEN_COMMA)) {\n        break;\n      }\n    }\n\n    if (!this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n      if (!this.skip(lexer.TOKEN_BLOCK_END)) {\n        this.fail('parseSet: expected = or block end in set tag',\n          tag.lineno,\n          tag.colno);\n      } else {\n        node.body = new nodes.Capture(\n          tag.lineno,\n          tag.colno,\n          this.parseUntilBlocks('endset')\n        );\n        node.value = null;\n        this.advanceAfterBlockEnd();\n      }\n    } else {\n      node.value = this.parseExpression();\n      this.advanceAfterBlockEnd(tag.value);\n    }\n\n    return node;\n  }\n\n  parseSwitch() {\n    /*\n     * Store the tag names in variables in case someone ever wants to\n     * customize this.\n     */\n    const switchStart = 'switch';\n    const switchEnd = 'endswitch';\n    const caseStart = 'case';\n    const caseDefault = 'default';\n\n    // Get the switch tag.\n    const tag = this.peekToken();\n\n    // fail early if we get some unexpected tag.\n    if (\n      !this.skipSymbol(switchStart)\n      && !this.skipSymbol(caseStart)\n      && !this.skipSymbol(caseDefault)\n    ) {\n      this.fail('parseSwitch: expected \"switch,\" \"case\" or \"default\"', tag.lineno, tag.colno);\n    }\n\n    // parse the switch expression\n    const expr = this.parseExpression();\n\n    // advance until a start of a case, a default case or an endswitch.\n    this.advanceAfterBlockEnd(switchStart);\n    this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n\n    // this is the first case. it could also be an endswitch, we'll check.\n    let tok = this.peekToken();\n\n    // create new variables for our cases and default case.\n    const cases = [];\n    let defaultCase;\n\n    // while we're dealing with new cases nodes...\n    do {\n      // skip the start symbol and get the case expression\n      this.skipSymbol(caseStart);\n      const cond = this.parseExpression();\n      this.advanceAfterBlockEnd(switchStart);\n      // get the body of the case node and add it to the array of cases.\n      const body = this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n      cases.push(new nodes.Case(tok.line, tok.col, cond, body));\n      // get our next case\n      tok = this.peekToken();\n    } while (tok && tok.value === caseStart);\n\n    // we either have a default case or a switch end.\n    switch (tok.value) {\n      case caseDefault:\n        this.advanceAfterBlockEnd();\n        defaultCase = this.parseUntilBlocks(switchEnd);\n        this.advanceAfterBlockEnd();\n        break;\n      case switchEnd:\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        // otherwise bail because EOF\n        this.fail('parseSwitch: expected \"case,\" \"default\" or \"endswitch,\" got EOF.');\n    }\n\n    // and return the switch node.\n    return new nodes.Switch(tag.lineno, tag.colno, expr, cases, defaultCase);\n  }\n\n  parseStatement() {\n    var tok = this.peekToken();\n    var node;\n\n    if (tok.type !== lexer.TOKEN_SYMBOL) {\n      this.fail('tag name expected', tok.lineno, tok.colno);\n    }\n\n    if (this.breakOnBlocks &&\n      lib.indexOf(this.breakOnBlocks, tok.value) !== -1) {\n      return null;\n    }\n\n    switch (tok.value) {\n      case 'raw':\n        return this.parseRaw();\n      case 'verbatim':\n        return this.parseRaw('verbatim');\n      case 'if':\n      case 'ifAsync':\n        return this.parseIf();\n      case 'for':\n      case 'asyncEach':\n      case 'asyncAll':\n        return this.parseFor();\n      case 'block':\n        return this.parseBlock();\n      case 'extends':\n        return this.parseExtends();\n      case 'include':\n        return this.parseInclude();\n      case 'set':\n        return this.parseSet();\n      case 'macro':\n        return this.parseMacro();\n      case 'call':\n        return this.parseCall();\n      case 'import':\n        return this.parseImport();\n      case 'from':\n        return this.parseFrom();\n      case 'filter':\n        return this.parseFilterStatement();\n      case 'switch':\n        return this.parseSwitch();\n      default:\n        if (this.extensions.length) {\n          for (let i = 0; i < this.extensions.length; i++) {\n            const ext = this.extensions[i];\n            if (lib.indexOf(ext.tags || [], tok.value) !== -1) {\n              return ext.parse(this, nodes, lexer);\n            }\n          }\n        }\n        this.fail('unknown block tag: ' + tok.value, tok.lineno, tok.colno);\n    }\n\n    return node;\n  }\n\n  parseRaw(tagName) {\n    tagName = tagName || 'raw';\n    const endTagName = 'end' + tagName;\n    // Look for upcoming raw blocks (ignore all other kinds of blocks)\n    const rawBlockRegex = new RegExp('([\\\\s\\\\S]*?){%\\\\s*(' + tagName + '|' + endTagName + ')\\\\s*(?=%})%}');\n    let rawLevel = 1;\n    let str = '';\n    let matches = null;\n\n    // Skip opening raw token\n    // Keep this token to track line and column numbers\n    const begun = this.advanceAfterBlockEnd();\n\n    // Exit when there's nothing to match\n    // or when we've found the matching \"endraw\" block\n    while ((matches = this.tokens._extractRegex(rawBlockRegex)) && rawLevel > 0) {\n      const all = matches[0];\n      const pre = matches[1];\n      const blockName = matches[2];\n\n      // Adjust rawlevel\n      if (blockName === tagName) {\n        rawLevel += 1;\n      } else if (blockName === endTagName) {\n        rawLevel -= 1;\n      }\n\n      // Add to str\n      if (rawLevel === 0) {\n        // We want to exclude the last \"endraw\"\n        str += pre;\n        // Move tokenizer to beginning of endraw block\n        this.tokens.backN(all.length - pre.length);\n      } else {\n        str += all;\n      }\n    }\n\n    return new nodes.Output(\n      begun.lineno,\n      begun.colno,\n      [new nodes.TemplateData(begun.lineno, begun.colno, str)]\n    );\n  }\n\n  parsePostfix(node) {\n    let lookup;\n    let tok = this.peekToken();\n\n    while (tok) {\n      if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n        // Function call\n        node = new nodes.FunCall(tok.lineno,\n          tok.colno,\n          node,\n          this.parseSignature());\n      } else if (tok.type === lexer.TOKEN_LEFT_BRACKET) {\n        // Reference\n        lookup = this.parseAggregate();\n        if (lookup.children.length > 1) {\n          this.fail('invalid index');\n        }\n\n        node = new nodes.LookupVal(tok.lineno,\n          tok.colno,\n          node,\n          lookup.children[0]);\n      } else if (tok.type === lexer.TOKEN_OPERATOR && tok.value === '.') {\n        // Reference\n        this.nextToken();\n        const val = this.nextToken();\n\n        if (val.type !== lexer.TOKEN_SYMBOL) {\n          this.fail('expected name as lookup value, got ' + val.value,\n            val.lineno,\n            val.colno);\n        }\n\n        // Make a literal string because it's not a variable\n        // reference\n        lookup = new nodes.Literal(val.lineno,\n          val.colno,\n          val.value);\n\n        node = new nodes.LookupVal(tok.lineno,\n          tok.colno,\n          node,\n          lookup);\n      } else {\n        break;\n      }\n\n      tok = this.peekToken();\n    }\n\n    return node;\n  }\n\n  parseExpression() {\n    var node = this.parseInlineIf();\n    return node;\n  }\n\n  parseInlineIf() {\n    let node = this.parseOr();\n    if (this.skipSymbol('if')) {\n      const condNode = this.parseOr();\n      const bodyNode = node;\n      node = new nodes.InlineIf(node.lineno, node.colno);\n      node.body = bodyNode;\n      node.cond = condNode;\n      if (this.skipSymbol('else')) {\n        node.else_ = this.parseOr();\n      } else {\n        node.else_ = null;\n      }\n    }\n\n    return node;\n  }\n\n  parseOr() {\n    let node = this.parseAnd();\n    while (this.skipSymbol('or')) {\n      const node2 = this.parseAnd();\n      node = new nodes.Or(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseAnd() {\n    let node = this.parseNot();\n    while (this.skipSymbol('and')) {\n      const node2 = this.parseNot();\n      node = new nodes.And(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseNot() {\n    const tok = this.peekToken();\n    if (this.skipSymbol('not')) {\n      return new nodes.Not(tok.lineno,\n        tok.colno,\n        this.parseNot());\n    }\n    return this.parseIn();\n  }\n\n  parseIn() {\n    let node = this.parseIs();\n    while (1) { // eslint-disable-line no-constant-condition\n      // check if the next token is 'not'\n      const tok = this.nextToken();\n      if (!tok) {\n        break;\n      }\n      const invert = tok.type === lexer.TOKEN_SYMBOL && tok.value === 'not';\n      // if it wasn't 'not', put it back\n      if (!invert) {\n        this.pushToken(tok);\n      }\n      if (this.skipSymbol('in')) {\n        const node2 = this.parseIs();\n        node = new nodes.In(node.lineno,\n          node.colno,\n          node,\n          node2);\n        if (invert) {\n          node = new nodes.Not(node.lineno,\n            node.colno,\n            node);\n        }\n      } else {\n        // if we'd found a 'not' but this wasn't an 'in', put back the 'not'\n        if (invert) {\n          this.pushToken(tok);\n        }\n        break;\n      }\n    }\n    return node;\n  }\n\n  // I put this right after \"in\" in the operator precedence stack. That can\n  // obviously be changed to be closer to Jinja.\n  parseIs() {\n    let node = this.parseCompare();\n    // look for an is\n    if (this.skipSymbol('is')) {\n      // look for a not\n      const not = this.skipSymbol('not');\n      // get the next node\n      const node2 = this.parseCompare();\n      // create an Is node using the next node and the info from our Is node.\n      node = new nodes.Is(node.lineno, node.colno, node, node2);\n      // if we have a Not, create a Not node from our Is node.\n      if (not) {\n        node = new nodes.Not(node.lineno, node.colno, node);\n      }\n    }\n    // return the node.\n    return node;\n  }\n\n  parseCompare() {\n    const compareOps = ['==', '===', '!=', '!==', '<', '>', '<=', '>='];\n    const expr = this.parseConcat();\n    const ops = [];\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const tok = this.nextToken();\n\n      if (!tok) {\n        break;\n      } else if (compareOps.indexOf(tok.value) !== -1) {\n        ops.push(new nodes.CompareOperand(tok.lineno,\n          tok.colno,\n          this.parseConcat(),\n          tok.value));\n      } else {\n        this.pushToken(tok);\n        break;\n      }\n    }\n\n    if (ops.length) {\n      return new nodes.Compare(ops[0].lineno,\n        ops[0].colno,\n        expr,\n        ops);\n    } else {\n      return expr;\n    }\n  }\n\n  // finds the '~' for string concatenation\n  parseConcat() {\n    let node = this.parseAdd();\n    while (this.skipValue(lexer.TOKEN_TILDE, '~')) {\n      const node2 = this.parseAdd();\n      node = new nodes.Concat(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseAdd() {\n    let node = this.parseSub();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n      const node2 = this.parseSub();\n      node = new nodes.Add(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseSub() {\n    let node = this.parseMul();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n      const node2 = this.parseMul();\n      node = new nodes.Sub(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseMul() {\n    let node = this.parseDiv();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '*')) {\n      const node2 = this.parseDiv();\n      node = new nodes.Mul(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseDiv() {\n    let node = this.parseFloorDiv();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '/')) {\n      const node2 = this.parseFloorDiv();\n      node = new nodes.Div(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseFloorDiv() {\n    let node = this.parseMod();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '//')) {\n      const node2 = this.parseMod();\n      node = new nodes.FloorDiv(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseMod() {\n    let node = this.parsePow();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '%')) {\n      const node2 = this.parsePow();\n      node = new nodes.Mod(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parsePow() {\n    let node = this.parseUnary();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '**')) {\n      const node2 = this.parseUnary();\n      node = new nodes.Pow(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseUnary(noFilters) {\n    const tok = this.peekToken();\n    let node;\n\n    if (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n      node = new nodes.Neg(tok.lineno,\n        tok.colno,\n        this.parseUnary(true));\n    } else if (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n      node = new nodes.Pos(tok.lineno,\n        tok.colno,\n        this.parseUnary(true));\n    } else {\n      node = this.parsePrimary();\n    }\n\n    if (!noFilters) {\n      node = this.parseFilter(node);\n    }\n\n    return node;\n  }\n\n  parsePrimary(noPostfix) {\n    const tok = this.nextToken();\n    let val;\n    let node = null;\n\n    if (!tok) {\n      this.fail('expected expression, got end of file');\n    } else if (tok.type === lexer.TOKEN_STRING) {\n      val = tok.value;\n    } else if (tok.type === lexer.TOKEN_INT) {\n      val = parseInt(tok.value, 10);\n    } else if (tok.type === lexer.TOKEN_FLOAT) {\n      val = parseFloat(tok.value);\n    } else if (tok.type === lexer.TOKEN_BOOLEAN) {\n      if (tok.value === 'true') {\n        val = true;\n      } else if (tok.value === 'false') {\n        val = false;\n      } else {\n        this.fail('invalid boolean: ' + tok.value,\n          tok.lineno,\n          tok.colno);\n      }\n    } else if (tok.type === lexer.TOKEN_NONE) {\n      val = null;\n    } else if (tok.type === lexer.TOKEN_REGEX) {\n      val = new RegExp(tok.value.body, tok.value.flags);\n    }\n\n    if (val !== undefined) {\n      node = new nodes.Literal(tok.lineno, tok.colno, val);\n    } else if (tok.type === lexer.TOKEN_SYMBOL) {\n      node = new nodes.Symbol(tok.lineno, tok.colno, tok.value);\n    } else {\n      // See if it's an aggregate type, we need to push the\n      // current delimiter token back on\n      this.pushToken(tok);\n      node = this.parseAggregate();\n    }\n\n    if (!noPostfix) {\n      node = this.parsePostfix(node);\n    }\n\n    if (node) {\n      return node;\n    } else {\n      throw this.error(`unexpected token: ${tok.value}`, tok.lineno, tok.colno);\n    }\n  }\n\n  parseFilterName() {\n    const tok = this.expect(lexer.TOKEN_SYMBOL);\n    let name = tok.value;\n\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '.')) {\n      name += '.' + this.expect(lexer.TOKEN_SYMBOL).value;\n    }\n\n    return new nodes.Symbol(tok.lineno, tok.colno, name);\n  }\n\n  parseFilterArgs(node) {\n    if (this.peekToken().type === lexer.TOKEN_LEFT_PAREN) {\n      // Get a FunCall node and add the parameters to the\n      // filter\n      const call = this.parsePostfix(node);\n      return call.args.children;\n    }\n    return [];\n  }\n\n  parseFilter(node) {\n    while (this.skip(lexer.TOKEN_PIPE)) {\n      const name = this.parseFilterName();\n\n      node = new nodes.Filter(\n        name.lineno,\n        name.colno,\n        name,\n        new nodes.NodeList(\n          name.lineno,\n          name.colno,\n          [node].concat(this.parseFilterArgs(node))\n        )\n      );\n    }\n\n    return node;\n  }\n\n  parseFilterStatement() {\n    var filterTok = this.peekToken();\n    if (!this.skipSymbol('filter')) {\n      this.fail('parseFilterStatement: expected filter');\n    }\n\n    const name = this.parseFilterName();\n    const args = this.parseFilterArgs(name);\n\n    this.advanceAfterBlockEnd(filterTok.value);\n    const body = new nodes.Capture(\n      name.lineno,\n      name.colno,\n      this.parseUntilBlocks('endfilter')\n    );\n    this.advanceAfterBlockEnd();\n\n    const node = new nodes.Filter(\n      name.lineno,\n      name.colno,\n      name,\n      new nodes.NodeList(\n        name.lineno,\n        name.colno,\n        [body].concat(args)\n      )\n    );\n\n    return new nodes.Output(\n      name.lineno,\n      name.colno,\n      [node]\n    );\n  }\n\n  parseAggregate() {\n    var tok = this.nextToken();\n    var node;\n\n    switch (tok.type) {\n      case lexer.TOKEN_LEFT_PAREN:\n        node = new nodes.Group(tok.lineno, tok.colno);\n        break;\n      case lexer.TOKEN_LEFT_BRACKET:\n        node = new nodes.Array(tok.lineno, tok.colno);\n        break;\n      case lexer.TOKEN_LEFT_CURLY:\n        node = new nodes.Dict(tok.lineno, tok.colno);\n        break;\n      default:\n        return null;\n    }\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const type = this.peekToken().type;\n      if (type === lexer.TOKEN_RIGHT_PAREN ||\n        type === lexer.TOKEN_RIGHT_BRACKET ||\n        type === lexer.TOKEN_RIGHT_CURLY) {\n        this.nextToken();\n        break;\n      }\n\n      if (node.children.length > 0) {\n        if (!this.skip(lexer.TOKEN_COMMA)) {\n          this.fail('parseAggregate: expected comma after expression',\n            tok.lineno,\n            tok.colno);\n        }\n      }\n\n      if (node instanceof nodes.Dict) {\n        // TODO: check for errors\n        const key = this.parsePrimary();\n\n        // We expect a key/value pair for dicts, separated by a\n        // colon\n        if (!this.skip(lexer.TOKEN_COLON)) {\n          this.fail('parseAggregate: expected colon after dict key',\n            tok.lineno,\n            tok.colno);\n        }\n\n        // TODO: check for errors\n        const value = this.parseExpression();\n        node.addChild(new nodes.Pair(key.lineno,\n          key.colno,\n          key,\n          value));\n      } else {\n        // TODO: check for errors\n        const expr = this.parseExpression();\n        node.addChild(expr);\n      }\n    }\n\n    return node;\n  }\n\n  parseSignature(tolerant, noParens) {\n    let tok = this.peekToken();\n    if (!noParens && tok.type !== lexer.TOKEN_LEFT_PAREN) {\n      if (tolerant) {\n        return null;\n      } else {\n        this.fail('expected arguments', tok.lineno, tok.colno);\n      }\n    }\n\n    if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n      tok = this.nextToken();\n    }\n\n    const args = new nodes.NodeList(tok.lineno, tok.colno);\n    const kwargs = new nodes.KeywordArgs(tok.lineno, tok.colno);\n    let checkComma = false;\n\n    while (1) { // eslint-disable-line no-constant-condition\n      tok = this.peekToken();\n      if (!noParens && tok.type === lexer.TOKEN_RIGHT_PAREN) {\n        this.nextToken();\n        break;\n      } else if (noParens && tok.type === lexer.TOKEN_BLOCK_END) {\n        break;\n      }\n\n      if (checkComma && !this.skip(lexer.TOKEN_COMMA)) {\n        this.fail('parseSignature: expected comma after expression',\n          tok.lineno,\n          tok.colno);\n      } else {\n        const arg = this.parseExpression();\n\n        if (this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n          kwargs.addChild(\n            new nodes.Pair(arg.lineno,\n              arg.colno,\n              arg,\n              this.parseExpression())\n          );\n        } else {\n          args.addChild(arg);\n        }\n      }\n\n      checkComma = true;\n    }\n\n    if (kwargs.children.length) {\n      args.addChild(kwargs);\n    }\n\n    return args;\n  }\n\n  parseUntilBlocks(...blockNames) {\n    const prev = this.breakOnBlocks;\n    this.breakOnBlocks = blockNames;\n\n    const ret = this.parse();\n\n    this.breakOnBlocks = prev;\n    return ret;\n  }\n\n  parseNodes() {\n    let tok;\n    const buf = [];\n\n    while ((tok = this.nextToken())) {\n      if (tok.type === lexer.TOKEN_DATA) {\n        let data = tok.value;\n        const nextToken = this.peekToken();\n        const nextVal = nextToken && nextToken.value;\n\n        // If the last token has \"-\" we need to trim the\n        // leading whitespace of the data. This is marked with\n        // the `dropLeadingWhitespace` variable.\n        if (this.dropLeadingWhitespace) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/^\\s*/, '');\n          this.dropLeadingWhitespace = false;\n        }\n\n        // Same for the succeeding block start token\n        if (nextToken &&\n          ((nextToken.type === lexer.TOKEN_BLOCK_START &&\n          nextVal.charAt(nextVal.length - 1) === '-') ||\n          (nextToken.type === lexer.TOKEN_VARIABLE_START &&\n          nextVal.charAt(this.tokens.tags.VARIABLE_START.length)\n          === '-') ||\n          (nextToken.type === lexer.TOKEN_COMMENT &&\n          nextVal.charAt(this.tokens.tags.COMMENT_START.length)\n          === '-'))) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/\\s*$/, '');\n        }\n\n        buf.push(new nodes.Output(tok.lineno,\n          tok.colno,\n          [new nodes.TemplateData(tok.lineno,\n            tok.colno,\n            data)]));\n      } else if (tok.type === lexer.TOKEN_BLOCK_START) {\n        this.dropLeadingWhitespace = false;\n        const n = this.parseStatement();\n        if (!n) {\n          break;\n        }\n        buf.push(n);\n      } else if (tok.type === lexer.TOKEN_VARIABLE_START) {\n        const e = this.parseExpression();\n        this.dropLeadingWhitespace = false;\n        this.advanceAfterVariableEnd();\n        buf.push(new nodes.Output(tok.lineno, tok.colno, [e]));\n      } else if (tok.type === lexer.TOKEN_COMMENT) {\n        this.dropLeadingWhitespace = tok.value.charAt(\n          tok.value.length - this.tokens.tags.COMMENT_END.length - 1\n        ) === '-';\n      } else {\n        // Ignore comments, otherwise this should be an error\n        this.fail('Unexpected token at top-level: ' +\n          tok.type, tok.lineno, tok.colno);\n      }\n    }\n\n    return buf;\n  }\n\n  parse() {\n    return new nodes.NodeList(0, 0, this.parseNodes());\n  }\n\n  parseAsRoot() {\n    return new nodes.Root(0, 0, this.parseNodes());\n  }\n}\n\n// var util = require('util');\n\n// var l = lexer.lex('{%- if x -%}\\n hello {% endif %}');\n// var t;\n// while((t = l.nextToken())) {\n//     console.log(util.inspect(t));\n// }\n\n// var p = new Parser(lexer.lex('hello {% filter title %}' +\n//                              'Hello madam how are you' +\n//                              '{% endfilter %}'));\n// var n = p.parseAsRoot();\n// nodes.printNodes(n);\n\nmodule.exports = {\n  parse(src, extensions, opts) {\n    var p = new Parser(lexer.lex(src, opts));\n    if (extensions !== undefined) {\n      p.extensions = extensions;\n    }\n    return p.parseAsRoot();\n  },\n  Parser: Parser\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/parser.js","'use strict';\n\nconst lib = require('./lib');\n\nlet whitespaceChars = ' \\n\\t\\r\\u00A0';\nlet delimChars = '()[]{}%*-+~/#,:|.<>=!';\nlet intChars = '0123456789';\n\nlet BLOCK_START = '{%';\nlet BLOCK_END = '%}';\nlet VARIABLE_START = '{{';\nlet VARIABLE_END = '}}';\nlet COMMENT_START = '{#';\nlet COMMENT_END = '#}';\n\nlet TOKEN_STRING = 'string';\nlet TOKEN_WHITESPACE = 'whitespace';\nlet TOKEN_DATA = 'data';\nlet TOKEN_BLOCK_START = 'block-start';\nlet TOKEN_BLOCK_END = 'block-end';\nlet TOKEN_VARIABLE_START = 'variable-start';\nlet TOKEN_VARIABLE_END = 'variable-end';\nlet TOKEN_COMMENT = 'comment';\nlet TOKEN_LEFT_PAREN = 'left-paren';\nlet TOKEN_RIGHT_PAREN = 'right-paren';\nlet TOKEN_LEFT_BRACKET = 'left-bracket';\nlet TOKEN_RIGHT_BRACKET = 'right-bracket';\nlet TOKEN_LEFT_CURLY = 'left-curly';\nlet TOKEN_RIGHT_CURLY = 'right-curly';\nlet TOKEN_OPERATOR = 'operator';\nlet TOKEN_COMMA = 'comma';\nlet TOKEN_COLON = 'colon';\nlet TOKEN_TILDE = 'tilde';\nlet TOKEN_PIPE = 'pipe';\nlet TOKEN_INT = 'int';\nlet TOKEN_FLOAT = 'float';\nlet TOKEN_BOOLEAN = 'boolean';\nlet TOKEN_NONE = 'none';\nlet TOKEN_SYMBOL = 'symbol';\nlet TOKEN_SPECIAL = 'special';\nlet TOKEN_REGEX = 'regex';\n\nfunction token(type, value, lineno, colno) {\n  return {\n    type: type,\n    value: value,\n    lineno: lineno,\n    colno: colno\n  };\n}\n\nclass Tokenizer {\n  constructor(str, opts) {\n    this.str = str;\n    this.index = 0;\n    this.len = str.length;\n    this.lineno = 0;\n    this.colno = 0;\n\n    this.in_code = false;\n\n    opts = opts || {};\n\n    let tags = opts.tags || {};\n    this.tags = {\n      BLOCK_START: tags.blockStart || BLOCK_START,\n      BLOCK_END: tags.blockEnd || BLOCK_END,\n      VARIABLE_START: tags.variableStart || VARIABLE_START,\n      VARIABLE_END: tags.variableEnd || VARIABLE_END,\n      COMMENT_START: tags.commentStart || COMMENT_START,\n      COMMENT_END: tags.commentEnd || COMMENT_END\n    };\n\n    this.trimBlocks = !!opts.trimBlocks;\n    this.lstripBlocks = !!opts.lstripBlocks;\n  }\n\n  nextToken() {\n    let lineno = this.lineno;\n    let colno = this.colno;\n    let tok;\n\n    if (this.in_code) {\n      // Otherwise, if we are in a block parse it as code\n      let cur = this.current();\n\n      if (this.isFinished()) {\n        // We have nothing else to parse\n        return null;\n      } else if (cur === '\"' || cur === '\\'') {\n        // We've hit a string\n        return token(TOKEN_STRING, this._parseString(cur), lineno, colno);\n      } else if ((tok = this._extract(whitespaceChars))) {\n        // We hit some whitespace\n        return token(TOKEN_WHITESPACE, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.BLOCK_END)) ||\n        (tok = this._extractString('-' + this.tags.BLOCK_END))) {\n        // Special check for the block end tag\n        //\n        // It is a requirement that start and end tags are composed of\n        // delimiter characters (%{}[] etc), and our code always\n        // breaks on delimiters so we can assume the token parsing\n        // doesn't consume these elsewhere\n        this.in_code = false;\n        if (this.trimBlocks) {\n          cur = this.current();\n          if (cur === '\\n') {\n            // Skip newline\n            this.forward();\n          } else if (cur === '\\r') {\n            // Skip CRLF newline\n            this.forward();\n            cur = this.current();\n            if (cur === '\\n') {\n              this.forward();\n            } else {\n              // Was not a CRLF, so go back\n              this.back();\n            }\n          }\n        }\n        return token(TOKEN_BLOCK_END, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_END)) ||\n        (tok = this._extractString('-' + this.tags.VARIABLE_END))) {\n        // Special check for variable end tag (see above)\n        this.in_code = false;\n        return token(TOKEN_VARIABLE_END, tok, lineno, colno);\n      } else if (cur === 'r' && this.str.charAt(this.index + 1) === '/') {\n        // Skip past 'r/'.\n        this.forwardN(2);\n\n        // Extract until the end of the regex -- / ends it, \\/ does not.\n        let regexBody = '';\n        while (!this.isFinished()) {\n          if (this.current() === '/' && this.previous() !== '\\\\') {\n            this.forward();\n            break;\n          } else {\n            regexBody += this.current();\n            this.forward();\n          }\n        }\n\n        // Check for flags.\n        // The possible flags are according to https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp)\n        let POSSIBLE_FLAGS = ['g', 'i', 'm', 'y'];\n        let regexFlags = '';\n        while (!this.isFinished()) {\n          let isCurrentAFlag = POSSIBLE_FLAGS.indexOf(this.current()) !== -1;\n          if (isCurrentAFlag) {\n            regexFlags += this.current();\n            this.forward();\n          } else {\n            break;\n          }\n        }\n\n        return token(TOKEN_REGEX, {\n          body: regexBody,\n          flags: regexFlags\n        }, lineno, colno);\n      } else if (delimChars.indexOf(cur) !== -1) {\n        // We've hit a delimiter (a special char like a bracket)\n        this.forward();\n        let complexOps = ['==', '===', '!=', '!==', '<=', '>=', '//', '**'];\n        let curComplex = cur + this.current();\n        let type;\n\n        if (lib.indexOf(complexOps, curComplex) !== -1) {\n          this.forward();\n          cur = curComplex;\n\n          // See if this is a strict equality/inequality comparator\n          if (lib.indexOf(complexOps, curComplex + this.current()) !== -1) {\n            cur = curComplex + this.current();\n            this.forward();\n          }\n        }\n\n        switch (cur) {\n          case '(':\n            type = TOKEN_LEFT_PAREN;\n            break;\n          case ')':\n            type = TOKEN_RIGHT_PAREN;\n            break;\n          case '[':\n            type = TOKEN_LEFT_BRACKET;\n            break;\n          case ']':\n            type = TOKEN_RIGHT_BRACKET;\n            break;\n          case '{':\n            type = TOKEN_LEFT_CURLY;\n            break;\n          case '}':\n            type = TOKEN_RIGHT_CURLY;\n            break;\n          case ',':\n            type = TOKEN_COMMA;\n            break;\n          case ':':\n            type = TOKEN_COLON;\n            break;\n          case '~':\n            type = TOKEN_TILDE;\n            break;\n          case '|':\n            type = TOKEN_PIPE;\n            break;\n          default:\n            type = TOKEN_OPERATOR;\n        }\n\n        return token(type, cur, lineno, colno);\n      } else {\n        // We are not at whitespace or a delimiter, so extract the\n        // text and parse it\n        tok = this._extractUntil(whitespaceChars + delimChars);\n\n        if (tok.match(/^[-+]?[0-9]+$/)) {\n          if (this.current() === '.') {\n            this.forward();\n            let dec = this._extract(intChars);\n            return token(TOKEN_FLOAT, tok + '.' + dec, lineno, colno);\n          } else {\n            return token(TOKEN_INT, tok, lineno, colno);\n          }\n        } else if (tok.match(/^(true|false)$/)) {\n          return token(TOKEN_BOOLEAN, tok, lineno, colno);\n        } else if (tok === 'none') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n        /*\n         * Added to make the test `null is null` evaluate truthily.\n         * Otherwise, Nunjucks will look up null in the context and\n         * return `undefined`, which is not what we want. This *may* have\n         * consequences is someone is using null in their templates as a\n         * variable.\n         */\n        } else if (tok === 'null') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n        } else if (tok) {\n          return token(TOKEN_SYMBOL, tok, lineno, colno);\n        } else {\n          throw new Error('Unexpected value while parsing: ' + tok);\n        }\n      }\n    } else {\n      // Parse out the template text, breaking on tag\n      // delimiters because we need to look for block/variable start\n      // tags (don't use the full delimChars for optimization)\n      let beginChars = (this.tags.BLOCK_START.charAt(0) +\n      this.tags.VARIABLE_START.charAt(0) +\n      this.tags.COMMENT_START.charAt(0) +\n      this.tags.COMMENT_END.charAt(0));\n\n      if (this.isFinished()) {\n        return null;\n      } else if ((tok = this._extractString(this.tags.BLOCK_START + '-')) ||\n        (tok = this._extractString(this.tags.BLOCK_START))) {\n        this.in_code = true;\n        return token(TOKEN_BLOCK_START, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_START + '-')) ||\n        (tok = this._extractString(this.tags.VARIABLE_START))) {\n        this.in_code = true;\n        return token(TOKEN_VARIABLE_START, tok, lineno, colno);\n      } else {\n        tok = '';\n        let data;\n        let inComment = false;\n\n        if (this._matches(this.tags.COMMENT_START)) {\n          inComment = true;\n          tok = this._extractString(this.tags.COMMENT_START);\n        }\n\n        // Continually consume text, breaking on the tag delimiter\n        // characters and checking to see if it's a start tag.\n        //\n        // We could hit the end of the template in the middle of\n        // our looping, so check for the null return value from\n        // _extractUntil\n        while ((data = this._extractUntil(beginChars)) !== null) {\n          tok += data;\n\n          if ((this._matches(this.tags.BLOCK_START) ||\n            this._matches(this.tags.VARIABLE_START) ||\n            this._matches(this.tags.COMMENT_START)) &&\n            !inComment) {\n            if (this.lstripBlocks &&\n              this._matches(this.tags.BLOCK_START) &&\n              this.colno > 0 &&\n              this.colno <= tok.length) {\n              let lastLine = tok.slice(-this.colno);\n              if (/^\\s+$/.test(lastLine)) {\n                // Remove block leading whitespace from beginning of the string\n                tok = tok.slice(0, -this.colno);\n                if (!tok.length) {\n                  // All data removed, collapse to avoid unnecessary nodes\n                  // by returning next token (block start)\n                  return this.nextToken();\n                }\n              }\n            }\n            // If it is a start tag, stop looping\n            break;\n          } else if (this._matches(this.tags.COMMENT_END)) {\n            if (!inComment) {\n              throw new Error('unexpected end of comment');\n            }\n            tok += this._extractString(this.tags.COMMENT_END);\n            break;\n          } else {\n            // It does not match any tag, so add the character and\n            // carry on\n            tok += this.current();\n            this.forward();\n          }\n        }\n\n        if (data === null && inComment) {\n          throw new Error('expected end of comment, got end of file');\n        }\n\n        return token(inComment ? TOKEN_COMMENT : TOKEN_DATA,\n          tok,\n          lineno,\n          colno);\n      }\n    }\n  }\n\n  _parseString(delimiter) {\n    this.forward();\n\n    let str = '';\n\n    while (!this.isFinished() && this.current() !== delimiter) {\n      let cur = this.current();\n\n      if (cur === '\\\\') {\n        this.forward();\n        switch (this.current()) {\n          case 'n':\n            str += '\\n';\n            break;\n          case 't':\n            str += '\\t';\n            break;\n          case 'r':\n            str += '\\r';\n            break;\n          default:\n            str += this.current();\n        }\n        this.forward();\n      } else {\n        str += cur;\n        this.forward();\n      }\n    }\n\n    this.forward();\n    return str;\n  }\n\n  _matches(str) {\n    if (this.index + str.length > this.len) {\n      return null;\n    }\n\n    let m = this.str.slice(this.index, this.index + str.length);\n    return m === str;\n  }\n\n  _extractString(str) {\n    if (this._matches(str)) {\n      this.forwardN(str.length);\n      return str;\n    }\n    return null;\n  }\n\n  _extractUntil(charString) {\n    // Extract all non-matching chars, with the default matching set\n    // to everything\n    return this._extractMatching(true, charString || '');\n  }\n\n  _extract(charString) {\n    // Extract all matching chars (no default, so charString must be\n    // explicit)\n    return this._extractMatching(false, charString);\n  }\n\n  _extractMatching(breakOnMatch, charString) {\n    // Pull out characters until a breaking char is hit.\n    // If breakOnMatch is false, a non-matching char stops it.\n    // If breakOnMatch is true, a matching char stops it.\n\n    if (this.isFinished()) {\n      return null;\n    }\n\n    let first = charString.indexOf(this.current());\n\n    // Only proceed if the first character doesn't meet our condition\n    if ((breakOnMatch && first === -1) ||\n      (!breakOnMatch && first !== -1)) {\n      let t = this.current();\n      this.forward();\n\n      // And pull out all the chars one at a time until we hit a\n      // breaking char\n      let idx = charString.indexOf(this.current());\n\n      while (((breakOnMatch && idx === -1) ||\n        (!breakOnMatch && idx !== -1)) && !this.isFinished()) {\n        t += this.current();\n        this.forward();\n\n        idx = charString.indexOf(this.current());\n      }\n\n      return t;\n    }\n\n    return '';\n  }\n\n  _extractRegex(regex) {\n    let matches = this.currentStr().match(regex);\n    if (!matches) {\n      return null;\n    }\n\n    // Move forward whatever was matched\n    this.forwardN(matches[0].length);\n\n    return matches;\n  }\n\n  isFinished() {\n    return this.index >= this.len;\n  }\n\n  forwardN(n) {\n    for (let i = 0; i < n; i++) {\n      this.forward();\n    }\n  }\n\n  forward() {\n    this.index++;\n\n    if (this.previous() === '\\n') {\n      this.lineno++;\n      this.colno = 0;\n    } else {\n      this.colno++;\n    }\n  }\n\n  backN(n) {\n    for (let i = 0; i < n; i++) {\n      this.back();\n    }\n  }\n\n  back() {\n    this.index--;\n\n    if (this.current() === '\\n') {\n      this.lineno--;\n\n      let idx = this.src.lastIndexOf('\\n', this.index - 1);\n      if (idx === -1) {\n        this.colno = this.index;\n      } else {\n        this.colno = this.index - idx;\n      }\n    } else {\n      this.colno--;\n    }\n  }\n\n  // current returns current character\n  current() {\n    if (!this.isFinished()) {\n      return this.str.charAt(this.index);\n    }\n    return '';\n  }\n\n  // currentStr returns what's left of the unparsed string\n  currentStr() {\n    if (!this.isFinished()) {\n      return this.str.substr(this.index);\n    }\n    return '';\n  }\n\n  previous() {\n    return this.str.charAt(this.index - 1);\n  }\n}\n\nmodule.exports = {\n  lex(src, opts) {\n    return new Tokenizer(src, opts);\n  },\n\n  TOKEN_STRING: TOKEN_STRING,\n  TOKEN_WHITESPACE: TOKEN_WHITESPACE,\n  TOKEN_DATA: TOKEN_DATA,\n  TOKEN_BLOCK_START: TOKEN_BLOCK_START,\n  TOKEN_BLOCK_END: TOKEN_BLOCK_END,\n  TOKEN_VARIABLE_START: TOKEN_VARIABLE_START,\n  TOKEN_VARIABLE_END: TOKEN_VARIABLE_END,\n  TOKEN_COMMENT: TOKEN_COMMENT,\n  TOKEN_LEFT_PAREN: TOKEN_LEFT_PAREN,\n  TOKEN_RIGHT_PAREN: TOKEN_RIGHT_PAREN,\n  TOKEN_LEFT_BRACKET: TOKEN_LEFT_BRACKET,\n  TOKEN_RIGHT_BRACKET: TOKEN_RIGHT_BRACKET,\n  TOKEN_LEFT_CURLY: TOKEN_LEFT_CURLY,\n  TOKEN_RIGHT_CURLY: TOKEN_RIGHT_CURLY,\n  TOKEN_OPERATOR: TOKEN_OPERATOR,\n  TOKEN_COMMA: TOKEN_COMMA,\n  TOKEN_COLON: TOKEN_COLON,\n  TOKEN_TILDE: TOKEN_TILDE,\n  TOKEN_PIPE: TOKEN_PIPE,\n  TOKEN_INT: TOKEN_INT,\n  TOKEN_FLOAT: TOKEN_FLOAT,\n  TOKEN_BOOLEAN: TOKEN_BOOLEAN,\n  TOKEN_NONE: TOKEN_NONE,\n  TOKEN_SYMBOL: TOKEN_SYMBOL,\n  TOKEN_SPECIAL: TOKEN_SPECIAL,\n  TOKEN_REGEX: TOKEN_REGEX\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/lexer.js","'use strict';\n\nconst Loader = require('./loader');\nconst {PrecompiledLoader} = require('./precompiled-loader.js');\n\nclass WebLoader extends Loader {\n  constructor(baseURL, opts) {\n    super();\n    this.baseURL = baseURL || '.';\n    opts = opts || {};\n\n    // By default, the cache is turned off because there's no way\n    // to \"watch\" templates over HTTP, so they are re-downloaded\n    // and compiled each time. (Remember, PRECOMPILE YOUR\n    // TEMPLATES in production!)\n    this.useCache = !!opts.useCache;\n\n    // We default `async` to false so that the simple synchronous\n    // API can be used when you aren't doing anything async in\n    // your templates (which is most of the time). This performs a\n    // sync ajax request, but that's ok because it should *only*\n    // happen in development. PRECOMPILE YOUR TEMPLATES.\n    this.async = !!opts.async;\n  }\n\n  resolve(from, to) {\n    throw new Error('relative templates not support in the browser yet');\n  }\n\n  getSource(name, cb) {\n    var useCache = this.useCache;\n    var result;\n    this.fetch(this.baseURL + '/' + name, (err, src) => {\n      if (err) {\n        if (cb) {\n          cb(err.content);\n        } else if (err.status === 404) {\n          result = null;\n        } else {\n          throw err.content;\n        }\n      } else {\n        result = {\n          src: src,\n          path: name,\n          noCache: !useCache\n        };\n        this.emit('load', name, result);\n        if (cb) {\n          cb(null, result);\n        }\n      }\n    });\n\n    // if this WebLoader isn't running asynchronously, the\n    // fetch above would actually run sync and we'll have a\n    // result here\n    return result;\n  }\n\n  fetch(url, cb) {\n    // Only in the browser please\n    if (typeof window === 'undefined') {\n      throw new Error('WebLoader can only by used in a browser');\n    }\n\n    const ajax = new XMLHttpRequest();\n    let loading = true;\n\n    ajax.onreadystatechange = () => {\n      if (ajax.readyState === 4 && loading) {\n        loading = false;\n        if (ajax.status === 0 || ajax.status === 200) {\n          cb(null, ajax.responseText);\n        } else {\n          cb({\n            status: ajax.status,\n            content: ajax.responseText\n          });\n        }\n      }\n    };\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + 's=' +\n    (new Date().getTime());\n\n    ajax.open('GET', url, this.async);\n    ajax.send();\n  }\n}\n\nmodule.exports = {\n  WebLoader: WebLoader,\n  PrecompiledLoader: PrecompiledLoader\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/web-loaders.js","'use strict';\n\nconst lib = require('./src/lib');\nconst {Environment, Template} = require('./src/environment');\nconst Loader = require('./src/loader');\nconst loaders = require('./src/loaders');\nconst precompile = require('./src/precompile');\nconst compiler = require('./src/compiler');\nconst parser = require('./src/parser');\nconst lexer = require('./src/lexer');\nconst runtime = require('./src/runtime');\nconst nodes = require('./src/nodes');\nconst installJinjaCompat = require('./src/jinja-compat');\n\n// A single instance of an environment, since this is so commonly used\nlet e;\n\nfunction configure(templatesPath, opts) {\n  opts = opts || {};\n  if (lib.isObject(templatesPath)) {\n    opts = templatesPath;\n    templatesPath = null;\n  }\n\n  let TemplateLoader;\n  if (loaders.FileSystemLoader) {\n    TemplateLoader = new loaders.FileSystemLoader(templatesPath, {\n      watch: opts.watch,\n      noCache: opts.noCache\n    });\n  } else if (loaders.WebLoader) {\n    TemplateLoader = new loaders.WebLoader(templatesPath, {\n      useCache: opts.web && opts.web.useCache,\n      async: opts.web && opts.web.async\n    });\n  }\n\n  e = new Environment(TemplateLoader, opts);\n\n  if (opts && opts.express) {\n    e.express(opts.express);\n  }\n\n  return e;\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template,\n  Loader: Loader,\n  FileSystemLoader: loaders.FileSystemLoader,\n  NodeResolveLoader: loaders.NodeResolveLoader,\n  PrecompiledLoader: loaders.PrecompiledLoader,\n  WebLoader: loaders.WebLoader,\n  compiler: compiler,\n  parser: parser,\n  lexer: lexer,\n  runtime: runtime,\n  lib: lib,\n  nodes: nodes,\n  installJinjaCompat: installJinjaCompat,\n  configure: configure,\n  reset() {\n    e = undefined;\n  },\n  compile(src, env, path, eagerCompile) {\n    if (!e) {\n      configure();\n    }\n    return new Template(src, env, path, eagerCompile);\n  },\n  render(name, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.render(name, ctx, cb);\n  },\n  renderString(src, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.renderString(src, ctx, cb);\n  },\n  precompile: (precompile) ? precompile.precompile : undefined,\n  precompileString: (precompile) ? precompile.precompileString : undefined,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/index.js","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-asap.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-raw.js\n// module id = 13\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 14\n// module chunks = 0","// MIT license (by Elan Shanker).\n(function(globals) {\n  'use strict';\n\n  var executeSync = function(){\n    var args = Array.prototype.slice.call(arguments);\n    if (typeof args[0] === 'function'){\n      args[0].apply(null, args.splice(1));\n    }\n  };\n\n  var executeAsync = function(fn){\n    if (typeof setImmediate === 'function') {\n      setImmediate(fn);\n    } else if (typeof process !== 'undefined' && process.nextTick) {\n      process.nextTick(fn);\n    } else {\n      setTimeout(fn, 0);\n    }\n  };\n\n  var makeIterator = function (tasks) {\n    var makeCallback = function (index) {\n      var fn = function () {\n        if (tasks.length) {\n          tasks[index].apply(null, arguments);\n        }\n        return fn.next();\n      };\n      fn.next = function () {\n        return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n      };\n      return fn;\n    };\n    return makeCallback(0);\n  };\n  \n  var _isArray = Array.isArray || function(maybeArray){\n    return Object.prototype.toString.call(maybeArray) === '[object Array]';\n  };\n\n  var waterfall = function (tasks, callback, forceAsync) {\n    var nextTick = forceAsync ? executeAsync : executeSync;\n    callback = callback || function () {};\n    if (!_isArray(tasks)) {\n      var err = new Error('First argument to waterfall must be an array of functions');\n      return callback(err);\n    }\n    if (!tasks.length) {\n      return callback();\n    }\n    var wrapIterator = function (iterator) {\n      return function (err) {\n        if (err) {\n          callback.apply(null, arguments);\n          callback = function () {};\n        } else {\n          var args = Array.prototype.slice.call(arguments, 1);\n          var next = iterator.next();\n          if (next) {\n            args.push(wrapIterator(next));\n          } else {\n            args.push(callback);\n          }\n          nextTick(function () {\n            iterator.apply(null, args);\n          });\n        }\n      };\n    };\n    wrapIterator(makeIterator(tasks))();\n  };\n\n  if (typeof define !== 'undefined' && define.amd) {\n    define([], function () {\n      return waterfall;\n    }); // RequireJS\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = waterfall; // CommonJS\n  } else {\n    globals.waterfall = waterfall; // <script>\n  }\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/a-sync-waterfall/index.js\n// module id = 15\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/node_modules/events/events.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nvar nodes = require('./nodes');\nvar lib = require('./lib');\n\nvar sym = 0;\nfunction gensym() {\n  return 'hole_' + sym++;\n}\n\n// copy-on-write version of map\nfunction mapCOW(arr, func) {\n  var res = null;\n  for (let i = 0; i < arr.length; i++) {\n    const item = func(arr[i]);\n\n    if (item !== arr[i]) {\n      if (!res) {\n        res = arr.slice();\n      }\n\n      res[i] = item;\n    }\n  }\n\n  return res || arr;\n}\n\nfunction walk(ast, func, depthFirst) {\n  if (!(ast instanceof nodes.Node)) {\n    return ast;\n  }\n\n  if (!depthFirst) {\n    const astT = func(ast);\n\n    if (astT && astT !== ast) {\n      return astT;\n    }\n  }\n\n  if (ast instanceof nodes.NodeList) {\n    const children = mapCOW(ast.children, (node) => walk(node, func, depthFirst));\n\n    if (children !== ast.children) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno, children);\n    }\n  } else if (ast instanceof nodes.CallExtension) {\n    const args = walk(ast.args, func, depthFirst);\n    const contentArgs = mapCOW(ast.contentArgs, (node) => walk(node, func, depthFirst));\n\n    if (args !== ast.args || contentArgs !== ast.contentArgs) {\n      ast = new nodes[ast.typename](ast.extName, ast.prop, args, contentArgs);\n    }\n  } else {\n    const props = ast.fields.map((field) => ast[field]);\n    const propsT = mapCOW(props, (prop) => walk(prop, func, depthFirst));\n\n    if (propsT !== props) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno);\n      propsT.forEach((prop, i) => {\n        ast[ast.fields[i]] = prop;\n      });\n    }\n  }\n\n  return depthFirst ? (func(ast) || ast) : ast;\n}\n\nfunction depthWalk(ast, func) {\n  return walk(ast, func, true);\n}\n\nfunction _liftFilters(node, asyncFilters, prop) {\n  var children = [];\n\n  var walked = depthWalk(prop ? node[prop] : node, (descNode) => {\n    let symbol;\n    if (descNode instanceof nodes.Block) {\n      return descNode;\n    } else if ((descNode instanceof nodes.Filter &&\n      lib.indexOf(asyncFilters, descNode.name.value) !== -1) ||\n      descNode instanceof nodes.CallExtensionAsync) {\n      symbol = new nodes.Symbol(descNode.lineno,\n        descNode.colno,\n        gensym());\n\n      children.push(new nodes.FilterAsync(descNode.lineno,\n        descNode.colno,\n        descNode.name,\n        descNode.args,\n        symbol));\n    }\n    return symbol;\n  });\n\n  if (prop) {\n    node[prop] = walked;\n  } else {\n    node = walked;\n  }\n\n  if (children.length) {\n    children.push(node);\n\n    return new nodes.NodeList(\n      node.lineno,\n      node.colno,\n      children\n    );\n  } else {\n    return node;\n  }\n}\n\nfunction liftFilters(ast, asyncFilters) {\n  return depthWalk(ast, (node) => {\n    if (node instanceof nodes.Output) {\n      return _liftFilters(node, asyncFilters);\n    } else if (node instanceof nodes.Set) {\n      return _liftFilters(node, asyncFilters, 'value');\n    } else if (node instanceof nodes.For) {\n      return _liftFilters(node, asyncFilters, 'arr');\n    } else if (node instanceof nodes.If) {\n      return _liftFilters(node, asyncFilters, 'cond');\n    } else if (node instanceof nodes.CallExtension) {\n      return _liftFilters(node, asyncFilters, 'args');\n    } else {\n      return undefined;\n    }\n  });\n}\n\nfunction liftSuper(ast) {\n  return walk(ast, (blockNode) => {\n    if (!(blockNode instanceof nodes.Block)) {\n      return;\n    }\n\n    let hasSuper = false;\n    const symbol = gensym();\n\n    blockNode.body = walk(blockNode.body, (node) => { // eslint-disable-line consistent-return\n      if (node instanceof nodes.FunCall && node.name.value === 'super') {\n        hasSuper = true;\n        return new nodes.Symbol(node.lineno, node.colno, symbol);\n      }\n    });\n\n    if (hasSuper) {\n      blockNode.body.children.unshift(new nodes.Super(\n        0, 0, blockNode.name, new nodes.Symbol(0, 0, symbol)\n      ));\n    }\n  });\n}\n\nfunction convertStatements(ast) {\n  return depthWalk(ast, (node) => {\n    if (!(node instanceof nodes.If) && !(node instanceof nodes.For)) {\n      return undefined;\n    }\n\n    let async = false;\n    walk(node, (child) => {\n      if (child instanceof nodes.FilterAsync ||\n        child instanceof nodes.IfAsync ||\n        child instanceof nodes.AsyncEach ||\n        child instanceof nodes.AsyncAll ||\n        child instanceof nodes.CallExtensionAsync) {\n        async = true;\n        // Stop iterating by returning the node\n        return child;\n      }\n      return undefined;\n    });\n\n    if (async) {\n      if (node instanceof nodes.If) {\n        return new nodes.IfAsync(\n          node.lineno,\n          node.colno,\n          node.cond,\n          node.body,\n          node.else_\n        );\n      } else if (node instanceof nodes.For && !(node instanceof nodes.AsyncAll)) {\n        return new nodes.AsyncEach(\n          node.lineno,\n          node.colno,\n          node.arr,\n          node.name,\n          node.body,\n          node.else_\n        );\n      }\n    }\n    return undefined;\n  });\n}\n\nfunction cps(ast, asyncFilters) {\n  return convertStatements(liftSuper(liftFilters(ast, asyncFilters)));\n}\n\nfunction transform(ast, asyncFilters) {\n  return cps(ast, asyncFilters || []);\n}\n\n// var parser = require('./parser');\n// var src = 'hello {% foo %}{% endfoo %} end';\n// var ast = transform(parser.parse(src, [new FooExtension()]), ['bar']);\n// nodes.printNodes(ast);\n\nmodule.exports = {\n  transform: transform\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/transformer.js","'use strict';\n\nvar lib = require('./lib');\nvar r = require('./runtime');\n\nvar exports = module.exports = {};\n\nfunction normalize(value, defaultValue) {\n  if (value === null || value === undefined || value === false) {\n    return defaultValue;\n  }\n  return value;\n}\n\nexports.abs = Math.abs;\n\nfunction isNaN(num) {\n  return num !== num; // eslint-disable-line no-self-compare\n}\n\nfunction batch(arr, linecount, fillWith) {\n  var i;\n  var res = [];\n  var tmp = [];\n\n  for (i = 0; i < arr.length; i++) {\n    if (i % linecount === 0 && tmp.length) {\n      res.push(tmp);\n      tmp = [];\n    }\n\n    tmp.push(arr[i]);\n  }\n\n  if (tmp.length) {\n    if (fillWith) {\n      for (i = tmp.length; i < linecount; i++) {\n        tmp.push(fillWith);\n      }\n    }\n\n    res.push(tmp);\n  }\n\n  return res;\n}\n\nexports.batch = batch;\n\nfunction capitalize(str) {\n  str = normalize(str, '');\n  const ret = str.toLowerCase();\n  return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n}\n\nexports.capitalize = capitalize;\n\nfunction center(str, width) {\n  str = normalize(str, '');\n  width = width || 80;\n\n  if (str.length >= width) {\n    return str;\n  }\n\n  const spaces = width - str.length;\n  const pre = lib.repeat(' ', (spaces / 2) - (spaces % 2));\n  const post = lib.repeat(' ', spaces / 2);\n  return r.copySafeness(str, pre + str + post);\n}\n\nexports.center = center;\n\nfunction default_(val, def, bool) {\n  if (bool) {\n    return val || def;\n  } else {\n    return (val !== undefined) ? val : def;\n  }\n}\n\n// TODO: it is confusing to export something called 'default'\nexports['default'] = default_; // eslint-disable-line dot-notation\n\nfunction dictsort(val, caseSensitive, by) {\n  if (!lib.isObject(val)) {\n    throw new lib.TemplateError('dictsort filter: val must be an object');\n  }\n\n  let array = [];\n  // deliberately include properties from the object's prototype\n  for (let k in val) { // eslint-disable-line guard-for-in, no-restricted-syntax\n    array.push([k, val[k]]);\n  }\n\n  let si;\n  if (by === undefined || by === 'key') {\n    si = 0;\n  } else if (by === 'value') {\n    si = 1;\n  } else {\n    throw new lib.TemplateError(\n      'dictsort filter: You can only sort by either key or value');\n  }\n\n  array.sort((t1, t2) => {\n    var a = t1[si];\n    var b = t2[si];\n\n    if (!caseSensitive) {\n      if (lib.isString(a)) {\n        a = a.toUpperCase();\n      }\n      if (lib.isString(b)) {\n        b = b.toUpperCase();\n      }\n    }\n\n    return a > b ? 1 : (a === b ? 0 : -1); // eslint-disable-line no-nested-ternary\n  });\n\n  return array;\n}\n\nexports.dictsort = dictsort;\n\nfunction dump(obj, spaces) {\n  return JSON.stringify(obj, null, spaces);\n}\n\nexports.dump = dump;\n\nfunction escape(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.escape = escape;\n\nfunction safe(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(str.toString());\n}\n\nexports.safe = safe;\n\nfunction first(arr) {\n  return arr[0];\n}\n\nexports.first = first;\n\nfunction forceescape(str) {\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.forceescape = forceescape;\n\nfunction groupby(arr, attr) {\n  return lib.groupBy(arr, attr, this.env.opts.throwOnUndefined);\n}\n\nexports.groupby = groupby;\n\nfunction indent(str, width, indentfirst) {\n  str = normalize(str, '');\n\n  if (str === '') {\n    return '';\n  }\n\n  width = width || 4;\n  // let res = '';\n  const lines = str.split('\\n');\n  const sp = lib.repeat(' ', width);\n\n  const res = lines.map((l, i) => {\n    return (i === 0 && !indentfirst) ? l : `${sp}${l}`;\n  }).join('\\n');\n\n  return r.copySafeness(str, res);\n}\n\nexports.indent = indent;\n\nfunction join(arr, del, attr) {\n  del = del || '';\n\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return arr.join(del);\n}\n\nexports.join = join;\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nexports.last = last;\n\nfunction lengthFilter(val) {\n  var value = normalize(val, '');\n\n  if (value !== undefined) {\n    if (\n      (typeof Map === 'function' && value instanceof Map) ||\n      (typeof Set === 'function' && value instanceof Set)\n    ) {\n      // ECMAScript 2015 Maps and Sets\n      return value.size;\n    }\n    if (lib.isObject(value) && !(value instanceof r.SafeString)) {\n      // Objects (besides SafeStrings), non-primative Arrays\n      return lib.keys(value).length;\n    }\n    return value.length;\n  }\n  return 0;\n}\n\nexports.length = lengthFilter;\n\nfunction list(val) {\n  if (lib.isString(val)) {\n    return val.split('');\n  } else if (lib.isObject(val)) {\n    return lib._entries(val || {}).map(([key, value]) => ({key, value}));\n  } else if (lib.isArray(val)) {\n    return val;\n  } else {\n    throw new lib.TemplateError('list filter: type not iterable');\n  }\n}\n\nexports.list = list;\n\nfunction lower(str) {\n  str = normalize(str, '');\n  return str.toLowerCase();\n}\n\nexports.lower = lower;\n\nfunction nl2br(str) {\n  if (str === null || str === undefined) {\n    return '';\n  }\n  return r.copySafeness(str, str.replace(/\\r\\n|\\n/g, '<br />\\n'));\n}\n\nexports.nl2br = nl2br;\n\nfunction random(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexports.random = random;\n\n/**\n * Construct select or reject filter\n *\n * @param {boolean} expectedTestResult\n * @returns {function(array, string, *): array}\n */\nfunction getSelectOrReject(expectedTestResult) {\n  function filter(arr, testName = 'truthy', secondArg) {\n    const context = this;\n    const test = context.env.getTest(testName);\n\n    return lib.toArray(arr).filter(function examineTestResult(item) {\n      return test.call(context, item, secondArg) === expectedTestResult;\n    });\n  }\n\n  return filter;\n}\n\nexports.reject = getSelectOrReject(false);\n\nfunction rejectattr(arr, attr) {\n  return arr.filter((item) => !item[attr]);\n}\n\nexports.rejectattr = rejectattr;\n\nexports.select = getSelectOrReject(true);\n\nfunction selectattr(arr, attr) {\n  return arr.filter((item) => !!item[attr]);\n}\n\nexports.selectattr = selectattr;\n\nfunction replace(str, old, new_, maxCount) {\n  var originalStr = str;\n\n  if (old instanceof RegExp) {\n    return str.replace(old, new_);\n  }\n\n  if (typeof maxCount === 'undefined') {\n    maxCount = -1;\n  }\n\n  let res = ''; // Output\n\n  // Cast Numbers in the search term to string\n  if (typeof old === 'number') {\n    old = '' + old;\n  } else if (typeof old !== 'string') {\n    // If it is something other than number or string,\n    // return the original string\n    return str;\n  }\n\n  // Cast numbers in the replacement to string\n  if (typeof str === 'number') {\n    str = '' + str;\n  }\n\n  // If by now, we don't have a string, throw it back\n  if (typeof str !== 'string' && !(str instanceof r.SafeString)) {\n    return str;\n  }\n\n  // ShortCircuits\n  if (old === '') {\n    // Mimic the python behaviour: empty string is replaced\n    // by replacement e.g. \"abc\"|replace(\"\", \".\") -> .a.b.c.\n    res = new_ + str.split('').join(new_) + new_;\n    return r.copySafeness(str, res);\n  }\n\n  let nextIndex = str.indexOf(old);\n  // if # of replacements to perform is 0, or the string to does\n  // not contain the old value, return the string\n  if (maxCount === 0 || nextIndex === -1) {\n    return str;\n  }\n\n  let pos = 0;\n  let count = 0; // # of replacements made\n\n  while (nextIndex > -1 && (maxCount === -1 || count < maxCount)) {\n    // Grab the next chunk of src string and add it with the\n    // replacement, to the result\n    res += str.substring(pos, nextIndex) + new_;\n    // Increment our pointer in the src string\n    pos = nextIndex + old.length;\n    count++;\n    // See if there are any more replacements to be made\n    nextIndex = str.indexOf(old, pos);\n  }\n\n  // We've either reached the end, or done the max # of\n  // replacements, tack on any remaining string\n  if (pos < str.length) {\n    res += str.substring(pos);\n  }\n\n  return r.copySafeness(originalStr, res);\n}\n\nexports.replace = replace;\n\nfunction reverse(val) {\n  var arr;\n  if (lib.isString(val)) {\n    arr = list(val);\n  } else {\n    // Copy it\n    arr = lib.map(val, v => v);\n  }\n\n  arr.reverse();\n\n  if (lib.isString(val)) {\n    return r.copySafeness(val, arr.join(''));\n  }\n  return arr;\n}\n\nexports.reverse = reverse;\n\nfunction round(val, precision, method) {\n  precision = precision || 0;\n  const factor = Math.pow(10, precision);\n  let rounder;\n\n  if (method === 'ceil') {\n    rounder = Math.ceil;\n  } else if (method === 'floor') {\n    rounder = Math.floor;\n  } else {\n    rounder = Math.round;\n  }\n\n  return rounder(val * factor) / factor;\n}\n\nexports.round = round;\n\nfunction slice(arr, slices, fillWith) {\n  const sliceLength = Math.floor(arr.length / slices);\n  const extra = arr.length % slices;\n  const res = [];\n  let offset = 0;\n\n  for (let i = 0; i < slices; i++) {\n    const start = offset + (i * sliceLength);\n    if (i < extra) {\n      offset++;\n    }\n    const end = offset + ((i + 1) * sliceLength);\n\n    const currSlice = arr.slice(start, end);\n    if (fillWith && i >= extra) {\n      currSlice.push(fillWith);\n    }\n    res.push(currSlice);\n  }\n\n  return res;\n}\n\nexports.slice = slice;\n\nfunction sum(arr, attr, start = 0) {\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return start + arr.reduce((a, b) => a + b, 0);\n}\n\nexports.sum = sum;\n\nexports.sort = r.makeMacro(\n  ['value', 'reverse', 'case_sensitive', 'attribute'], [],\n  function sortFilter(arr, reversed, caseSens, attr) {\n    // Copy it\n    let array = lib.map(arr, v => v);\n    let getAttribute = lib.getAttrGetter(attr);\n\n    array.sort((a, b) => {\n      let x = (attr) ? getAttribute(a) : a;\n      let y = (attr) ? getAttribute(b) : b;\n\n      if (\n        this.env.opts.throwOnUndefined &&\n        attr && (x === undefined || y === undefined)\n      ) {\n        throw new TypeError(`sort: attribute \"${attr}\" resolved to undefined`);\n      }\n\n      if (!caseSens && lib.isString(x) && lib.isString(y)) {\n        x = x.toLowerCase();\n        y = y.toLowerCase();\n      }\n\n      if (x < y) {\n        return reversed ? 1 : -1;\n      } else if (x > y) {\n        return reversed ? -1 : 1;\n      } else {\n        return 0;\n      }\n    });\n\n    return array;\n  });\n\nfunction string(obj) {\n  return r.copySafeness(obj, obj);\n}\n\nexports.string = string;\n\nfunction striptags(input, preserveLinebreaks) {\n  input = normalize(input, '');\n  let tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>|<!--[\\s\\S]*?-->/gi;\n  let trimmedInput = trim(input.replace(tags, ''));\n  let res = '';\n  if (preserveLinebreaks) {\n    res = trimmedInput\n      .replace(/^ +| +$/gm, '') // remove leading and trailing spaces\n      .replace(/ +/g, ' ') // squash adjacent spaces\n      .replace(/(\\r\\n)/g, '\\n') // normalize linebreaks (CRLF -> LF)\n      .replace(/\\n\\n\\n+/g, '\\n\\n'); // squash abnormal adjacent linebreaks\n  } else {\n    res = trimmedInput.replace(/\\s+/gi, ' ');\n  }\n  return r.copySafeness(input, res);\n}\n\nexports.striptags = striptags;\n\nfunction title(str) {\n  str = normalize(str, '');\n  let words = str.split(' ').map(word => capitalize(word));\n  return r.copySafeness(str, words.join(' '));\n}\n\nexports.title = title;\n\nfunction trim(str) {\n  return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n}\n\nexports.trim = trim;\n\nfunction truncate(input, length, killwords, end) {\n  var orig = input;\n  input = normalize(input, '');\n  length = length || 255;\n\n  if (input.length <= length) {\n    return input;\n  }\n\n  if (killwords) {\n    input = input.substring(0, length);\n  } else {\n    let idx = input.lastIndexOf(' ', length);\n    if (idx === -1) {\n      idx = length;\n    }\n\n    input = input.substring(0, idx);\n  }\n\n  input += (end !== undefined && end !== null) ? end : '...';\n  return r.copySafeness(orig, input);\n}\n\nexports.truncate = truncate;\n\nfunction upper(str) {\n  str = normalize(str, '');\n  return str.toUpperCase();\n}\n\nexports.upper = upper;\n\nfunction urlencode(obj) {\n  var enc = encodeURIComponent;\n  if (lib.isString(obj)) {\n    return enc(obj);\n  } else {\n    let keyvals = (lib.isArray(obj)) ? obj : lib._entries(obj);\n    return keyvals.map(([k, v]) => `${enc(k)}=${enc(v)}`).join('&');\n  }\n}\n\nexports.urlencode = urlencode;\n\n// For the jinja regexp, see\n// https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\nconst puncRe = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n// from http://blog.gerv.net/2011/05/html5_email_address_regexp/\nconst emailRe = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\nconst httpHttpsRe = /^https?:\\/\\/.*$/;\nconst wwwRe = /^www\\./;\nconst tldRe = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\n\nfunction urlize(str, length, nofollow) {\n  if (isNaN(length)) {\n    length = Infinity;\n  }\n\n  const noFollowAttr = (nofollow === true ? ' rel=\"nofollow\"' : '');\n\n  const words = str.split(/(\\s+)/).filter((word) => {\n    // If the word has no length, bail. This can happen for str with\n    // trailing whitespace.\n    return word && word.length;\n  }).map((word) => {\n    var matches = word.match(puncRe);\n    var possibleUrl = (matches) ? matches[1] : word;\n    var shortUrl = possibleUrl.substr(0, length);\n\n    // url that starts with http or https\n    if (httpHttpsRe.test(possibleUrl)) {\n      return `<a href=\"${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // url that starts with www.\n    if (wwwRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // an email address of the form username@domain.tld\n    if (emailRe.test(possibleUrl)) {\n      return `<a href=\"mailto:${possibleUrl}\">${possibleUrl}</a>`;\n    }\n\n    // url that ends in .com, .org or .net that is not an email address\n    if (tldRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    return word;\n  });\n\n  return words.join('');\n}\n\nexports.urlize = urlize;\n\nfunction wordcount(str) {\n  str = normalize(str, '');\n  const words = (str) ? str.match(/\\w+/g) : null;\n  return (words) ? words.length : null;\n}\n\nexports.wordcount = wordcount;\n\nfunction float(val, def) {\n  var res = parseFloat(val);\n  return (isNaN(res)) ? def : res;\n}\n\nexports.float = float;\n\nconst intFilter = r.makeMacro(\n  ['value', 'default', 'base'],\n  [],\n  function doInt(value, defaultValue, base = 10) {\n    var res = parseInt(value, base);\n    return (isNaN(res)) ? defaultValue : res;\n  }\n);\n\nexports.int = intFilter;\n\n// Aliases\nexports.d = exports.default;\nexports.e = exports.escape;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/filters.js","'use strict';\n\nconst Loader = require('./loader');\n\nclass PrecompiledLoader extends Loader {\n  constructor(compiledTemplates) {\n    super();\n    this.precompiled = compiledTemplates || {};\n  }\n\n  getSource(name) {\n    if (this.precompiled[name]) {\n      return {\n        src: {\n          type: 'code',\n          obj: this.precompiled[name]\n        },\n        path: name\n      };\n    }\n    return null;\n  }\n}\n\nmodule.exports = {\n  PrecompiledLoader: PrecompiledLoader,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompiled-loader.js","'use strict';\n\nvar SafeString = require('./runtime').SafeString;\n\n/**\n * Returns `true` if the object is a function, otherwise `false`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction callable(value) {\n  return typeof value === 'function';\n}\n\nexports.callable = callable;\n\n/**\n * Returns `true` if the object is strictly not `undefined`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction defined(value) {\n  return value !== undefined;\n}\n\nexports.defined = defined;\n\n/**\n * Returns `true` if the operand (one) is divisble by the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction divisibleby(one, two) {\n  return (one % two) === 0;\n}\n\nexports.divisibleby = divisibleby;\n\n/**\n * Returns true if the string has been escaped (i.e., is a SafeString).\n * @param { any } value\n * @returns { boolean }\n */\nfunction escaped(value) {\n  return value instanceof SafeString;\n}\n\nexports.escaped = escaped;\n\n/**\n * Returns `true` if the arguments are strictly equal.\n * @param { any } one\n * @param { any } two\n */\nfunction equalto(one, two) {\n  return one === two;\n}\n\nexports.equalto = equalto;\n\n// Aliases\nexports.eq = exports.equalto;\nexports.sameas = exports.equalto;\n\n/**\n * Returns `true` if the value is evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction even(value) {\n  return value % 2 === 0;\n}\n\nexports.even = even;\n\n/**\n * Returns `true` if the value is falsy - if I recall correctly, '', 0, false,\n * undefined, NaN or null. I don't know if we should stick to the default JS\n * behavior or attempt to replicate what Python believes should be falsy (i.e.,\n * empty arrays, empty dicts, not 0...).\n * @param { any } value\n * @returns { boolean }\n */\nfunction falsy(value) {\n  return !value;\n}\n\nexports.falsy = falsy;\n\n/**\n * Returns `true` if the operand (one) is greater or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ge(one, two) {\n  return one >= two;\n}\n\nexports.ge = ge;\n\n/**\n * Returns `true` if the operand (one) is greater than the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction greaterthan(one, two) {\n  return one > two;\n}\n\nexports.greaterthan = greaterthan;\n\n// alias\nexports.gt = exports.greaterthan;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction le(one, two) {\n  return one <= two;\n}\n\nexports.le = le;\n\n/**\n * Returns `true` if the operand (one) is less than the test's passed argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction lessthan(one, two) {\n  return one < two;\n}\n\nexports.lessthan = lessthan;\n\n// alias\nexports.lt = exports.lessthan;\n\n/**\n * Returns `true` if the string is lowercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction lower(value) {\n  return value.toLowerCase() === value;\n}\n\nexports.lower = lower;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ne(one, two) {\n  return one !== two;\n}\n\nexports.ne = ne;\n\n/**\n * Returns true if the value is strictly equal to `null`.\n * @param { any }\n * @returns { boolean }\n */\nfunction nullTest(value) {\n  return value === null;\n}\n\nexports.null = nullTest;\n\n/**\n * Returns true if value is a number.\n * @param { any }\n * @returns { boolean }\n */\nfunction number(value) {\n  return typeof value === 'number';\n}\n\nexports.number = number;\n\n/**\n * Returns `true` if the value is *not* evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction odd(value) {\n  return value % 2 === 1;\n}\n\nexports.odd = odd;\n\n/**\n * Returns `true` if the value is a string, `false` if not.\n * @param { any } value\n * @returns { boolean }\n */\nfunction string(value) {\n  return typeof value === 'string';\n}\n\nexports.string = string;\n\n/**\n * Returns `true` if the value is not in the list of things considered falsy:\n * '', null, undefined, 0, NaN and false.\n * @param { any } value\n * @returns { boolean }\n */\nfunction truthy(value) {\n  return !!value;\n}\n\nexports.truthy = truthy;\n\n/**\n * Returns `true` if the value is undefined.\n * @param { any } value\n * @returns { boolean }\n */\nfunction undefinedTest(value) {\n  return value === undefined;\n}\n\nexports.undefined = undefinedTest;\n\n/**\n * Returns `true` if the string is uppercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction upper(value) {\n  return value.toUpperCase() === value;\n}\n\nexports.upper = upper;\n\n/**\n * If ES6 features are available, returns `true` if the value implements the\n * `Symbol.iterator` method. If not, it's a string or Array.\n *\n * Could potentially cause issues if a browser exists that has Set and Map but\n * not Symbol.\n *\n * @param { any } value\n * @returns { boolean }\n */\nfunction iterable(value) {\n  if (typeof Symbol !== 'undefined') {\n    return !!value[Symbol.iterator];\n  } else {\n    return Array.isArray(value) || typeof value === 'string';\n  }\n}\n\nexports.iterable = iterable;\n\n/**\n * If ES6 features are available, returns `true` if the value is an object hash\n * or an ES6 Map. Otherwise just return if it's an object hash.\n * @param { any } value\n * @returns { boolean }\n */\nfunction mapping(value) {\n  // only maps and object hashes\n  var bool = value !== null\n    && value !== undefined\n    && typeof value === 'object'\n    && !Array.isArray(value);\n  if (Set) {\n    return bool && !(value instanceof Set);\n  } else {\n    return bool;\n  }\n}\n\nexports.mapping = mapping;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/tests.js","'use strict';\n\nfunction cycler(items) {\n  var index = -1;\n\n  return {\n    current: null,\n    reset() {\n      index = -1;\n      this.current = null;\n    },\n\n    next() {\n      index++;\n      if (index >= items.length) {\n        index = 0;\n      }\n\n      this.current = items[index];\n      return this.current;\n    },\n  };\n}\n\nfunction joiner(sep) {\n  sep = sep || ',';\n  let first = true;\n\n  return () => {\n    const val = first ? '' : sep;\n    first = false;\n    return val;\n  };\n}\n\n// Making this a function instead so it returns a new object\n// each time it's called. That way, if something like an environment\n// uses it, they will each have their own copy.\nfunction globals() {\n  return {\n    range(start, stop, step) {\n      if (typeof stop === 'undefined') {\n        stop = start;\n        start = 0;\n        step = 1;\n      } else if (!step) {\n        step = 1;\n      }\n\n      const arr = [];\n      if (step > 0) {\n        for (let i = start; i < stop; i += step) {\n          arr.push(i);\n        }\n      } else {\n        for (let i = start; i > stop; i += step) { // eslint-disable-line for-direction\n          arr.push(i);\n        }\n      }\n      return arr;\n    },\n\n    cycler() {\n      return cycler(Array.prototype.slice.call(arguments));\n    },\n\n    joiner(sep) {\n      return joiner(sep);\n    }\n  };\n}\n\nmodule.exports = globals;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/globals.js","const path = require('path');\n\nmodule.exports = function express(env, app) {\n  function NunjucksView(name, opts) {\n    this.name = name;\n    this.path = name;\n    this.defaultEngine = opts.defaultEngine;\n    this.ext = path.extname(name);\n    if (!this.ext && !this.defaultEngine) {\n      throw new Error('No default engine was specified and no extension was provided.');\n    }\n    if (!this.ext) {\n      this.name += (this.ext = (this.defaultEngine[0] !== '.' ? '.' : '') + this.defaultEngine);\n    }\n  }\n\n  NunjucksView.prototype.render = function render(opts, cb) {\n    env.render(this.name, opts, cb);\n  };\n\n  app.set('view', NunjucksView);\n  app.set('nunjucksEnv', env);\n  return env;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/express-app.js","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst {_prettifyError} = require('./lib');\nconst compiler = require('./compiler');\nconst {Environment} = require('./environment');\nconst precompileGlobal = require('./precompile-global');\n\nfunction match(filename, patterns) {\n  if (!Array.isArray(patterns)) {\n    return false;\n  }\n  return patterns.some((pattern) => filename.match(pattern));\n}\n\nfunction precompileString(str, opts) {\n  opts = opts || {};\n  opts.isString = true;\n  const env = opts.env || new Environment([]);\n  const wrapper = opts.wrapper || precompileGlobal;\n\n  if (!opts.name) {\n    throw new Error('the \"name\" option is required when compiling a string');\n  }\n  return wrapper([_precompile(str, opts.name, env)], opts);\n}\n\nfunction precompile(input, opts) {\n  // The following options are available:\n  //\n  // * name: name of the template (auto-generated when compiling a directory)\n  // * isString: input is a string, not a file path\n  // * asFunction: generate a callable function\n  // * force: keep compiling on error\n  // * env: the Environment to use (gets extensions and async filters from it)\n  // * include: which file/folders to include (folders are auto-included, files are auto-excluded)\n  // * exclude: which file/folders to exclude (folders are auto-included, files are auto-excluded)\n  // * wrapper: function(templates, opts) {...}\n  //       Customize the output format to store the compiled template.\n  //       By default, templates are stored in a global variable used by the runtime.\n  //       A custom loader will be necessary to load your custom wrapper.\n\n  opts = opts || {};\n  const env = opts.env || new Environment([]);\n  const wrapper = opts.wrapper || precompileGlobal;\n\n  if (opts.isString) {\n    return precompileString(input, opts);\n  }\n\n  const pathStats = fs.existsSync(input) && fs.statSync(input);\n  const precompiled = [];\n  const templates = [];\n\n  function addTemplates(dir) {\n    fs.readdirSync(dir).forEach((file) => {\n      const filepath = path.join(dir, file);\n      let subpath = filepath.substr(path.join(input, '/').length);\n      const stat = fs.statSync(filepath);\n\n      if (stat && stat.isDirectory()) {\n        subpath += '/';\n        if (!match(subpath, opts.exclude)) {\n          addTemplates(filepath);\n        }\n      } else if (match(subpath, opts.include)) {\n        templates.push(filepath);\n      }\n    });\n  }\n\n  if (pathStats.isFile()) {\n    precompiled.push(_precompile(\n      fs.readFileSync(input, 'utf-8'),\n      opts.name || input,\n      env\n    ));\n  } else if (pathStats.isDirectory()) {\n    addTemplates(input);\n\n    for (let i = 0; i < templates.length; i++) {\n      const name = templates[i].replace(path.join(input, '/'), '');\n\n      try {\n        precompiled.push(_precompile(\n          fs.readFileSync(templates[i], 'utf-8'),\n          name,\n          env\n        ));\n      } catch (e) {\n        if (opts.force) {\n          // Don't stop generating the output if we're\n          // forcing compilation.\n          console.error(e); // eslint-disable-line no-console\n        } else {\n          throw e;\n        }\n      }\n    }\n  }\n\n  return wrapper(precompiled, opts);\n}\n\nfunction _precompile(str, name, env) {\n  env = env || new Environment([]);\n\n  const asyncFilters = env.asyncFilters;\n  const extensions = env.extensionsList;\n  let template;\n\n  name = name.replace(/\\\\/g, '/');\n\n  try {\n    template = compiler.compile(str,\n      asyncFilters,\n      extensions,\n      name,\n      env.opts);\n  } catch (err) {\n    throw _prettifyError(name, false, err);\n  }\n\n  return {\n    name: name,\n    template: template\n  };\n}\n\nmodule.exports = {\n  precompile: precompile,\n  precompileString: precompileString\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompile.js","'use strict';\n\nfunction precompileGlobal(templates, opts) {\n  var out = '';\n  opts = opts || {};\n\n  for (let i = 0; i < templates.length; i++) {\n    const name = JSON.stringify(templates[i].name);\n    const template = templates[i].template;\n\n    out += '(function() {' +\n      '(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})' +\n      '[' + name + '] = (function() {\\n' + template + '\\n})();\\n';\n\n    if (opts.asFunction) {\n      out += 'return function(ctx, cb) { return nunjucks.render(' + name + ', ctx, cb); }\\n';\n    }\n\n    out += '})();\\n';\n  }\n  return out;\n}\n\nmodule.exports = precompileGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompile-global.js","function installCompat() {\n  'use strict';\n\n  /* eslint-disable camelcase */\n\n  // This must be called like `nunjucks.installCompat` so that `this`\n  // references the nunjucks instance\n  var runtime = this.runtime;\n  var lib = this.lib;\n  // Handle slim case where these 'modules' are excluded from the built source\n  var Compiler = this.compiler.Compiler;\n  var Parser = this.parser.Parser;\n  var nodes = this.nodes;\n  var lexer = this.lexer;\n\n  var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;\n  var orig_memberLookup = runtime.memberLookup;\n  var orig_Compiler_assertType;\n  var orig_Parser_parseAggregate;\n  if (Compiler) {\n    orig_Compiler_assertType = Compiler.prototype.assertType;\n  }\n  if (Parser) {\n    orig_Parser_parseAggregate = Parser.prototype.parseAggregate;\n  }\n\n  function uninstall() {\n    runtime.contextOrFrameLookup = orig_contextOrFrameLookup;\n    runtime.memberLookup = orig_memberLookup;\n    if (Compiler) {\n      Compiler.prototype.assertType = orig_Compiler_assertType;\n    }\n    if (Parser) {\n      Parser.prototype.parseAggregate = orig_Parser_parseAggregate;\n    }\n  }\n\n  runtime.contextOrFrameLookup = function contextOrFrameLookup(context, frame, key) {\n    var val = orig_contextOrFrameLookup.apply(this, arguments);\n    if (val !== undefined) {\n      return val;\n    }\n    switch (key) {\n      case 'True':\n        return true;\n      case 'False':\n        return false;\n      case 'None':\n        return null;\n      default:\n        return undefined;\n    }\n  };\n\n  function getTokensState(tokens) {\n    return {\n      index: tokens.index,\n      lineno: tokens.lineno,\n      colno: tokens.colno\n    };\n  }\n\n  if (process.env.BUILD_TYPE !== 'SLIM' && nodes && Compiler && Parser) { // i.e., not slim mode\n    const Slice = nodes.Node.extend('Slice', {\n      fields: ['start', 'stop', 'step'],\n      init(lineno, colno, start, stop, step) {\n        start = start || new nodes.Literal(lineno, colno, null);\n        stop = stop || new nodes.Literal(lineno, colno, null);\n        step = step || new nodes.Literal(lineno, colno, 1);\n        this.parent(lineno, colno, start, stop, step);\n      }\n    });\n\n    Compiler.prototype.assertType = function assertType(node) {\n      if (node instanceof Slice) {\n        return;\n      }\n      orig_Compiler_assertType.apply(this, arguments);\n    };\n    Compiler.prototype.compileSlice = function compileSlice(node, frame) {\n      this._emit('(');\n      this._compileExpression(node.start, frame);\n      this._emit('),(');\n      this._compileExpression(node.stop, frame);\n      this._emit('),(');\n      this._compileExpression(node.step, frame);\n      this._emit(')');\n    };\n\n    Parser.prototype.parseAggregate = function parseAggregate() {\n      var origState = getTokensState(this.tokens);\n      // Set back one accounting for opening bracket/parens\n      origState.colno--;\n      origState.index--;\n      try {\n        return orig_Parser_parseAggregate.apply(this);\n      } catch (e) {\n        const errState = getTokensState(this.tokens);\n        const rethrow = () => {\n          lib._assign(this.tokens, errState);\n          return e;\n        };\n\n        // Reset to state before original parseAggregate called\n        lib._assign(this.tokens, origState);\n        this.peeked = false;\n\n        const tok = this.peekToken();\n        if (tok.type !== lexer.TOKEN_LEFT_BRACKET) {\n          throw rethrow();\n        } else {\n          this.nextToken();\n        }\n\n        const node = new Slice(tok.lineno, tok.colno);\n\n        // If we don't encounter a colon while parsing, this is not a slice,\n        // so re-raise the original exception.\n        let isSlice = false;\n\n        for (let i = 0; i <= node.fields.length; i++) {\n          if (this.skip(lexer.TOKEN_RIGHT_BRACKET)) {\n            break;\n          }\n          if (i === node.fields.length) {\n            if (isSlice) {\n              this.fail('parseSlice: too many slice components', tok.lineno, tok.colno);\n            } else {\n              break;\n            }\n          }\n          if (this.skip(lexer.TOKEN_COLON)) {\n            isSlice = true;\n          } else {\n            const field = node.fields[i];\n            node[field] = this.parseExpression();\n            isSlice = this.skip(lexer.TOKEN_COLON) || isSlice;\n          }\n        }\n        if (!isSlice) {\n          throw rethrow();\n        }\n        return new nodes.Array(tok.lineno, tok.colno, [node]);\n      }\n    };\n  }\n\n  function sliceLookup(obj, start, stop, step) {\n    obj = obj || [];\n    if (start === null) {\n      start = (step < 0) ? (obj.length - 1) : 0;\n    }\n    if (stop === null) {\n      stop = (step < 0) ? -1 : obj.length;\n    } else if (stop < 0) {\n      stop += obj.length;\n    }\n\n    if (start < 0) {\n      start += obj.length;\n    }\n\n    const results = [];\n\n    for (let i = start; ; i += step) {\n      if (i < 0 || i > obj.length) {\n        break;\n      }\n      if (step > 0 && i >= stop) {\n        break;\n      }\n      if (step < 0 && i <= stop) {\n        break;\n      }\n      results.push(runtime.memberLookup(obj, i));\n    }\n    return results;\n  }\n\n  function hasOwnProp(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  }\n\n  const ARRAY_MEMBERS = {\n    pop(index) {\n      if (index === undefined) {\n        return this.pop();\n      }\n      if (index >= this.length || index < 0) {\n        throw new Error('KeyError');\n      }\n      return this.splice(index, 1);\n    },\n    append(element) {\n      return this.push(element);\n    },\n    remove(element) {\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          return this.splice(i, 1);\n        }\n      }\n      throw new Error('ValueError');\n    },\n    count(element) {\n      var count = 0;\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          count++;\n        }\n      }\n      return count;\n    },\n    index(element) {\n      var i;\n      if ((i = this.indexOf(element)) === -1) {\n        throw new Error('ValueError');\n      }\n      return i;\n    },\n    find(element) {\n      return this.indexOf(element);\n    },\n    insert(index, elem) {\n      return this.splice(index, 0, elem);\n    }\n  };\n  const OBJECT_MEMBERS = {\n    items() {\n      return lib._entries(this);\n    },\n    values() {\n      return lib._values(this);\n    },\n    keys() {\n      return lib.keys(this);\n    },\n    get(key, def) {\n      var output = this[key];\n      if (output === undefined) {\n        output = def;\n      }\n      return output;\n    },\n    has_key(key) {\n      return hasOwnProp(this, key);\n    },\n    pop(key, def) {\n      var output = this[key];\n      if (output === undefined && def !== undefined) {\n        output = def;\n      } else if (output === undefined) {\n        throw new Error('KeyError');\n      } else {\n        delete this[key];\n      }\n      return output;\n    },\n    popitem() {\n      const keys = lib.keys(this);\n      if (!keys.length) {\n        throw new Error('KeyError');\n      }\n      const k = keys[0];\n      const val = this[k];\n      delete this[k];\n      return [k, val];\n    },\n    setdefault(key, def = null) {\n      if (!(key in this)) {\n        this[key] = def;\n      }\n      return this[key];\n    },\n    update(kwargs) {\n      lib._assign(this, kwargs);\n      return null; // Always returns None\n    }\n  };\n  OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;\n  OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;\n  OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;\n\n  runtime.memberLookup = function memberLookup(obj, val, autoescape) {\n    if (arguments.length === 4) {\n      return sliceLookup.apply(this, arguments);\n    }\n    obj = obj || {};\n\n    // If the object is an object, return any of the methods that Python would\n    // otherwise provide.\n    if (lib.isArray(obj) && hasOwnProp(ARRAY_MEMBERS, val)) {\n      return ARRAY_MEMBERS[val].bind(obj);\n    }\n    if (lib.isObject(obj) && hasOwnProp(OBJECT_MEMBERS, val)) {\n      return OBJECT_MEMBERS[val].bind(obj);\n    }\n\n    return orig_memberLookup.apply(this, arguments);\n  };\n\n  return uninstall;\n}\n\nmodule.exports = installCompat;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/jinja-compat.js"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}